<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
GARP PARTY - New Strategy Development Thread
</title>
<meta content='Hi All, TL;DR  I will post and track my progress in developing a new L/S equity strategy in this thread. In  the excellent tearsheet review webinar  last week, I heard Jess&#39; message on the pitfalls of overfitting loud and clear, and similar to others (@Olive Coyote, @Leo M., etc) I&#39;ve decided to take this fully onboard. Therefore, rather than trying to reduce the likelihood of overfitting in my original PARTY algo (which I may come back to at a later date), I&#39;ve decided to start from scratch...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="7n8QC4bHlY4PCgfqJNL3LhwsPz1kXS/uIyltCBciGgGSGWZGJDFHbbYXXttrPV9aJKIcVB6ROvWhJrZivWd4ug==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/garp-party-new-strategy-development-thread' property='og:url'>
<meta content='GARP PARTY - New Strategy Development Thread' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/garp-party-new-strategy-development-thread' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='GARP PARTY - New Strategy Development Thread' property='og:title'>
<meta content='Hi All, TL;DR  I will post and track my progress in developing a new L/S equity strategy in this thread. In  the excellent tearsheet review webinar  last week, I heard Jess&#39; message on the pitfalls of overfitting loud and clear, and similar to others (@Olive Coyote, @Leo M., etc) I&#39;ve decided to take this fully onboard. Therefore, rather than trying to reduce the likelihood of overfitting in my original PARTY algo (which I may come back to at a later date), I&#39;ve decided to start from scratch...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/garp-party-new-strategy-development-thread">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5b5e5b76f6f6db003e7c3faa'>
<div class='post-container' data-post-id='5b5e5b76f6f6db003e7c3faa' id='5b5e5b76f6f6db003e7c3faa'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>GARP PARTY - New Strategy Development Thread</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1534891643000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=GARP PARTY - New Strategy Development Thread&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fgarp-party-new-strategy-development-thread%3Futm_source%3Dwebsite_share%26utm_campaign%3Dgarp-party-strategy-development-thread%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fgarp-party-new-strategy-development-thread%3Futm_source%3Dwebsite_share%26utm_campaign%3Dgarp-party-strategy-development-thread%26utm_medium%3Dlinkedin&amp;title=GARP+PARTY+-+New+Strategy+Development+Thread+%28Joakim+Arvidsson+%28Cream+Mongoose%29%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Contest' data-tag-id='55c50e7d8d4710ec6e000006' href='/posts/tag/Contest/newest'>Contest</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Research' data-tag-id='55c50e7d8d4710ec6e000018' href='/posts/tag/Research/newest'>Research</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Statistics' data-tag-id='55d33f923f6ba1005d000001' href='/posts/tag/Statistics/newest'>Statistics</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/garp-party-new-strategy-development-thread?utm_source=website_share&amp;utm_campaign=garp-party-strategy-development-thread&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Joakim Arvidsson (Cream Mongoose)" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Hi All,</p>

<p><strong>TL;DR</strong> I will post and track my progress in developing a new L/S equity strategy in this thread.</p>

<p>In <a href="https://www.youtube.com/watch?v=tGnLqg_5TBk&list=PLRFLF1OxMm_VdDSn1BVd7bGKGak5Uss89&index=1" rel="nofollow">the excellent tearsheet review webinar</a> last week, I heard Jess&#39; message on the pitfalls of overfitting loud and clear, and similar to others (@Olive Coyote, @Leo M., etc) I&#39;ve decided to take this fully onboard.</p>

<p>Therefore, rather than trying to reduce the likelihood of overfitting in my original PARTY algo (which I may come back to at a later date), I&#39;ve decided to start from scratch on a new strategy with a different (albeit with some similarities) economic hypothesis. I plan to track progress of my development in this thread. Feel free to post any constructive critical feedback, words of encouragement, or just stop by and say &#39;Hi.&#39; :o)</p>

<p><strong>Primary Objective:</strong> To minimize the likelihood of overfitting in a from-the-ground-up developed strategy that meets all of Q&#39;s contest criteria.</p>

<p><strong>Secondary Objectives:</strong></p>

<ul>
<li>Scalable strategy in terms of position concentration: &gt;400 positions<br>
each side (minimum)<br></li>
<li>Scalable strategy in terms of capital deployed: &gt;10MM (minimum)<br></li>
<li>Daily Turnover: 5% &lt; Average &amp; Max &gt; 20% (the closer to 5% the<br>
better)<br></li>
<li>Minimum Volatility: As close to 2% (annualized) as possible, but not<br>
below<br></li>
<li>Beta to SPY: As close to 0 as possible<br></li>
<li>Beta to Peers: As close to 0 as possible (currently impossible to<br>
check)<br></li>
<li>Sector Exposure: Minimal individual sector exposure before<br>
constraining (aspirational)<br></li>
<li>Style Exposure: Minimal individual style exposure before constraining (aspirational)</li>
</ul>

<p><strong>Requirements to achieve Objectives</strong>:</p>

<p>Only In-sample data will be used in researching and discovering alpha factors (data holdback).<br>
No back-testing will be done until alpha factors have been completely researched and understood.</p>

<p><em>In-sample timeseries selected</em>: 06-15-2015 to 07-15-2017 (09-15-2017 including 2 months of future returns)<br>
<em>1st OOS AL test period</em>: 06-15-2007 to 07-15-2009 (09-15-2009 including 2 months of future returns)<br>
<em>2nd OOS AL test period</em>: TBD</p>

<p><em>Final OOS time-series selected</em> (for final backtest): 07-16-2017 to Present</p>

<p>Trading costs: Q&#39;s default commission and slippage</p>

<p><strong>Strategy Development Life Cycle:</strong></p>

<ol>
<li>Economic Hypothesis - Completed (GARP)<br></li>
<li>Data Selection - Completed (Morningstar Fundamentals &amp; OHLCV)<br></li>
<li>Universe Definition - Completed (Base Universe = QTradableStocksUS)<br></li>
<li>Alpha Factor Research &amp; Discovery - In Progress<br></li>
<li>Alpha Factor Combination<br></li>
<li>Risk Constraints Selection<br></li>
<li>Strategy Backtesting<br></li>
<li>Backtest Analysis</li>
</ol>

<p><img src="https://image-proxy.quantopian.com/958ca47e10e3700ece4e0e81792443331a8895fa/68747470733a2f2f692e696d6775722e636f6d2f7a6230635039762e6a7067" />  </p>

<p><strong>A few notes on the above:</strong> </p>

<ul>
<li>#4 will be done exclusively in the Research environment.<br></li>
<li>I anticipate spending most of my time on #4, using mostly Alphalens. This may take weeks, and completion of the strategy may take months.<br></li>
<li>The selected In-sample time-series will be used to train my initial models in #4.<br></li>
<li>The selected OOS time-series, for testing my trained model in AL, will become part of the In-Sample training period after it&#39;s been used to test a model OOS.<br></li>
<li>The final OOS time-series (for backtesting) will be used first in #7, which will include both the selected In-sample and OOS time-series.<br></li>
<li>The final OOS time-series selected (for backtesting) will also be used in #8 with Pyfolio bt option set as (live_start_date = &#39;07-16-2017&#39;, hide_positions = True, round_trips = True).<br></li>
<li>I realize the workflow I&#39;ve chosen is simpler, less &#39;Agile,&#39; and more linear than &#39;<a href="https://blog.quantopian.com/a-professional-quant-equity-workflow/" rel="nofollow">A Professional Quant Equity Workflow</a>&#39; and  &#39;<a href="https://blog.quantopian.com/idea-algorithm/" rel="nofollow">Idea to Algorithm</a>&#39; but I&#39;ve tried to base it on both. Hopefully it&#39;s still not too prone to &#39;overfitting,&#39; which is what I&#39;m primarily trying to avoid.<br></li>
<li>I don&#39;t anticipate attaching full Alphalens notebooks, so not to disclose any discovered alpha, but I plan to attach excerpts and my analysis and decisions based on the output.<br></li>
<li>No conscious efforts will be done to &#39;maximize&#39; Returns or rolling 6mo sharpe ratio, other than researching, understanding, and selecting alpha factors based on analysis done in the Research environment.<br></li>
<li>The &#39;Secondary Objectives&#39; are just that - secondary. They are more &#39;nice-to-haves&#39; and are fine as long as they don&#39;t interfere with the Primary Objective.<br></li>
<li>This post may be edited to reflect any feedback from the community, and what I may learn during the strategy development process as I go along.<br></li>
<li>A disclaimer: If you ask questions to me in this thread, I may choose to not answer them; nothing personal if I don&#39;t. :)</li>
</ul>

<p>A brief description of my (1.) Economic Hypothesis (GARP) to follow...</p>

<p>EDITS: 21-08-2018, I&#39;ve made a few updates, mostly regarding the OOS period selected for AL research vs OOS for the final backtest.</p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>56 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5b5ea85847c3ff0040f2816a' id='5b5ea85847c3ff0040f2816a'>
<a href='#5b5ea85847c3ff0040f2816a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1532930136000' class='quanto-date posted-at response-posted-at' href='#5b5ea85847c3ff0040f2816a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>1. Economic Hypothesis:</strong></p>

<p>This strategy will attempt to find alpha in the well known GARP (Growth At Reasonable Prices) investing strategy/style, successfully implemented and made famous by <a href="https://en.wikipedia.org/wiki/Peter_Lynch">Peter Lynch</a> at Fidelity&#39;s Magellan Fund in the 1980&#39;s. </p>

<p>The Long hypothesis is to buy good quality, compounding growth companies when they are selling at attractive prices (e.g. due to a short-term correction, earnings disappointment, scandal, etc.). </p>

<p>The Short hypothesis is currently TBD, and may be completely different from the GARP strategy altogether. Or it may just be the bottom quantile of the GARP strategy, if it turns out to be somewhat symmetrical and predictive on the short side as well (pending Alpha Factor research in #4).</p>

<p>Further information on GARP can be found on <a href="https://www.zacks.com/education/articles.php?id=70">Zacks</a>, <a href="https://www.investopedia.com/terms/g/garp.asp">Investopedia</a>, <a href="http://www.investorguide.com/article/11805/understanding-garp-stock-investing-strategy-igu/">Investorguide</a>, and <a href="https://seekingalpha.com/article/4103064-garp-investing">SeekingAlpha</a>, and many more places I&#39;m sure.</p>

<p>Why am I expecting to find any real alpha in something so well known and studied as GARP you ask? Perhaps we can find an answer to that from the ever quotable Yogi Berra, hypothesising that &quot;[GARP is] so crowded, nobody goes there anymore.&quot; :)</p>

<p>(2.) Data Selection to follow...</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b5fb235158349004986e753' id='5b5fb235158349004986e753'>
<a href='#5b5fb235158349004986e753'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1532998197000' class='quanto-date posted-at response-posted-at' href='#5b5fb235158349004986e753'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>2. Data Selection:</strong></p>

<p>This one&#39;s pretty easy. Since I&#39;m currently not willing to pay for any <a href="https://www.quantopian.com/data">datasets</a>, I&#39;m primarily going to use the free Morningstar growth and value related <a href="https://www.quantopian.com/data/morningstar/fundamentals">Fundamental data</a>. I may also use the free <a href="https://www.quantopian.com/data/quantopian/us_equity_pricing">US Equity Pricing</a> from Quantopian (OHLCV) to try to identify longer term growth trends, and shorter term value opportunities (hopefully anyway).</p>

<p>It would be nice to also use some of the <a href="http://www.eventvestor.com/">EventVestors</a>, <a href="http://www.estimize.com/">Estimize</a>, or <a href="http://www.zacks.com/">Zacks</a> datasets (e.g. earnings <a href="https://www.quantopian.com/data/eventvestor/earnings_guidance">guidance</a>, <a href="https://www.quantopian.com/data/estimize/estimates">estimates</a>, and <a href="https://www.quantopian.com/data/zacks/earnings_surprises">surprises</a>), but since I can&#39;t use them in the contest without paying for them, I&#39;ll leave them out for now.</p>

<p>This is one major reason why I&#39;m so excited about <a href="https://www.quantopian.com/posts/important-news-for-our-community">Quantopian&#39;s recently announced partnership with FactSet.</a> Yes, international equity markets is exciting as well, but I&#39;m even more excited about using FactSet&#39;s vast datasets, for free essentially but with limitation on the time-series available (e.g. up until 12 months ago perhaps). This &#39;limitation&#39; can actually be seen as an advantage, as it forces us to &#39;hold back&#39; OOS data when researching Alpha. Data which WILL be available to Quantopian internally (according to Jess in the recent <a href="https://www.youtube.com/watch?v=tGnLqg_5TBk&list=PLRFLF1OxMm_VdDSn1BVd7bGKGak5Uss89&index=1">tearsheet review webinar</a>), and which Q can then use to analyse how &#39;overfit&#39; a FactSet based strategy is. Very cool!!</p>

<p>(3.) Universe Definition to follow...</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b5fbfcfeb6c654e086ba4e3' id='5b5fbfcfeb6c654e086ba4e3'>
<a href='#5b5fbfcfeb6c654e086ba4e3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1533001679000' class='quanto-date posted-at response-posted-at' href='#5b5fbfcfeb6c654e086ba4e3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>3. Universe Definition:</strong></p>

<p>Another &#39;easy&#39; one. On surface anyway. Going back to my &#39;Primary Objective&#39; to minimize the likelihood of overfitting, I want my base_universe of stocks to trade to be as wide and diverse as possible. At this point, I <strong><em>don&#39;t</em></strong> want to &#39;fit&#39; my strategy to only trade certain sectors, only large/small caps, only high volume stocks, or only low volatility stocks, etc. </p>

<p>However, I also don&#39;t want to train my model on listed securities where the model is not intended to work, e.g. ETFs, ADRs, OTCs, etc. (I suppose I&#39;m &#39;fitting&#39; here a little bit, but that&#39;s unavoidable and the reward/risk ratio is massively net-positive in my view). I also want to exclude very illiquid stocks, where I may not get realistic fills and prices without &#39;moving the market&#39;. Quantopian&#39;s fantastic <a href="https://www.quantopian.com/help#built-in-filters">built-in filter</a> QTradableStocksUS() takes care of all of this! ThanQ! :)</p>

<p>Now, I said &#39;on surface&#39; because while I now have a solid &#39;base_universe&#39; defined, I may look at further narrowing down the Universe in #4 (which follows), and run factors on a more select universe of stocks (intersected with my base_universe) where I believe each factor is (more) predictable. Here I would be &#39;fitting the model&#39; of course so I will need to be mindful and careful not to let too much &#39;overfitting&#39; creep in. <em>Any tips from anyone on how to avoid this, I&#39;d be all ears!</em></p>

<p>I won&#39;t be going in to any more details on any further universe narrowing as it&#39;s starting to get in to &#39;secret sauce&#39; territory, but it&#39;s not exactly rocket science either... :)</p>

<p>(4.) Alpha Factor Research &amp; Discovery to follow...</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b61221853468f0047302f92' id='5b61221853468f0047302f92'>
<a href='#5b61221853468f0047302f92'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1533092376000' class='quanto-date posted-at response-posted-at' href='#5b61221853468f0047302f92'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>4. Alpha Factor Research &amp; Discovery:</strong></p>

<p>Here comes the hard part!</p>

<p>I anticipate to spend most of my time on this step, with multiple posts, over the next few weeks. A lot of alpha research, and a lot of failures, but hopefully a bit of alpha factor discovery as well in the end, otherwise I can&#39;t really continue to the next step. Understandably, I won&#39;t be posting any discovered real alpha, but I&#39;ll probably post a few alpha research failures.</p>

<p>I do plan to share and attach an Alphalens notebook &#39;template&#39; that I&#39;ll be using to research and hopefully discover alpha, but before that, I&#39;d like to do some initial research to see if I can plot and &#39;visualize&#39; any potential correlation between top and bottom factor quantiles, and the &#39;walk forward&#39; cumulative future returns for the quantiles during the in-sample training period.</p>

<p>Take the PEG Ratio for example, perhaps the most commonly used value-to-growth ratio for a GARP type strategy. Before running it through Alphalens, I&#39;d like to see if I can plot future cumulative returns (e.g. in a bar chart, where each bar represents the cumulative future returns for stocks in each PEG Ratio quantile/decile). </p>

<p>Before looking at any of the data though, based on my &#39;Economic Hypothesis&#39; I would expect a lower PEG Ratio to be correlated with a higher cumulative future return. I am NOT going to look at the data and then &#39;fit&#39; my economic hypothesis to reflect what the data is telling me (that to me is &#39;data mining&#39; and would be very prone to overfitting).</p>

<p>However, I would also expect that at some point, say around a <a href="https://www.zacks.com/education/articles.php?id=70">PEG ratio of 0.8 and lower,</a> to gradually perform worse than stocks with a PEG ratio of say around 1. For this one, I would like to first look at what the data is telling me before determining where to cut off my universe of stocks to trade based on too low (or too high) PEG ratio. Maybe I&#39;m datamining and overfitting by doing this?</p>

<p>In short, this is what I&#39;m planning to do in a Research notebook:</p>

<ol>
<li>In a pandas dataframe, import the PEG Ratio (from Morningstar) as of the starting date of my in-sample training period (06-15-2015), for all stocks in my base_universe (QTradableStocksUS()).<br></li>
<li>In the same dataframe, get the &#39;walk forward&#39; future cumulative Returns, during the in-sample training period (06-16-2015 to 07-15-2017) for each of the stocks with a PEG ratio (survivability bias prone as I&#39;d be excluding stocks without a PEG ratio?)<br></li>
<li>Divide up all stocks into deciles based on the PEG ratio.<br></li>
<li>Plot the &#39;walk forward&#39; future cumulative Returns for each decile in a bar graph.</li>
</ol>

<p>Please bear with me as I attempt this, because even for something as simple as this, I don&#39;t actually know if I can do all of this (or how long it will take me) with my limited pandas and plotting knowledge. If I do get stuck, I may ask the Community for help, or I may also just skip it altogether and just plug in some inverse version of the PEG Ratio (e.g. 1 - PEG ratio) in to Alphalense and go from there. I believe it should be fairly simple though, and that I should be able to figure it out and learn something in the process.</p>

<p>To be continued, hopefully in the not too distant future...</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b6297f03061230049baa4d1' id='5b6297f03061230049baa4d1'>
<a href='#5b6297f03061230049baa4d1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1533188080000' class='quanto-date posted-at response-posted-at' href='#5b6297f03061230049baa4d1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[Placeholder for my initial Research Notebook.]</p>

<p>I&#39;m putting this on hold for a while as it&#39;s taking me a bit too long to figuring out, and I&#39;m eager to jump in and use Alphalens to test factors that is in line with my &#39;strategic intent.&#39;  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b6bad9e2ecf2b3bbcb02e61' id='5b6bad9e2ecf2b3bbcb02e61'>
<a href='#5b6bad9e2ecf2b3bbcb02e61'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1533783454000' class='quanto-date posted-at response-posted-at' href='#5b6bad9e2ecf2b3bbcb02e61'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p><em>Alphalens Template</em>:</p>

<p>Well, my intention was to attach a basic Alphalens (AL) Template that I would be using to hopefully find a few decent GARP alpha factors from the free Fundamentals and OHLCV datasets. However, I keep getting the dreaded &#39;Sorry, something went wrong on our end.&#39; error message no matter what I do (closing and killing all notebooks, reloading this post, etc), so this will have to wait for a bit as well (maybe &#39;user error&#39; or maybe I&#39;m just trying during &#39;maintenance windows&#39;?).</p>

<p>The AL template uses the PEG Ratio, and as <a href="https://www.quantopian.com/posts/fundamentals-updating-daily-vs-monthly-or-quarterly#5b612ed04ff15300452476a7">@Blue Seahawk pointed out</a>, there seem to be something strange with this ratio, as it&#39;s not really updating very frequently for about half of the symbols in the QTU. For a ratio with &#39;price&#39; in it, I would have expected it to update daily for most symbols. </p>

<p>It may therefore be worthwhile to create some sort of custom Value-to-Growth ratio (or the inverse really, so one doesn&#39;t have to &#39;flip&#39; the factor), using data that can be verified to be more reliable. </p>

<p>For any alpha factor I might discover, I won&#39;t be sharing the notebook, but I&#39;ll share some key statistics and how I&#39;ve interpreted them. For all factors, I will be focusing on a 1-day holding period, using a p-value(IC) cutoff of &lt;0.05. I&#39;ve also realized that I will need to &#39;eat into&#39; a bit of the timeseries that I had set aside as OOS, for AL to use as OOS. I will update my first post above to reflect this.</p>

<p>Factor1 discovery analysis with key stats to follow...</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b6bc0e6843f450043aebf0f' id='5b6bc0e6843f450043aebf0f'>
<a href='#5b6bc0e6843f450043aebf0f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1533788390000' class='quanto-date posted-at response-posted-at' href='#5b6bc0e6843f450043aebf0f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p><em>Factor1 analysis</em>:</p>

<p>Factor1 uses the free Morningstar Fundamentals dataset exclusively, and is based on a GARP-type &#39;economic rationale.&#39; The below stats figures are all for 1D holding period (5 quantiles), using the above 2 year in-sample &#39;training period&#39; with 2 months of AL OOS test period:</p>

<ul>
<li>p-value(IC): 0.005 (below my cutoff)<br></li>
<li>IC Mean: 0.012<br></li>
<li>Risk adjusted IC: 0.123<br></li>
<li>Ann. alpha: 0.216<br></li>
<li>beta: -0.107<br></li>
<li>Mean Period Wise Return Top Quantile (bps): 1.416<br></li>
<li>Mean Period Wise Return Bottom Quantile (bps): -3.405<br></li>
<li>Mean Period Wise Spread (bps): 4.722</li>
</ul>

<p>I didn&#39;t include the IC skew and IC kurtosis because honestly I don&#39;t understand them well enough yet.</p>

<p>That all looks quite good to me (let me know if you disagree), and the graphs all look pretty good too. It almost all looks a bit too good to be honest, so I might look to &#39;cross validate&#39; this factor on an earlier time-series, to ensure I haven&#39;t overfitted too much to this specific in-sample training period.</p>

<p>For now though, I&#39;m hoping that the somewhat &#39;imperfect&#39; graphs might improve if I combine this factor with a different, hopefully somewhat uncorrelated (and hopefully equally strong) factor, using a different dataset (OHLCV). Note also that, for now at least, I&#39;m not excluding any &#39;bad&#39; sectors where the factor don&#39;t seem to be working, as I&#39;m worried that I may be overfitting to this specific time-series too much if I do.</p>

<p>Factor2 discovery analysis with key stats to follow...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b6bcd6b4ee123003c81bc03' id='5b6bcd6b4ee123003c81bc03'>
<a href='#5b6bcd6b4ee123003c81bc03'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1533791595000' class='quanto-date posted-at response-posted-at' href='#5b6bcd6b4ee123003c81bc03'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p><em>Factor2 analysis:</em></p>

<p>Factor2 is using data exclusively from the free OHLCV dataset from Quantopian. My reason for using a completely different dataset for this factor is so that hopefully it won&#39;t be too correlated with the first factor.</p>

<p>How am I supposed to get a GARP type factor from using only historical OHLCV data you ask? Basically, without going into too much detail (not exactly rocket science either), I&#39;m hoping that I can find both <em>growth</em> as well as <em>value</em> &#39;priced in&#39; to stocks&#39; historical price series.</p>

<p>Below stats are based on the same time series, holding period, # of quantiles, etc. as Factor1:</p>

<ul>
<li>p-value(IC): 0.000 (below my cutoff)<br></li>
<li>IC Mean: 0.019<br></li>
<li>Risk adjusted IC: 0.156<br></li>
<li>Ann. alpha: 0.077<br></li>
<li>beta: 0.017<br></li>
<li>Mean Period Wise Return Top Quantile (bps): 4.782<br></li>
<li>Mean Period Wise Return Bottom Quantile (bps): -2.664<br></li>
<li>Mean Period Wise Spread (bps): 7.406</li>
</ul>

<p>Ok so that looks quite good as well (to me anyway - let me know if I&#39;m wrong), and the graphs look pretty good too. A bit different from the first factor, which I actually think (hope) might be a good thing. </p>

<p>Both IC Mean and Risk Adjusted IC are higher than for factor1, but the Annual Alpha is quite a bit lower. I&#39;m not worrying too much about the difference in Ann. Alpha for now, &#39;hoping&#39; that this might just be due to random-walk noise. Also, the &#39;Mean Period Wise Spread (bps)&#39; is quite a bit higher than for the first factor, so I&#39;m not really sure why the annual alpha is so much lower for the second factor (maybe the Ann. Alpha for the first factor was inflated somehow, e.g. due to outliers, and unrealistic going forward?).</p>

<p>Since the first factor had a negative beta, I&#39;m glad this one has positive beta, which hopefully overall will result in a more neutral beta value. </p>

<p>Based on the &#39;Mean Period Wise Return&#39; from the Top and Bottom Quantiles, it looks like this second factor is stronger for &#39;longs&#39; than for &#39;shorts&#39; whereas the first factor was &#39;stronger&#39; in the bottom (short) quantile than for the top (long) quantile, which I&#39;m interpreting as a good thing. </p>

<p>For the third (and possibly final) factor, I will look to use a combination of different data from both the Fundamentals as well as OHLCV, to hopefully find a factor that&#39;s somewhat uncorrelated to the first two factors. Fingers crossed!</p>

<p>Factor3 discovery analysis with key stats to follow...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b6d236db1b1c3004bd86b8e' id='5b6d236db1b1c3004bd86b8e'>
<a href='#5b6d236db1b1c3004bd86b8e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1533879149000' class='quanto-date posted-at response-posted-at' href='#5b6d236db1b1c3004bd86b8e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p><em>Factor3 analysis</em>:</p>

<p>As mentioned, this factor uses a combination of both Fundamental and historical price data (OHLCV). In order to avoid too much correlation overlap with the first two factors, I&#39;ve tried to use different type of data from the two datasets. I wish I knew how to measure correlation between factors (or alpha decay for each factor), but currently that&#39;s a bit too over my head unfortunately. Hopefully I&#39;ll get there in the not too distant future...</p>

<ul>
<li>p-value(IC): 0.002 (below my cutoff)<br></li>
<li>IC Mean: 0.015<br></li>
<li>Risk adjusted IC: 0.134<br></li>
<li>Ann. alpha: 0.087<br></li>
<li>beta: 0.082<br></li>
<li>Mean Period Wise Return Top Quantile (bps): 2.786<br></li>
<li>Mean Period Wise Return Bottom Quantile (bps): -3.999<br></li>
<li>Mean Period Wise Spread (bps): 6.781</li>
</ul>

<p>I&#39;m hoping the relatively high (positive) beta will help balance out the relatively high (negative) beta of my first factor, to make the combined factor close to 0 beta.</p>

<p>As I don&#39;t have too much experience yet using Alphalens, I don&#39;t have too much to compare with for any of my factors, so I don&#39;t know if these values are (too) good or bad. For now though, I&#39;m going to assume that they are a bit &#39;too good&#39; so I want to find some assurance that I haven&#39;t been (unintentionally) data-mining this in-sample period too much, and effectively fit these factors to random-walk noise in the in-sample training time series. </p>

<p>In order to do this, I&#39;ll need to run these factors over some earlier OOS time period. It might be interesting to see how the factors held up during 2008 for example (GFC). By &#39;cross validating&#39; each factor against a different time period, I&#39;m hoping to also be able to detect any &#39;false positive&#39; factors. However, if any of the factors get a p-value(IC) above my 0.05 cutoff from the new OOS test period, I may choose to test it a third time, to ensure the second test didn&#39;t return a &#39;false negative.&#39;</p>

<p>In other words, I may need to test these factors up to two times OOS, to ensure I have either &#39;true positive&#39; factors (which I&#39;ll keep), or &#39;true negative&#39; factors (which I&#39;ll discard).</p>

<p>I may try to find a few more factors first though, incase some of my factors turned out to either be &#39;false positive&#39; / &#39;true negative&#39;, or didn&#39;t perform very well during the OOS test period.</p>

<p>To follow: TBD  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b6d2f7f2b15b7003f0537b8' id='5b6d2f7f2b15b7003f0537b8'>
<a href='#5b6d2f7f2b15b7003f0537b8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ed38379b1e7efbfb0006f8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fe429093818ef2b5c8f29dc274a188b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ed38379b1e7efbfb0006f8'>Karl Mun</a>
</div>
<a UTCms='1533882239000' class='quanto-date posted-at response-posted-at' href='#5b6d2f7f2b15b7003f0537b8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Good going, Joakim. Do you prefer to combine the factors inside Pipeline, or outside, and which is better?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b6d3660f2b773004129b970' id='5b6d3660f2b773004129b970'>
<a href='#5b6d3660f2b773004129b970'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1533884000000' class='quanto-date posted-at response-posted-at' href='#5b6d3660f2b773004129b970'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Karl!</p>

<p>I haven&#39;t gotten to combining the factors yet, but I was planning to do it inside of Pipeline (normalized equal weighting), just because I would have thought it&#39;s faster than outside(?). I don&#39;t quite see the benefit of doing it outside. You know more about this stuff than I do though.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b71226cc9e06200426cd78b' id='5b71226cc9e06200426cd78b'>
<a href='#5b71226cc9e06200426cd78b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1534141036000' class='quanto-date posted-at response-posted-at' href='#5b71226cc9e06200426cd78b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p>Trying again to attach my Alphalens (AL) template. This one first creates a &#39;summary&#39; output of all the key stats of the factor during the training period, and then the full tearsheet, grouped by sectors. This is pretty much the one I&#39;ve been using, and will most likely be using going forward.</p>

<p>I&#39;ve also realized that I&#39;ll probably need to use up more of my historical data for &#39;cross validation&#39; of my factors during different market periods (non-stationary timeseries). Once I&#39;ve tested a factor during a past OOS time-series however, I will no longer consider that time-series to be OOS and it will instead become part of my (growing) training time-series. I will eventually update my original post to reflect this. One may cry out &#39;look-ahead-bias&#39; or &#39;benefit of hindsight&#39; but I&#39;m seeing this as part of my own learning experience in going through the process of designing a more robust L/S strategy that&#39;s less prone to overfitting.</p>

<p>I&#39;m also realizing that this exercise is mostly trying to address Fawce&#39;s &#39;bad data hygiene&#39; example of overfitting in his recent excellent post on <a href="https://www.quantopian.com/posts/portfolio-structure-and-overfitting" rel="nofollow">Portfolio Structure and Overfitting</a>. However, I believe most of my strategies are also quite prone to the &#39;Excessive precision without accuracy&#39; example of overfitting as well. Eventually I would like to address this by making use of <a href="https://www.quantopian.com/lectures/kalman-filters" rel="nofollow">Kalman Filters</a> (if that&#39;s even possible), but for now, that&#39;s quite a bit too complicated for me. So for now, I will just rely on having a good &#39;rationale&#39; for the parameters I&#39;m choosing. For example, for any look-back windows, I&#39;ll use whole weeks/months/years instead of just an arbitrary number of days (even if it&#39;s dynamic within a range). With the caveat perhaps that I may try to &#39;front-run&#39; other algos using &#39;standard&#39; lookback windows. Or front-run the front-runners, etc. :)  If anyone has any better idea/suggestion on how to deal with &#39;parameter overfitting&#39; I&#39;m all ears!</p>

<p>In the meantime, I&#39;m doing a bit of Python training (and trying to learn more about key relevant stats concepts in the l<a href="https://www.quantopian.com/lectures" rel="nofollow">ecture series</a>), so if there&#39;s no update to this thread the next few days, that&#39;s what I&#39;ve been doing. :)</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7b7b0e6ac5580042632c64' id='5b7b7b0e6ac5580042632c64'>
<a href='#5b7b7b0e6ac5580042632c64'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1534819086000' class='quanto-date posted-at response-posted-at' href='#5b7b7b0e6ac5580042632c64'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p>Ok, so next I&#39;d like to test these factors:</p>

<ul>
<li>Correlation to each other during the training period.<br></li>
<li>OOS to see how well/poorly they hold up individually out of sample (i.e. how overfit each of them are to the training period)<br></li>
<li>Correlation to each other during the OOS period.</li>
</ul>

<p>The OOS time period is exactly 8 years before my training period, and is the same length as my training period. I chose this period because I want to see how well/poorly my factors hold up during the GFC period.</p>

<p>OOS test period: 2007-06-15 - 2009-07-15 (plus 2 months of &#39;future returns&#39;)</p>

<p>First though, let&#39;s see how correlated my three factors are during my initial training period. Thanks to <a href="https://www.quantopian.com/posts/checking-correlation-and-risk-exposure-of-alpha-factors" rel="nofollow">Delaney&#39;s excellent notebook</a>, I&#39;m now able to do this. This is the correlation matrix I get during the training period for my three factors:</p>

<pre><code>[ 1.        ,  0.44395672,  0.45470046],  
[ 0.44395672,  1.        ,  0.37135153],  
[ 0.45470046,  0.37135153,  1.        ]
</code></pre>

<p>Since this is really my first time doing this, I don&#39;t have any previous experience to compare to, but my initial reaction is that this is probably pretty good. All of them are somewhat equally uncorrelated. </p>

<p>Next I will test them individually during the OOS time period, and later also the correlation of returns during the OOS period. Honestly I&#39;m expecting at least some &#39;overfitting&#39; on all the factors, but I&#39;m hoping not too much. Let&#39;s see...</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7ba0e3fbcc6f004cad2654' id='5b7ba0e3fbcc6f004cad2654'>
<a href='#5b7ba0e3fbcc6f004cad2654'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1534828771000' class='quanto-date posted-at response-posted-at' href='#5b7ba0e3fbcc6f004cad2654'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p><em>Factor1 OOS testing</em>: 2007-06-15 - 2009-09-15 (inclusive of 2 months of &#39;future returns&#39;). This is the &#39;Fundamentals only&#39; factor:</p>

<p>p-value(IC): 0.001 (below my cutoff)<br>
IC Mean: 0.013<br>
Risk adjusted IC: 0.151<br>
Ann. alpha: 0.033<br>
beta: -0.079<br>
Mean Period Wise Return Top Quantile (bps): 2.776<br>
Mean Period Wise Return Bottom Quantile (bps): -2.028<br>
Mean Period Wise Spread (bps): 4.718</p>

<p>OOS testing of Factor1, comments: Since the p-value both during my in-sample, and OOS is below my cutoff of 0.05, I am going to &#39;declare&#39; this one as a &#39;true positive&#39; predictive factor. Furthermore, the (too good to be true) Annual Alpha has come down quite a bit, but the rest has either stayed mostly the same, or even improved slightly, which I&#39;m positively surprised about. </p>

<p>I&#39;m thinking the significantly lower Ann. Alpha is probably due to &#39;overfitting&#39; but since everything else seems fine, I&#39;ll leave this one as is for now, rather than &#39;tweaking&#39; and retrain on both this (GFC) time-series and my original in-sample period, and then test it OOS during a different time-series altogether. Let me know if I&#39;m making a mistake with this decision. </p>

<p>Factor2 OOS testing to follow...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7ba804aa894d004b34ac77' id='5b7ba804aa894d004b34ac77'>
<a href='#5b7ba804aa894d004b34ac77'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1534830596000' class='quanto-date posted-at response-posted-at' href='#5b7ba804aa894d004b34ac77'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p><em>Factor2 OOS testing</em>: 2007-06-15 - 2009-09-15 (inclusive of 2 months of &#39;future returns&#39;). This is the &#39;OHLCV only&#39; factor:</p>

<p>p-value(IC): 0.009 (below my cutoff)<br>
IC Mean: 0.013<br>
Risk adjusted IC: 0.114<br>
Ann. alpha: 0.055<br>
beta: 0.017<br>
Mean Period Wise Return Top Quantile (bps): 1.907<br>
Mean Period Wise Return Bottom Quantile (bps): -1.525<br>
Mean Period Wise Spread (bps): 2.923</p>

<p>OOS testing of Factor2, comments: The p-value is again below my cutoff of 5% so I&#39;m going to &#39;declare&#39; this one also a &#39;true positive&#39; factor. Everything else has mostly deteriorated somewhat, perhaps mostly due to overfitting, though perhaps some variance can be expected? Funnily enough, the beta to market value is exactly the same during both periods... Scary!</p>

<p>Since the factor (in my opinion anyway) didn&#39;t perform &#39;horribly&#39; OOS I&#39;m going to leave this one too as is. What I might do instead is to try to find a fourth (or more) factor trained on this (2007-2009) period, and test it OOS on my original in-sample period, hoping that the additional factor(s) may weigh up / neutralize the overfitting of the other factors somewhat. I may look at doing a final OOS test of the final combined model on a completely new time-period, to see if my &#39;finger-crossing-method&#39; worked. There&#39;s probably a better way of doing this - please let me know if you know of one.</p>

<p>First though, let&#39;s see how my third factor performed OOS...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7baf0ffbcc6f0043ad2691' id='5b7baf0ffbcc6f0043ad2691'>
<a href='#5b7baf0ffbcc6f0043ad2691'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1534832399000' class='quanto-date posted-at response-posted-at' href='#5b7baf0ffbcc6f0043ad2691'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p><em>Factor3 OOS testing</em>: 2007-06-15 - 2009-09-15 (inclusive of 2 months of &#39;future returns&#39;). This is the &#39;Fundamentals &amp; OHLCV combined&#39; factor:</p>

<p>p-value(IC): 0.011 (below my cutoff)<br>
IC Mean: 0.011<br>
Risk adjusted IC: 0.113<br>
Ann. alpha: 0.108<br>
beta: 0.099<br>
Mean Period Wise Return Top Quantile (bps): 4.673<br>
Mean Period Wise Return Bottom Quantile (bps): -3.015<br>
Mean Period Wise Spread (bps): 6.852</p>

<p>OOS testing of Factor3, comments: P-value is again below my cutoff, so again (thank goodness) another &#39;true positive&#39; factor (hopefully). This one too had some &#39;variance&#39; in the OOS test period, but it doesn&#39;t appear too overfit to me. Unfortunately I don&#39;t know how much &#39;normal variance&#39; I should expect from OOS testing, and how much is required in order to say a model is way overfit. </p>

<p>Even though none of the factors performed &#39;horribly&#39; OOS (in my opinion anyway), I&#39;m going to assume that they are all at least somewhat overfit to my initial training period. I&#39;m hoping that if I try to find a 4th factor, trained on this new time-series (2007-2009), it may help to &#39;neutralize&#39; the overfitting effect somewhat. Hopefully I&#39;ll be able to find one that&#39;s also not too correlated with my other factors...</p>

<p>4th factor research (trained on 2007-2009 data) and discovery (hopefully) to follow...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7bb7c5de19ec004d7de9ea' id='5b7bb7c5de19ec004d7de9ea'>
<a href='#5b7bb7c5de19ec004d7de9ea'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1534834629000' class='quanto-date posted-at response-posted-at' href='#5b7bb7c5de19ec004d7de9ea'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p>Sorry, first here&#39;s the correlation matrix for my first 3 factors during the OOS time period (2007-2009).</p>

<pre><code>[ 1.        ,  0.19727104, -0.14067721],  
[ 0.19727104,  1.        ,  0.33425805],  
[-0.14067721,  0.33425805,  1.        ]
</code></pre>

<p>I have no idea what to make of the negative correlation between the first and the third factor... I&#39;m hoping it might be a good thing. If anyone knows, I&#39;d be all ears.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7c4264df6ab20045c91ecd' id='5b7c4264df6ab20045c91ecd'>
<a href='#5b7c4264df6ab20045c91ecd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b32da9a3ef854003ea5ee91'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/30c0b67219231de686d5692739edad32?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b32da9a3ef854003ea5ee91'>David Daverio</a>
</div>
<a UTCms='1534870116000' class='quanto-date posted-at response-posted-at' href='#5b7c4264df6ab20045c91ecd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Joakim</p>

<p>Correlation goes from -1 to 1. 0 means that there is no correlation at all (which is barely never the case, even with some white noise, you will always find a bit of correlation). Myself I would state that 2 sets are completely uncorrelated if -0.05&lt;corr&lt;0.05.<br>
A positive correlation between A and B means than if A is positive B is likely positive. A negative correlation is the opposite. It does mean that if you have two factors which are negatively correlated you have factors which tells you the &quot;opposite&quot; on is saying long, the other short...  Might be a good thing in fact, because you might want to discard such trade. If it was very high anti-correlation that would be bad, as you would have to variable (which should be descriptive) which tell exactly the inverse of each other!</p>

<p>But I say this with no financial background but just what I know about correlation function.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7c98aaa2e3ca0041ede48d' id='5b7c98aaa2e3ca0041ede48d'>
<a href='#5b7c98aaa2e3ca0041ede48d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1534892202000' class='quanto-date posted-at response-posted-at' href='#5b7c98aaa2e3ca0041ede48d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks @David,</p>

<p>I appreciate your help! What I don&#39;t quite understand is how two factors that both seem to have some predictive power of future returns, and both which have positive alpha, can have negative return stream correlation to each other. Perhaps the negative correlation is coming mostly from the &#39;noise&#39; part of the factors, i.e. the parts that are not predictive (most of it). </p>

<p>For now, with my limited understanding of it, I&#39;m happy with them not being too correlated (positively or negatively). In other words, the closer to 0 absolute value correlation the better (as with beta to the market).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7c9d7f901ad30048d21bd0' id='5b7c9d7f901ad30048d21bd0'>
<a href='#5b7c9d7f901ad30048d21bd0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b32da9a3ef854003ea5ee91'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/30c0b67219231de686d5692739edad32?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b32da9a3ef854003ea5ee91'>David Daverio</a>
</div>
<a UTCms='1534893439000' class='quanto-date posted-at response-posted-at' href='#5b7c9d7f901ad30048d21bd0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think it make sense.</p>

<p>The point is 0.14 is quite low. There is a bit but not so much anti-correlation. I would interpret it int the following way: There is moment where factor1 works fine a does the good prediction. There is moment when factor2 works well too. Those moment are not overlapping, but are shifted one in respect to the other. Then the negative correlation might be a sign that there is a biggest amount of return/lose when the two factor are predicting the opposite. Might not be the length of the period, but just that at the moments it does not agree the lose/return are stronger. You need to think about the sum in the correlator, there is something that make this sum to be negative... But indeed it must come from the part which is not predictive, otherwise it does not make sense at all.</p>

<p>0.14 is quite low! white noise versus white noise (generated by a uniform random genrator give easily something like 0.2 if one use only 1000 points, and goes to 10e-5 when you use 10e12 points..... Will be hard to find something less correlated than white noise :-). There is always some correlation that comes from whatever/whoknows.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7c9ff1df6ab20040c922a5' id='5b7c9ff1df6ab20040c922a5'>
<a href='#5b7c9ff1df6ab20040c922a5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b32da9a3ef854003ea5ee91'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/30c0b67219231de686d5692739edad32?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b32da9a3ef854003ea5ee91'>David Daverio</a>
</div>
<a UTCms='1534894066000' class='quanto-date posted-at response-posted-at' href='#5b7c9ff1df6ab20040c922a5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bah your post really motivated me to find out how to extract meaninful imformation on correlation of factors! Ill let you know how it goes, but hell I have to fight with panda which I really have never used!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7ca2b3d8a1320044208195' id='5b7ca2b3d8a1320044208195'>
<a href='#5b7ca2b3d8a1320044208195'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1534894771000' class='quanto-date posted-at response-posted-at' href='#5b7ca2b3d8a1320044208195'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks David! I&#39;d certainly be interested in what you might find out. A bit too difficult for me to tackle...</p>

<p>Could the correlation figure be &#39;skewed&#39; by return &#39;outliers&#39; perhaps? </p>

<p>I also wonder how much &#39;random variance&#39; one could expect in the correlation figure. Do you think it would be safe to say that any figure between -0.5 and 0.5 indicates that the factors are mostly not correlated?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7d4dbedf6ab2004cc92678' id='5b7d4dbedf6ab2004cc92678'>
<a href='#5b7d4dbedf6ab2004cc92678'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1534938558000' class='quanto-date posted-at response-posted-at' href='#5b7d4dbedf6ab2004cc92678'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Joakim -</p>

<p>Regarding your comments on universe selection, I <em>think</em> the prescription from the Q team is to write factors that run over the entire <code>QTradableStocksUS</code> (QTU), versus restricting the universe on a per factor basis.  I&#39;m not sure I understand this guidance yet.  For example, say I restrict the universe for a given factor to the most volatile stocks in the QTU, and it works well.  Well, instead of restricting the universe, I could instead build a penalty into the factor that shifts low-volatility stocks toward zero alpha value (assuming that the alpha vector is de-meaned).  From an architectural standpoint, perhaps this is better, since I then don&#39;t have to keep track of which universe applies to which factor.  However, in effect, one is still restricting the universe--the universe-limiting operation is just applied within the factor.</p>

<p>So, I <em>think</em> the way to go is to write factors that run over the entire QTU, and effectively select a QTU subset within the factor itself.</p>

<p>It would be interesting to hear from Q on this point.  It goes without saying that the best factors will be the ones that are the broadest, and thus rank across the entire QTU.  But then this would say that the hypothesis for every factor would need to be based on some broad market inefficiency, which doesn&#39;t sound like the way to go--with 200,000 quants, I&#39;d think you&#39;d want them trying to find idiosyncratic alpha that when combined provides an advantage over your typical brick-and-mortar hedge fund.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7d6058d8a132432b2081cc' id='5b7d6058d8a132432b2081cc'>
<a href='#5b7d6058d8a132432b2081cc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b32da9a3ef854003ea5ee91'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/30c0b67219231de686d5692739edad32?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b32da9a3ef854003ea5ee91'>David Daverio</a>
</div>
<a UTCms='1534943320000' class='quanto-date posted-at response-posted-at' href='#5b7d6058d8a132432b2081cc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So first step in my  factor correlation notebook.</p>

<p>Here is a small function which return the correlation between 2 factors. The correlation is computed on a daily basis.<br>
Next step, compute the correlation on a asset basis.</p>

<p>Hope it helps  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7f54c66643cb00471cfb0e' id='5b7f54c66643cb00471cfb0e'>
<a href='#5b7f54c66643cb00471cfb0e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1535071430000' class='quanto-date posted-at response-posted-at' href='#5b7f54c66643cb00471cfb0e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Grant,</p>

<blockquote>
<p>So, I think the way to go is to write factors that run over the entire<br>
QTU, and effectively select a QTU subset within the factor itself.</p>
</blockquote>

<p>Yes, this is basically what I&#39;m doing. Your first sentence and paragraph seems to contradict this though, or am I misunderstanding it? </p>

<p>Basically, here&#39;s my rationale for universe selection:</p>

<ul>
<li>Start with as broad a universe as possible (the QTU is great, and is always my &#39;base universe&#39;)<br></li>
<li>Ideally, as you said, a &#39;strong&#39; factor should work fine on just the QTU itself. However, those factors are quite hard to find in my experience?<br></li>
<li>If I have a good &#39;economic rationale&#39; for restricting the universe further, and both my in-sample and OOS data supports my rationale, it should be fine, as long as I don&#39;t restrict the universe too much. That said,  I try to avoid looking at my in-sample data before selecting a more restrictive universe, so I don&#39;t just &#39;data-mine&#39; and overfit my model. For example, if I see that my model doesn&#39;t appear to be very predictive for stocks in the Utilities sector, even if it&#39;s supported by OOS testing, I try not to exclude the Utilities sector from my factor universe <strong><em>unless I have a good rationale for, and think I understand fully, why my model is not predictive for stocks in that sector.</em></strong> In short, I don&#39;t want to &#39;fit&#39; my rationale to the data (I&#39;m very likely overfitting if I&#39;m doing this).<br></li>
<li>I don&#39;t want to restrict my &#39;factor universe&#39; too much. For example, if I plan on having 800 positions (400 long/short each) in my strategy, I wouldn&#39;t want to restrict my factor universe to anything lower than 800 stocks. I&#39;d rather have a buffer of 200, so a universe of 1000 stocks (or more) might be fine.<br></li>
<li>If one of my factors uses only half of the QTU stocks, but another factor uses the other half of the QTU, then effectively in aggregate I&#39;m using the full QTU, right, as long as the factors are equally weighted?</li>
</ul>

<p>In short, unless I have a really good economic rationale (and think I understand it well) for using a subset of the QTU universe, I just use the QTU universe. </p>

<p>I&#39;ve probably contradicted myself there a bit as well, and may also be making &#39;obvious&#39; mistakes, but that&#39;s one big reason for why I&#39;m doing this - to hopefully learn from mistakes I&#39;m making as I&#39;m going through the process. :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7f6135913ef7004d54d808' id='5b7f6135913ef7004d54d808'>
<a href='#5b7f6135913ef7004d54d808'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1535074613000' class='quanto-date posted-at response-posted-at' href='#5b7f6135913ef7004d54d808'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi David,</p>

<p>Thank you! Definitely helps!</p>

<p>Do you know if, when we say &#39;correlation&#39; here, it&#39;s really <strong><em>mean</em></strong> correlation over the period tested that we&#39;re talking about? If so, there should also be a &#39;variance&#39; from the mean correlation that could be measured? Would you know how to do this?</p>

<p>Let me know if I&#39;m completely off the mark here... :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7ff503913ef75c7954da43' id='5b7ff503913ef75c7954da43'>
<a href='#5b7ff503913ef75c7954da43'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1535112451000' class='quanto-date posted-at response-posted-at' href='#5b7ff503913ef75c7954da43'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Joakim -</p>

<p>The basic idea I was trying to get across is architectural.  Each Pipeline factor gets the entire QTU as an input, and anything that limits the universe or weights it would be self-contained within the factor.  I had started down the path of a code structure that would allow a different universe to be applied to each factor, via Pipeline masking (e.g. for some factors, use only the most volatile stocks, and for others, the entire QTU).  One ends up having to match factor_1 to universe_1, factor_2 to universe_2, etc., which is not hard, but realized that it doesn&#39;t follow the architecture on <a href="https://blog.quantopian.com/a-professional-quant-equity-workflow/" rel="nofollow">https://blog.quantopian.com/a-professional-quant-equity-workflow/</a> which shows a single universe as an input to multiple alpha factors.</p>

<p>The other thought I have is that effectively one is applying a kind of transfer function in limiting the universe, and that it probably should be smoothly varying for continuous variables (e.g. volatility).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b80393c16bd2e004387279e' id='5b80393c16bd2e004387279e'>
<a href='#5b80393c16bd2e004387279e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1535129916000' class='quanto-date posted-at response-posted-at' href='#5b80393c16bd2e004387279e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant,</p>

<p>Ah, gotcha, now I understand. That might indeed be a better and more proper way of doing it. Honestly I dont know. For now though Im sticking with masking with either full QTU or a subset universe specific to the factor. For me, this is much simpler, and I like to keep things as simple as possible (but not simpler :)).  </p>

<p>As long as my subset universe is still fairly large I think this is fine, though I have been known to, on rare occasions, be wrong before. ;)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b836e12d8fb37003e184127' id='5b836e12d8fb37003e184127'>
<a href='#5b836e12d8fb37003e184127'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/539af9a2836af923ae0001a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7034054d34cfdc771e184f17765cfae5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/539af9a2836af923ae0001a4'>Ben Lieblich</a>
</div>
<a UTCms='1535340050000' class='quanto-date posted-at response-posted-at' href='#5b836e12d8fb37003e184127'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just for info, two timeseries can have a correlation of -1 and still have a very positive average. You must remove the drift.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b83bc9d16cd3f0042a47e92' id='5b83bc9d16cd3f0042a47e92'>
<a href='#5b83bc9d16cd3f0042a47e92'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1535360157000' class='quanto-date posted-at response-posted-at' href='#5b83bc9d16cd3f0042a47e92'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p>Just a quick update that I&#39;ve found what appear to be a number of &#39;false positive&#39; factors. They looked fine during the new in-sample training period (2007-2009), which I&#39;m using for trying to find a 4th factor, but then &#39;fall apart&#39; when testing them on OOS time-series. Note that I&#39;m using my original in-sample training period, 2015-2017, as OOS for the 4th factor, which may not be &#39;best practice&#39;. </p>

<p>I&#39;ll keep training and testing (conscious not to &#39;data-mine&#39; too much), to hopefully find a decent 4th factor that&#39;s not too correlated with the ones I already have...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b841bd7d8fb37541c183d66' id='5b841bd7d8fb37541c183d66'>
<a href='#5b841bd7d8fb37541c183d66'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b32da9a3ef854003ea5ee91'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/30c0b67219231de686d5692739edad32?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b32da9a3ef854003ea5ee91'>David Daverio</a>
</div>
<a UTCms='1535384535000' class='quanto-date posted-at response-posted-at' href='#5b841bd7d8fb37541c183d66'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Joakim</p>

<p>When I we speak about correlation there is no mean or variance. You basically compute a quantity of the form:</p>

<p>$$\sum_n x_n y_n$$</p>

<p>So you take the sum over n. I my example I compute the sum everyday and n labels the assets. One could think to do the opposite. Computing the sum for each asset with n labeling the dates. That would be completely different things.</p>

<p>Then if you look at the output of my  Notebook. As we have the correlation at every day, one can evidently compute the &quot;mean correlation&quot; and its standard deviation, or every statistical quantity that one could build on some data :-)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8425b7d8fb37004a184638' id='5b8425b7d8fb37004a184638'>
<a href='#5b8425b7d8fb37004a184638'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b32da9a3ef854003ea5ee91'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/30c0b67219231de686d5692739edad32?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b32da9a3ef854003ea5ee91'>David Daverio</a>
</div>
<a UTCms='1535387063000' class='quanto-date posted-at response-posted-at' href='#5b8425b7d8fb37004a184638'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Ben Lieblich</p>

<p>Just for info, the correlation function is independent to the mean (I expect that what you mean by the average).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b84840009a0e2003f6c286d' id='5b84840009a0e2003f6c286d'>
<a href='#5b84840009a0e2003f6c286d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1535411200000' class='quanto-date posted-at response-posted-at' href='#5b84840009a0e2003f6c286d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you David, I really appreciate it! Please let me know if you think theres anything I can help you with.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b85484a09a0e2003f6c2d8d' id='5b85484a09a0e2003f6c2d8d'>
<a href='#5b85484a09a0e2003f6c2d8d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b32da9a3ef854003ea5ee91'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/30c0b67219231de686d5692739edad32?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b32da9a3ef854003ea5ee91'>David Daverio</a>
</div>
<a UTCms='1535461450000' class='quanto-date posted-at response-posted-at' href='#5b85484a09a0e2003f6c2d8d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bah lets explain why it is independent of the mean.</p>

<p>One can think of the correlation function as the angle between 2 vectors. The vectors components are each of your data point. So if you have n data point, your vector is in a n-dimensional vector space. Then the correlation function is simply the \(cos(\alpha)\) with \(\alpha\) been the angle between the vectors. So for any dataset you can find a second dataset with any means that give a given correlation (if your dataset have at least 2 points). The point is that you have 2 equations with n unknown, this is always solvable and therefor you can arbitrary (so as large as you want) set the mean of your second dataset.</p>

<p>Thanks for the offer :-). Right now, I am reading some books, then I might have some question. I am new to all this, so I still need to learn both panda and finance lol  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8e230c1e4c9100428eba98' id='5b8e230c1e4c9100428eba98'>
<a href='#5b8e230c1e4c9100428eba98'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536041740000' class='quanto-date posted-at response-posted-at' href='#5b8e230c1e4c9100428eba98'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[4. Alpha Factor Research &amp; Discovery (Cont&#39;d)]</p>

<p>Training a 4th alpha factor on my original OOS dataset, and testing it on my original training dataset, has proven to be quite difficult. As I would like to move on to the next step (5. Factor Combination), I&#39;ll go with a factor that&#39;s quite correlated with my 1st factor. </p>

<p><em>Factor4 In-Sample testing</em>: 2007-06-15 - 2009-09-15 (inclusive of 2 months of &#39;future returns&#39;):</p>

<p>p-value(IC): 0.003 (below my cutoff)<br>
IC Mean: 0.008<br>
Risk adjusted IC: 0.129<br>
Ann. alpha: 0.518<br>
beta: 0.004<br>
Mean Period Wise Return Top Quantile (bps): 2.327<br>
Mean Period Wise Return Bottom Quantile (bps): -2.839<br>
Mean Period Wise Spread (bps): 5.719</p>

<p><em>Factor4 OOS testing</em>: 2015-06-15 - 2017-09-15 (inclusive of 2 months of &#39;future returns&#39;):</p>

<p>p-value(IC): 0.017 (below my cutoff)<br>
IC Mean: 0.008<br>
Risk adjusted IC: 0.104<br>
Ann. alpha: 0.018<br>
beta: 0.148<br>
Mean Period Wise Return Top Quantile (bps): 0.881<br>
Mean Period Wise Return Bottom Quantile (bps): -2.490<br>
Mean Period Wise Spread (bps): 3.375</p>

<p>Correlation during IS time period:</p>

<pre><code>[ 1.        ,  0.24745288, -0.1784698 ,  0.63263895],  
[ 0.24745288,  1.        ,  0.35489379, -0.15707995],  
[-0.1784698 ,  0.35489379,  1.        , -0.26880649],  
[ 0.63263895, -0.15707995, -0.26880649,  1.        ]
</code></pre>

<p>Note: The slightly different correlation figures for the first 3 factors (compared to the previous table above) is most likely due to my widening of the individual universes just slightly for two of the factors.</p>

<p>Correlation during OOS time period:</p>

<pre><code>[ 1.        ,  0.413451  ,  0.45278498,  0.8448823 ],  
[ 0.413451  ,  1.        ,  0.42739565,  0.03151596],  
[ 0.45278498,  0.42739565,  1.        ,  0.43143329],  
[ 0.8448823 ,  0.03151596,  0.43143329,  1.        ]
</code></pre>

<p>I&#39;m not too happy with these numbers, especially that this last factor appears to be quite correlated to the first factor, but I&#39;ll go with it for now as I&#39;d like to move on to the next step. </p>

<p>(5.) Factor Combination to follow...</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8e29e738289d004476ae5a' id='5b8e29e738289d004476ae5a'>
<a href='#5b8e29e738289d004476ae5a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536043495000' class='quanto-date posted-at response-posted-at' href='#5b8e29e738289d004476ae5a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>5. Alpha Factor Combination:</strong></p>

<p>I&#39;m not really sure I can do anything fancier than just summing the zscores of the factors with equal weights, but I would like to explore the following:</p>

<ol>
<li>Summing equal weights of factors&#39; zscores (my baseline)<br></li>
<li>Use Machine Learning, <a href="https://www.quantopian.com/posts/machine-learning-on-quantopian" rel="nofollow">as outlined in this 3-part series</a>, to assign more weight to recently more predictive factors.<br></li>
<li>Some other dynamically weighted factor model (maybe)</li>
</ol>

<p>The first option will basically be my baseline; any other weighing scheme would need to prove to be better than just summing the zscores. Essentially, this is my &#39;worst case&#39; scenario, which hopefully won&#39;t be TOO bad. </p>

<p>I haven&#39;t had much experience with ML at all, and I&#39;ve just briefly played around with Thomas&#39; notebooks and algo templates (with not much success), but I would like to see if I can make use of his templates to come up with a superior factor combination.</p>

<p>The third option I may not do at all, will see how I go.</p>

<p>Baseline, normalized equal weights, factor combination (on new OOS time period) to follow...</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f10c49166fd7e99d84620' id='5b8f10c49166fd7e99d84620'>
<a href='#5b8f10c49166fd7e99d84620'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1536102596000' class='quanto-date posted-at response-posted-at' href='#5b8f10c49166fd7e99d84620'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You could also consider unequal weights of the factors.  For example, you could weight the sum of the z-scores by the inverse volatility in the returns of each factor.  More weight to less volatile factors might up your SR.</p>

<p>I don&#39;t know how to do this in Pipeline, but I&#39;m guessing it is doable.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f5ba0c79877003f9c4e78' id='5b8f5ba0c79877003f9c4e78'>
<a href='#5b8f5ba0c79877003f9c4e78'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b8f5a79c7987700459c4e7c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d229aabbf3dd41564a18768cca86c6a4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b8f5a79c7987700459c4e7c'>jim lee</a>
</div>
<a UTCms='1536121760000' class='quanto-date posted-at response-posted-at' href='#5b8f5ba0c79877003f9c4e78'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>no such thing as interesx or not.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f5c55c79877003f9c4e86' id='5b8f5c55c79877003f9c4e86'>
<a href='#5b8f5c55c79877003f9c4e86'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536121942000' class='quanto-date posted-at response-posted-at' href='#5b8f5c55c79877003f9c4e86'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Grant! Yes, that was basically my plan for #3 above, which I&#39;m not sure I&#39;ll get to at all because I don&#39;t know if I can figure out how to do it... :(</p>

<p>I was basically thinking of giving more weight to recently better performing factors based on recent risk-adjusted-returns. Maybe a 63 day rolling window of absolute returns / 63 day rolling window of std of those returns (as in the &#39;contest score&#39;). A contest-score &#39;momentum-based&#39; factor weighing scheme essentially. Or the opposite with a shorter look-back window, so a &#39;reversal-based&#39; weighing scheme. Or some combination of this. All of this sounds to me like it may be quite prone to parameter over-fitting however...</p>

<p>It doesn&#39;t feel like it should be too difficult, but I may need to reach out to the Q Community for help if I get too stuck...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f614dc79877003f9c4ea4' id='5b8f614dc79877003f9c4ea4'>
<a href='#5b8f614dc79877003f9c4ea4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536123213000' class='quanto-date posted-at response-posted-at' href='#5b8f614dc79877003f9c4ea4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[5. Alpha Factor Combination (Cont&#39;d)]</p>

<p>Following will be some screenshots of AL tearsheet outputs, from the combined (summing of zscores) alpha factor on a new OOS time series. This will be my &#39;baseline&#39; essentially that any other factor weighing scheme would need to beat.</p>

<p>The new OOS time-series I chose is: 2005-06-15 - 2007-09-15 (inclusive of 2 months of forward returns). </p>

<p>I&#39;m not sure what to call this period, maybe either &#39;Greenspan&#39;s Goldilocks Economy&#39; or &#39;Housing Bubble Buildup&#39;? :)  It&#39;s mostly a &#39;bull market&#39; which my original training time-series (2015-2017) was as well, but hopefully distant enough to be dissimilar in terms of any other common market regime. I haven&#39;t measured this though, which may not be a bad idea.</p>

<p>Let&#39;s look at the stats tables first... Many thanks to @Grant for instructions on <a href="https://www.quantopian.com/posts/sharing-an-image" rel="nofollow">how to share an image</a> on the forums, and how to quickly <a href="https://www.quantopian.com/posts/latex-in-the-forum" rel="nofollow">store images on Imgur</a> without an account.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f64d153f644004164a549' id='5b8f64d153f644004164a549'>
<a href='#5b8f64d153f644004164a549'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536124113000' class='quanto-date posted-at response-posted-at' href='#5b8f64d153f644004164a549'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[5. Alpha Factor Combination (Cont&#39;d)]</p>

<ol>
<li>Summing of zscores Factor Combination</li>
</ol>

<p>OOS time-series: 2005-06-15 - 2007-09-15 (inclusive of 2 months of forward returns)</p>

<p><img src="https://image-proxy.quantopian.com/d63ca5965b3974f369c1a69cc327fd2ff3be5ed5/68747470733a2f2f692e696d6775722e636f6d2f6f614e313765672e6a7067" />  </p>

<p>The first thing that stands out to me is that the Turnover Analysis table looks really bad (way too high turnover, right?). Maybe Autocorrelation as well? Unfortunately I don&#39;t quite understand these very well yet, and obviously didn&#39;t pay much attention to them during my Alpha research, so that&#39;s probably a big lesson for me to learn from.</p>

<p>The rest looks ok to me (beta is a bit high, at least perhaps in relation to alpha?), but please let me know if you think something else looks bad, or if you have any other feedback on the Turnover and/or Autocorrelation numbers.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f679b53f644004764a538' id='5b8f679b53f644004764a538'>
<a href='#5b8f679b53f644004764a538'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536124827000' class='quanto-date posted-at response-posted-at' href='#5b8f679b53f644004764a538'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[5. Alpha Factor Combination (Cont&#39;d)]</p>

<p>Summing of zscores Factor Combination<br>
OOS time-series: 2005-06-15 - 2007-09-15 (inclusive of 2 months of forward returns)</p>

<p><img src="https://image-proxy.quantopian.com/895b50f6c7893e89e735b59f116dd0ad73d4bf7f/68747470733a2f2f692e696d6775722e636f6d2f515974585a67612e6a7067" /></p>

<p>This one looks ok to me. Perhaps one thing to say is that the &#39;alpha&#39; appears to be quite fast, which I&#39;m not sure is a good thing? Anyone know of a way of measuring alpha decay?</p>

<p>Perhaps the spread of the 1 day returns between the first and the 5th quantile is not wide enough to survive trading costs?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f6a2f1e74a90048059dc4' id='5b8f6a2f1e74a90048059dc4'>
<a href='#5b8f6a2f1e74a90048059dc4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536125487000' class='quanto-date posted-at response-posted-at' href='#5b8f6a2f1e74a90048059dc4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[5. Alpha Factor Combination (Cont&#39;d)]</p>

<p>Summing of zscores Factor Combination<br>
OOS time-series: 2005-06-15 - 2007-09-15 (inclusive of 2 months of forward returns)</p>

<p><img src="https://image-proxy.quantopian.com/b43e74b150f7a628ba41c342e3180164ef977d6b/68747470733a2f2f692e696d6775722e636f6d2f4f4a58476e70702e6a7067" /></p>

<p>This one looks really bad to me. Ideally I would have like to see the mass of the violin plots to be significantly below the zero line for the first quantile, and significantly above the line for the 5th quantile. And also not so narrow and long... I can&#39;t really tell much from this graph unfortunately. <em>Sigh!</em> Maybe it&#39;s time to go back to the drawing board... :(  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f6be13a13f100484911e4' id='5b8f6be13a13f100484911e4'>
<a href='#5b8f6be13a13f100484911e4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536125921000' class='quanto-date posted-at response-posted-at' href='#5b8f6be13a13f100484911e4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[5. Alpha Factor Combination (Cont&#39;d)]</p>

<p>Summing of zscores Factor Combination<br>
OOS time-series: 2005-06-15 - 2007-09-15 (inclusive of 2 months of forward returns)</p>

<p><img src="https://image-proxy.quantopian.com/80f65095c901f9d1f4addfac717393e47c9860c7/68747470733a2f2f692e696d6775722e636f6d2f6e4451776c59392e6a7067" /></p>

<p>This one I&#39;m fairly happy with (could be a bit smoother and consistent though). :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f6d9a3a13f100484911f0' id='5b8f6d9a3a13f100484911f0'>
<a href='#5b8f6d9a3a13f100484911f0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536126362000' class='quanto-date posted-at response-posted-at' href='#5b8f6d9a3a13f100484911f0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[5. Alpha Factor Combination (Cont&#39;d)]</p>

<p>Summing of zscores Factor Combination<br>
OOS time-series: 2005-06-15 - 2007-09-15 (inclusive of 2 months of forward returns)</p>

<p><img src="https://image-proxy.quantopian.com/e70b01f7271cddec756926440cc48393561d3a12/68747470733a2f2f692e696d6775722e636f6d2f764e485150446f2e6a7067" /></p>

<p>Another graph I&#39;m fairly happy with (though could be better of course). Good thing because I was starting to get a bit depressed after looking at the Turnover table and Violin plots... :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f6f411e74a90048059df1' id='5b8f6f411e74a90048059df1'>
<a href='#5b8f6f411e74a90048059df1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536126785000' class='quanto-date posted-at response-posted-at' href='#5b8f6f411e74a90048059df1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[5. Alpha Factor Combination (Cont&#39;d)</p>

<p>Summing of zscores Factor Combination<br>
OOS time-series: 2005-06-15 - 2007-09-15 (inclusive of 2 months of forward returns)</p>

<p><img src="https://image-proxy.quantopian.com/3c8995559cc7fc23dc1abe876f379ed404bc5d15/68747470733a2f2f692e696d6775722e636f6d2f73463471466a422e6a7067" /></p>

<p>Far from perfect, but ok perhaps for just a 4 factor (some fairly correlated too) equal weighing combo? Ideally the smoothed-out moving average line should all be positive. Let me know what you think.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f71b61e74a90042059e39' id='5b8f71b61e74a90042059e39'>
<a href='#5b8f71b61e74a90042059e39'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536127414000' class='quanto-date posted-at response-posted-at' href='#5b8f71b61e74a90042059e39'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[5. Alpha Factor Combination (Cont&#39;d)</p>

<p>Summing of zscores Factor Combination<br>
OOS time-series: 2005-06-15 - 2007-09-15 (inclusive of 2 months of forward returns)</p>

<p><img src="https://image-proxy.quantopian.com/79bc5d248f3e511cefc18d64721d74e7add3932d/68747470733a2f2f692e696d6775722e636f6d2f387a627533416d2e6a7067" /></p>

<p>Also pretty happy with this one. Or should the IC mean be higher and IC std be lower? Let me know what you think.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f768c3a13f1004249125e' id='5b8f768c3a13f1004249125e'>
<a href='#5b8f768c3a13f1004249125e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536128652000' class='quanto-date posted-at response-posted-at' href='#5b8f768c3a13f1004249125e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[5. Alpha Factor Combination (Cont&#39;d)</p>

<p>Summing of zscores Factor Combination<br>
OOS time-series: 2005-06-15 - 2007-09-15 (inclusive of 2 months of forward returns)</p>

<p><img src="https://image-proxy.quantopian.com/0520903fbf4320f530c06f6717234cec5cb1c55e/68747470733a2f2f692e696d6775722e636f6d2f6b6e367a5870612e6a7067" /></p>

<p>Another two graphs I can&#39;t really tell if what they show is good or bad. I&#39;m leaning towards bad. The normal distribution curve I think could be narrower and higher (a lower std), and more clearly on the positive side. The Q-Q graph, <em>I think</em>, should show more of an S-shaped curve ideally? Let me know if I&#39;m wrong. Are the outlier dots good or bad?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f78e653f644004764a588' id='5b8f78e653f644004764a588'>
<a href='#5b8f78e653f644004764a588'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536129254000' class='quanto-date posted-at response-posted-at' href='#5b8f78e653f644004764a588'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[5. Alpha Factor Combination (Cont&#39;d)</p>

<p>Summing of zscores Factor Combination<br>
OOS time-series: 2005-06-15 - 2007-09-15 (inclusive of 2 months of forward returns)</p>

<p><img src="https://image-proxy.quantopian.com/1e3a97863b7d7a71f362b73981d553aa7a2b3c1a/68747470733a2f2f692e696d6775722e636f6d2f336a38536e79512e6a7067" /></p>

<p>This looks pretty good as well I think. At least during this time-series. Note that I didn&#39;t exclude any sectors for any of the factors in my alpha research, even if they showed negative IC during the training and initial OOS time-series. Maybe I should have, but I was too worried that I might be overfitting if I did... Thoughts?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8f93b753f644004d64a624' id='5b8f93b753f644004d64a624'>
<a href='#5b8f93b753f644004d64a624'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1536136119000' class='quanto-date posted-at response-posted-at' href='#5b8f93b753f644004d64a624'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Joakim,</p>

<p>Many thanks for sharing your method of designing a good, competition-grade algorithm. Would you perhaps also be willing to tell us whether your existing algorithm that has been doing so well  in the competition is also based on HLOCV data and the fundamentals? As you have mentioned yourself, using any alternative data sources involves payment, so I have wondered for a long time now whether one can create a top-notch algorithm based on the freely available data here at Q only. If his is indeed the case, I would be much heartened, I must say.</p>

<p>Cheers,</p>

<p>Tim  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8fda111e74a9004505a021' id='5b8fda111e74a9004505a021'>
<a href='#5b8fda111e74a9004505a021'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a131e5ef8d2481e3e44e64f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/415ae6f75d17c9d6407e6654e6ab1ef8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a131e5ef8d2481e3e44e64f'>Luke Bianculli</a>
</div>
<a UTCms='1536154129000' class='quanto-date posted-at response-posted-at' href='#5b8fda111e74a9004505a021'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Joakim,</p>

<p>Looks pretty damn good to me, other than turnover. I myself have been struggling with turnover in my research... can never seem to get a good trade off between alpha decay and turnover. One theory of mine is that the more factors you have ranking your universe, the higher the turnover, as many of the ranks I use are subject to daily changes. </p>

<p>I have been planning on testing a method of combining similar factors (i.e quality, value) into single factors within the pipeline, and ranking by the average of that sum (thus reducing turnover?). Hopefully this method will reduce turnover and still provide a good signal via the &#39;comprehensive&#39; factors. I am not sure if that is applicable to your research, but I will be sure to report back if I find anything signifcant.</p>

<p>Thanks for sharing your process, it is very insightful.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8fec3438203c004f8726cc' id='5b8fec3438203c004f8726cc'>
<a href='#5b8fec3438203c004f8726cc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50842732cb5e1a02000000d1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f86535a7fafab6b7d903fc1461362f0a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50842732cb5e1a02000000d1'>James Villa</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536158772000' class='quanto-date posted-at response-posted-at' href='#5b8fec3438203c004f8726cc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Joakim,</p>

<p>From above post, you stated that:</p>

<blockquote>
<p>Take the PEG Ratio for example, perhaps the most commonly used value-to-growth ratio for a GARP type strategy. </p>
</blockquote>

<p>Perhaps you are aware of <a href="https://www.quantopian.com/posts/problem-with-peg-ratio-in-fundamentals" rel="nofollow">problem-with-peg-ratio-in-fundamentals</a></p>

<p>If you are still using peg_ratio as a factor, how do you account for this in your OOS time-series: 2005-06-15 - 2007-09-15 when it seems like Morningstar only started providing this data starting from 2014-06-03. Did you do a workaround in calculating the ratio for your OOS data?</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b9068813a13f15e28491299' id='5b9068813a13f15e28491299'>
<a href='#5b9068813a13f15e28491299'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536190593000' class='quanto-date posted-at response-posted-at' href='#5b9068813a13f15e28491299'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tim,</p>

<p>Thanks, but honestly, my original PARTY (Pure Alpha Risk pariTY) algo&#39;s recent performance could just be pure luck. Too early to tell in my view. Perhaps it just does well in the recent market regime. That said, I&#39;m hoping that it might be less overfit than some of my later algos. It does use only free datasets, and mostly fundamentals and historical price data. </p>

<p>In terms of just winning a bit of cash in the contest, I&#39;m hoping it might still do reasonably well in the next month and a half, since the strategy&#39;s returns were fairly flat 2-3 months ago (till around 16th of July), so I won&#39;t lose any of those returns in the score. See screenshot below. Orange Possum&#39;s score is very impressive though and might be out of reach for quite a while. If that algo is less than 3 month&#39;s old, his/her score may be rising still...</p>

<p><img src="https://image-proxy.quantopian.com/cd2524090f01ab4a3db3e02e943f8e1da8629769/68747470733a2f2f692e696d6775722e636f6d2f7a344d7a4554412e6a7067" /></p>

<p>If I ever finish this one, I plan to research a few premium datasets, and if I find any decent alpha there, use some of my contest winnings to subscribe to those datasets. </p>

<p>@Luke,</p>

<p>Thank you, and yes, turnover is a major concern for this one I think, and something I&#39;ve clearly overlooked. Before proceeding, I think I may need to go back and investigate the individual factors again to better understand what the heck is going on with turnover. Worst case I may need to remove one or more of the factors, or at least modify it/them to bring overall turnover down. Ideally I would like to have average daily turnover less than 20% (before constraining MaxTurnover).</p>

<p>@James,</p>

<p>I hadn&#39;t seen that post before (thank you for linking to it), but yes, I&#39;m aware of the issues with the peg ratio. A few posts down I had stated:</p>

<blockquote>
<p>The AL template uses the PEG Ratio, and as @Blue Seahawk pointed out,<br>
there seem to be something strange with this ratio, as it&#39;s not really<br>
updating very frequently for about half of the symbols in the QTU. For<br>
a ratio with &#39;price&#39; in it, I would have expected it to update daily<br>
for most symbols.</p>
</blockquote>

<p>I&#39;m not using Morningstar&#39;s peg-ratio in any of the factors. Basically I just wanted to use &#39;some&#39; GARP-type factor, one which I didn&#39;t think had much alpha in it, in the Alphalens template I shared. Obviously I&#39;m using only data that&#39;s available from at least 2005. :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b90ee358d7620003f02f9b2' id='5b90ee358d7620003f02f9b2'>
<a href='#5b90ee358d7620003f02f9b2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1536224821000' class='quanto-date posted-at response-posted-at' href='#5b90ee358d7620003f02f9b2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>I was basically thinking of giving more weight to recently better performing factors based on recent risk-adjusted-returns. Maybe a 63 day rolling window of absolute returns / 63 day rolling window of std of those returns (as in the &#39;contest score&#39;). A contest-score &#39;momentum-based&#39; factor weighing scheme essentially. Or the opposite with a shorter look-back window, so a &#39;reversal-based&#39; weighing scheme. Or some combination of this. All of this sounds to me like it may be quite prone to parameter over-fitting however...</p>
</blockquote>

<p>First, I&#39;d consider some sort of weighting based on factor volatility only.  As I recall, there is discussion of this approach here:</p>

<p>Systematic Trading: A unique new method for designing trading and investing systems<br>
by Robert Carver<br>
Link: <a href="http://a.co/d/1DvH4Ls" rel="nofollow">http://a.co/d/1DvH4Ls</a> </p>

<p>Rather than computing the returns volatility per factor within the algo, one could just estimate it from Alphalens (and assume, relative to other factors, it will persist).  I&#39;m not sure that AL spits out the right number, though.  I think one would want something like the standard deviation of the &quot;Factor Weighted Long/Short Portfolio Cumulative Return&quot; but I don&#39;t see it.  I&#39;m guessing it is accessible, though.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b915eabb910a5004c766bd8' id='5b915eabb910a5004c766bd8'>
<a href='#5b915eabb910a5004c766bd8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536253611000' class='quanto-date posted-at response-posted-at' href='#5b915eabb910a5004c766bd8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Grant, I appreciate it! I might try that too if I can figure out how to get the factor returns volatility from either AL or from within pipeline.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b924104086e2a003faeb40b' id='5b924104086e2a003faeb40b'>
<a href='#5b924104086e2a003faeb40b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1536311556000' class='quanto-date posted-at response-posted-at' href='#5b924104086e2a003faeb40b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Note that the sum-of-factor-z-scores alpha combination model is implicitly dropping higher order terms in a polynomial expansion of z-scores (i.e. one could consider the full <a href="https://www.itl.nist.gov/div898/handbook/pri/section3/pri336.htm" rel="nofollow">response surface</a> up to a given polynomial order).</p>

<p>&quot;With four parameters I can fit an elephant, and with five I can make him wiggle his trunk.&quot;  John von Neumann</p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/garp-party-new-strategy-development-thread'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/garp-party-new-strategy-development-thread'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#47212222232526242c07363226293328372e26296924282a">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
