<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
VIX trading algorithm return 150% a year over past 5 years but has 50% drawdown from 2015 meltdown
</title>
<meta content='The algorithm switches between XIV, UVXY, and UPRO depending on the VIX level and the term structure of the first two month VIX futures. Any comments on how to make this algorithm better?' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="64OMcqtADGQ3JN4X4adBRvoS/gGY3Cs4bjALXpX+yh2X5fo/Cbbeh445hyauSOkywpzdaOIQPiPsP9A0P7uopg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=true;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/vix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown' property='og:url'>
<meta content='VIX trading algorithm return 150% a year over past 5 years but has 50% drawdown from 2015 meltdown' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/vix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='VIX trading algorithm return 150% a year over past 5 years but has 50% drawdown from 2015 meltdown' property='og:title'>
<meta content='The algorithm switches between XIV, UVXY, and UPRO depending on the VIX level and the term structure of the first two month VIX futures. Any comments on how to make this algorithm better?' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/vix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5726679f0a624ef52700027d'>
<div class='post-container' data-post-id='5726679f0a624ef52700027d' id='5726679f0a624ef52700027d'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>VIX trading algorithm return 150% a year over past 5 years but has 50% drawdown from 2015 meltdown</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1462134687000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=VIX trading algorithm return 150% a year over past 5 years but has 50% drawdown from 2015 meltdown&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fvix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown%3Futm_source%3Dwebsite_share%26utm_campaign%3Dvix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fvix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown%3Futm_source%3Dwebsite_share%26utm_campaign%3Dvix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown%26utm_medium%3Dlinkedin&amp;title=VIX+trading+algorithm+return+150%25+a+year+over+past+5+years+but+has+50%25+drawdown+from+2015+meltdown+%28Macro+Investor%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/vix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown?utm_source=website_share&amp;utm_campaign=vix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Macro Investor" />
<div class='body-text'>
<div class='body-text-container post-body'><p>The algorithm switches between XIV, UVXY, and UPRO depending on the VIX level and the term structure of the first two month VIX futures.</p>

<p>Any comments on how to make this algorithm better?  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>398 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='57dba9a3b1b215078800003f' id='57dba9a3b1b215078800003f'>
<a href='#57dba9a3b1b215078800003f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57da26c189f8a535cb000559'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0867214038df44fb4e9b8917634599dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57da26c189f8a535cb000559'>Joseph Orlando</a>
</div>
<a UTCms='1474013610000' class='quanto-date posted-at response-posted-at' href='#57dba9a3b1b215078800003f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Wow! This is an awesome algorithm, great returns!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dc2031992f3e39af000081' id='57dc2031992f3e39af000081'>
<a href='#57dc2031992f3e39af000081'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1474043962000' class='quanto-date posted-at response-posted-at' href='#57dc2031992f3e39af000081'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I trade volatility and noticed this shift in market behavior too. The truth is that the volatility ETNs have not been around long enough to do better analysis. We still have not seen them go through a recession so we don&#39;t know how they would behave. I guess time will tell.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dcbd601b12c0f158000489' id='57dcbd601b12c0f158000489'>
<a href='#57dcbd601b12c0f158000489'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57da26c189f8a535cb000559'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0867214038df44fb4e9b8917634599dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57da26c189f8a535cb000559'>Joseph Orlando</a>
</div>
<a UTCms='1474084198000' class='quanto-date posted-at response-posted-at' href='#57dcbd601b12c0f158000489'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Okay, so I took your algorithm and did the following:</p>

<ol>
<li>Accounted for SPY MACD moving averages<br></li>
<li>Accounted for CBOE put/call ratio</li>
</ol>

<p>Resulted in lower drawdown and higher returns, especially when the timeframe is increased through today.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dcbe3c1c865819c4000413' id='57dcbe3c1c865819c4000413'>
<a href='#57dcbe3c1c865819c4000413'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1474084420000' class='quanto-date posted-at response-posted-at' href='#57dcbe3c1c865819c4000413'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The biggest problem with this algo is the beta. It is WAY too high. Without reducing the beta, the algo is very risky to trade in the real world.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dcd3341c865843d700051e' id='57dcd3341c865843d700051e'>
<a href='#57dcd3341c865843d700051e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57da26c189f8a535cb000559'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0867214038df44fb4e9b8917634599dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57da26c189f8a535cb000559'>Joseph Orlando</a>
</div>
<a UTCms='1474089786000' class='quanto-date posted-at response-posted-at' href='#57dcd3341c865843d700051e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I know its similar, the same base algorithm as last time.. But I&#39;m working toward lowering the beta on this.. The returns are too good to pass up.</p>

<p>Dramatic change, still thinking of other datasets to utilize..  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dd9b44b29ec192290006cb' id='57dd9b44b29ec192290006cb'>
<a href='#57dd9b44b29ec192290006cb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57da26c189f8a535cb000559'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0867214038df44fb4e9b8917634599dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57da26c189f8a535cb000559'>Joseph Orlando</a>
</div>
<a UTCms='1474141000000' class='quanto-date posted-at response-posted-at' href='#57dd9b44b29ec192290006cb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Again attempting to lower the smoothed beta.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ddbe31153bf139e600009b' id='57ddbe31153bf139e600009b'>
<a href='#57ddbe31153bf139e600009b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a8c2864859fac3670000ea'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b6a5141a04193929f234f19212b52f6f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a8c2864859fac3670000ea'>John Galt</a>
</div>
<a UTCms='1474149943000' class='quanto-date posted-at response-posted-at' href='#57ddbe31153bf139e600009b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Joseph --</p>

<p>I&#39;m very interested in the volatility-type systems and am following along. A few comments on this algo:</p>

<ol>
<li><p>It seems to have done very well during the August 2015 event, but not so well during 12/15-2/16 or during Brexit. Just an observation, but curious why it was positioned on the right side in Aug 15 but not so well during the other two down drafts.</p></li>
<li><p>Playing around with it, I can get lower drawdowns and beta by allocating a portion to something like TLT instead of being all-in XIV, UVXY or SPY. Returns drop substantially as well but are still significantly larger than buy/hold SPY. Is this considered &quot;cheating&quot;? Even a 50/50 ratio of &quot;X&quot; to TLT does help with the volatility. </p></li>
<li><p>Is there any merit in being out of the market overnight? Since the algo is trading off the prior day&#39;s close, but it probably wouldn&#39;t matter much, which leads me to:</p></li>
<li><p>Is there a way to get intraday VIX data? Or do these algos benefit from the inherent smoothing of only looking at closing prices?I watch the vix/vxv ratio during the day as a way to gauge contango level. My threshold is around .9. If less than .9, contango (and long XIV) is the play. If &gt;.9 I tend to just stay out as VXX gets crushed when volatility falls and the roll yield takes its toll. In the latest few days, the ratio never quite got to 1 (i.e., never reach backwardation). So, would it help to know the real-time contango level or do we need the filtering of only looking at the close?</p></li>
</ol>

<p>Any way -- interesting stuff.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ddbfa653dface97f0000ef' id='57ddbfa653dface97f0000ef'>
<a href='#57ddbfa653dface97f0000ef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a8c2864859fac3670000ea'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b6a5141a04193929f234f19212b52f6f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a8c2864859fac3670000ea'>John Galt</a>
</div>
<a UTCms='1474150316000' class='quanto-date posted-at response-posted-at' href='#57ddbfa653dface97f0000ef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s an example of giving 50% to TLT and reducing the exposure to UVXY. Nothing like the returns from the original algo, but 20% drawdown and still 6 times the return of SPY. Pick your poison...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57de3205f4b69fa9b10005c5' id='57de3205f4b69fa9b10005c5'>
<a href='#57de3205f4b69fa9b10005c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57da26c189f8a535cb000559'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0867214038df44fb4e9b8917634599dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57da26c189f8a535cb000559'>Joseph Orlando</a>
</div>
<a UTCms='1474179596000' class='quanto-date posted-at response-posted-at' href='#57de3205f4b69fa9b10005c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@John Galt:  Lowered your beta and increased your returns. Simply changed the ratio of shares bought. Check a DIFF of our two sources.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57deb655c63cdb78e1000abb' id='57deb655c63cdb78e1000abb'>
<a href='#57deb655c63cdb78e1000abb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1474213466000' class='quanto-date posted-at response-posted-at' href='#57deb655c63cdb78e1000abb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Joseph Orlando, </p>

<p>Why are you putting the date filter param on the fetch_csv url on line 51 of the latest algo posted? That may be throwing off your results. Let me know if I&#39;m missing something.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ded4cc1b17024064000be9' id='57ded4cc1b17024064000be9'>
<a href='#57ded4cc1b17024064000be9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a8c2864859fac3670000ea'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b6a5141a04193929f234f19212b52f6f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a8c2864859fac3670000ea'>John Galt</a>
</div>
<a UTCms='1474221269000' class='quanto-date posted-at response-posted-at' href='#57ded4cc1b17024064000be9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>When adjusting the put/call ratio to use all available dates, performance was significantly negatively impacted. So I took PCR test out, and allocate 50/50 to either XIV/TLT, UVXY/TLT or 100% to SPY.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e13f01c4e345aac200004f' id='57e13f01c4e345aac200004f'>
<a href='#57e13f01c4e345aac200004f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1474379531000' class='quanto-date posted-at response-posted-at' href='#57e13f01c4e345aac200004f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One other item to be careful with here is the update time for the VIX futures contract data. The OP algo is set to run every morning 1 min after market open. From what I&#39;m seeing - the VX1 and VX2 futures prices don&#39;t update with the previous day&#39;s data until later. So the algo would be executing with day old data. I setup a script to ping my own quandl account endpoint to check for updates every minute. So I should know when it updates soon and I will pass along that info here. As of writing this, the quandl endpoint still has not updated.</p>

<p><strong>UPDATE: Quandl data for the VX1 and VX2 futures contracts updates around 11:00 ET daily.</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581accb84165ca98db000276' id='581accb84165ca98db000276'>
<a href='#581accb84165ca98db000276'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/580273d08d3874aa290008a6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c6e856c6e5fa4084d5a195d84326db7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/580273d08d3874aa290008a6'>vladimir prelovac</a>
</div>
<a UTCms='1478151358000' class='quanto-date posted-at response-posted-at' href='#581accb84165ca98db000276'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In Paper trading current data points (v, v1, v2) appear as NaN. I first thought it was because of data delay (Quantopian apparently refreshes before midnight ET) so I changed to shift(2) but it still is NaN. It is very hard to debug stuff in paper trading, any ideas why is this happening?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5828cb2f11f7272b2b0001e2' id='5828cb2f11f7272b2b0001e2'>
<a href='#5828cb2f11f7272b2b0001e2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e2d0bb26a6a19a0002a6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c7f590915b50e8f69af885a4509f3b5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e2d0bb26a6a19a0002a6'>Roberto M</a>
</div>
<a UTCms='1479068473000' class='quanto-date posted-at response-posted-at' href='#5828cb2f11f7272b2b0001e2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,<br>
The same happened to me. Data in paper trade was nan, but was ok in backtesting . I replaced fetch_csv by vix pipeline and custom factor.<br>
You may check this post: <a href="https://www.quantopian.com/posts/upcoming-changes-to-quandl-datasets-in-pipeline-vix-vxv-etc-dot">https://www.quantopian.com/posts/upcoming-changes-to-quandl-datasets-in-pipeline-vix-vxv-etc-dot</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='582ca1c621d1330fad0006ee' id='582ca1c621d1330fad0006ee'>
<a href='#582ca1c621d1330fad0006ee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e2d0bb26a6a19a0002a6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c7f590915b50e8f69af885a4509f3b5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e2d0bb26a6a19a0002a6'>Roberto M</a>
</div>
<a UTCms='1479320012000' class='quanto-date posted-at response-posted-at' href='#582ca1c621d1330fad0006ee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Vladimir, try to adapt these lines to your algo. Perhaps that can help.</p>

<p>from quantopian.algorithm import attach_pipeline, pipeline_output<br>
from quantopian.pipeline import Pipeline<br>
from quantopian.pipeline.data.builtin import USEquityPricing<br>
from quantopian.pipeline.factors import CustomFactor, Latest<br>
from quantopian.pipeline.data.quandl import cboe_vix, cboe_vxv, yahoo_index_vix<br>
...</p>

<p>class GetVIX(CustomFactor):<br>
    window_length = 1<br>
    def compute(self, today, assets, out, vix):<br>
        out[:] = vix[-1]</p>

<p>def initialize(context):<br>
    pipe = Pipeline()<br>
    attach_pipeline(pipe, &#39;my_pipeline&#39;)<br>
    close = Latest(inputs=[USEquityPricing.close], window_length=1)<br>
    pipe.add(close, &#39;Close&#39;)<br>
    pipe.add(GetVIX(inputs=[cboe_vix.vix_close]), &#39;VixClose&#39;)<br>
    pipe.add(GetVIX(inputs=[cboe_vxv.close]), &#39;VxvClose&#39;)<br>
    context.vxx = sid(38054)<br>
    ...</p>

<p>def before_trading_start(context, data):<br>
    context.output = pipeline_output(&#39;my_pipeline&#39;)<br>
    context.vix = context.output[&quot;VixClose&quot;].loc[context.vxx]<br>
    context.vxv = context.output[&quot;VxvClose&quot;].loc[context.vxx]  </p>

<p>def my_rebalance(context, data):<br>
    last_ratio = context.vix/context.vxv<br>
    log.info(&#39;VIX pipe: %s&#39; %context.vix)<br>
    print &quot;last_ratio:&quot;,last_ratio  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='583e364190c2f00012000301' id='583e364190c2f00012000301'>
<a href='#583e364190c2f00012000301'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/580273d08d3874aa290008a6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c6e856c6e5fa4084d5a195d84326db7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/580273d08d3874aa290008a6'>vladimir prelovac</a>
</div>
<a UTCms='1480472136000' class='quanto-date posted-at response-posted-at' href='#583e364190c2f00012000301'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Roberto</p>

<p>I finally got time to implement pipeline instead of fetcher.</p>

<p>Since vxv does not match VX1 more tweaking needs to be done with ratios.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5846230a137994001500014a' id='5846230a137994001500014a'>
<a href='#5846230a137994001500014a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1480991505000' class='quanto-date posted-at response-posted-at' href='#5846230a137994001500014a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is my version, i added a mean reversion portion that tries to profit from the mean reversion in addition to harvesting contango  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='584637541379940012000213' id='584637541379940012000213'>
<a href='#584637541379940012000213'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1480996700000' class='quanto-date posted-at response-posted-at' href='#584637541379940012000213'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a version that uses pipeline to pull vxv instead of the fetcher, it may better suit for live trading. I didnt use MACD  to time the trade, as it looks like doing nothing to decrease the beta / increase the returns  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58484de1d02119001500026e' id='58484de1d02119001500026e'>
<a href='#58484de1d02119001500026e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1481133547000' class='quanto-date posted-at response-posted-at' href='#58484de1d02119001500026e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I used the front month since 2004 to ascertain whether the VIX was in contango or not - it has been in steep contango for the vast majority of the period. I then took each front month and shorted when there was contango, exited the trade when there was backwardation. On a daily basis.</p>

<p>The system has been profitable since 2004 with very high volatility and drawdown.</p>

<p>Futures would certainly be a better route than an ETF - you can decide your own leverage if any.</p>

<p>However: will this trade last? I have no idea.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='587700ee301cd64f077fc5a9' id='587700ee301cd64f077fc5a9'>
<a href='#587700ee301cd64f077fc5a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/586d9e665547ba630e0001b1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/86fe251268d86bfe55595918fc435135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/586d9e665547ba630e0001b1'>Vix Trader</a>
</div>
<a UTCms='1484194030000' class='quanto-date posted-at response-posted-at' href='#587700ee301cd64f077fc5a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Joseph Orlando . Thanks for creating an outstanding algorithm. The returns are amazing.<br>
I have one question about the PCR condition to place the xiv trade. I see that the data for PCR is obtained only for certain dates.<br>
fetch_csv(&#39;<a href="https://www.quandl.com/api/v3/datasets/CBOE/TOTAL_PC.csv?api_key=n3HuGP2EiSi-x9x8sB_q&amp;start_date=2016-06-01&amp;end_date=2016-09-23">https://www.quandl.com/api/v3/datasets/CBOE/TOTAL_PC.csv?api_key=n3HuGP2EiSi-x9x8sB_q&amp;start_date=2016-06-01&amp;end_date=2016-09-23</a>&#39;</p>

<p>Can you please clarify?</p>

<p>When I remove the dates in the above link, the returns come down a lot.</p>

<p>Thanks again for your effort.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5897a110130d8e092229729f' id='5897a110130d8e092229729f'>
<a href='#5897a110130d8e092229729f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1486332176000' class='quanto-date posted-at response-posted-at' href='#5897a110130d8e092229729f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Joseph,</p>

<p>I really liked your algo that improved the performance of my original one by a factor of 1.3x annually! I am not a professional trader and for my personal account I am fine with a 50% drawdown, and I don&#39;t lose sleep over high beta either. But the NaN error is still there, and I don&#39;t want to use VXV. There are plenty of VXV algorithms out there. I was to read the vix futures. Here&#39;s hoping that Quantopian can solve this NaN issue soon by introducing futures data live.</p>

<p>Thank you!<br>
Macro Investor  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5897a5b05690df3829549433' id='5897a5b05690df3829549433'>
<a href='#5897a5b05690df3829549433'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1486333360000' class='quanto-date posted-at response-posted-at' href='#5897a5b05690df3829549433'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tweaked the algorithm some, here are the results. About 230% return each year.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5898acea27b446000abc5204' id='5898acea27b446000abc5204'>
<a href='#5898acea27b446000abc5204'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1486400746000' class='quanto-date posted-at response-posted-at' href='#5898acea27b446000abc5204'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s a low beta version of the algorithm.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5898c083391b3c000c6ca8de' id='5898c083391b3c000c6ca8de'>
<a href='#5898c083391b3c000c6ca8de'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1486405763000' class='quanto-date posted-at response-posted-at' href='#5898c083391b3c000c6ca8de'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And this version basically makes beta 0, increases returns to ~100% each year, lowers drawdown.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5898cb48640479000d585707' id='5898cb48640479000d585707'>
<a href='#5898cb48640479000d585707'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1486408520000' class='quanto-date posted-at response-posted-at' href='#5898cb48640479000d585707'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Macro - can these be traded live, or do they have the same issue as the earlier algos?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5898d527b6491b27c069600c' id='5898d527b6491b27c069600c'>
<a href='#5898d527b6491b27c069600c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1486411047000' class='quanto-date posted-at response-posted-at' href='#5898d527b6491b27c069600c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>They can&#39;t be traded live till futures are implemented into Q. I have been trading the very first model live using spreadsheets, but manually and not automated.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5898dfd6106e18000d89ec58' id='5898dfd6106e18000d89ec58'>
<a href='#5898dfd6106e18000d89ec58'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1486413782000' class='quanto-date posted-at response-posted-at' href='#5898dfd6106e18000d89ec58'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>2017-02-03 13:00 <em>pvr</em>:199 INFO PvR 0.1331 %/day   cagr 1.0   Portfolio value 41790<br>
2017-02-03 13:00 <em>pvr</em>:200 INFO   Profited 40790 on 22839 activated/transacted for PvR of 178.6%<br>
2017-02-03 13:00 <em>pvr</em>:201 INFO   QRet 4078.96 PvR 178.60 CshLw -21839 MxLv 1.80 RskHi 22839 Shrts 0<br>
2017-02-03 13:00 pvr:294 INFO 2011-10-05 to 2017-02-03  $1000  2017-02-06 15:36 US/Eastern<br>
Runtime 0 hr 3.7 min  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5899e85510c216722a0c6b70' id='5899e85510c216722a0c6b70'>
<a href='#5899e85510c216722a0c6b70'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1486481493000' class='quanto-date posted-at response-posted-at' href='#5899e85510c216722a0c6b70'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It catches spikes very well, namely October 2014 &amp; August 2015. Outside of those, the returns come back to Earth, though it beats the market.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589a0477106e18153189ed6d' id='589a0477106e18153189ed6d'>
<a href='#589a0477106e18153189ed6d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5850f1f42c8f69784d00016e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0de2faed51d0a4eae0d936285b0e8844?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5850f1f42c8f69784d00016e'>Lucas</a>
</div>
<a UTCms='1486488695000' class='quanto-date posted-at response-posted-at' href='#589a0477106e18153189ed6d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can anybody explain why the start_date and end_date are fixed to a few months worth of data? Shouldn&#39;t they be the same as the backtest length?</p>

<p><a href="https://www.quandl.com/api/v3/datasets/CBOE/TOTAL_PC.csv?api_key=n3HuGP2EiSi-x9x8sB_q&amp;start_date=2016-06-01&amp;end_date=2016-09-23">https://www.quandl.com/api/v3/datasets/CBOE/TOTAL_PC.csv?api_key=n3HuGP2EiSi-x9x8sB_q&amp;start_date=2016-06-01&amp;end_date=2016-09-23</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589d7b590bcd736ea064c175' id='589d7b590bcd736ea064c175'>
<a href='#589d7b590bcd736ea064c175'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1486715737000' class='quanto-date posted-at response-posted-at' href='#589d7b590bcd736ea064c175'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If you are going to take a 25-30% DD might as well take a 50% for 4x-5x returns, throw $5,000K at it hope you get 5 years of market increases and no 2008 and you are good lol.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589dbc0984568f0f0023ac80' id='589dbc0984568f0f0023ac80'>
<a href='#589dbc0984568f0f0023ac80'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1486732297000' class='quanto-date posted-at response-posted-at' href='#589dbc0984568f0f0023ac80'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This algo is untradable live right now anyways - until futures are made available  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589e44628e11af4845b6b4dc' id='589e44628e11af4845b6b4dc'>
<a href='#589e44628e11af4845b6b4dc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/526e9e7132901d693b000128'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/99559a0f4d9622a23096caaeede1def2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/526e9e7132901d693b000128'>Gavin Heale</a>
</div>
<a UTCms='1486767202000' class='quanto-date posted-at response-posted-at' href='#589e44628e11af4845b6b4dc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I changed the algo to actually get all the PC data with this line</p>

<p><a href="https://www.quandl.com/api/v3/datasets/CBOE/TOTAL_PC.csv?api_key=n3HuGP2EiSi-x9x8sB_q&amp;start_date=2011-01-01&amp;end_date=2017-02-01">https://www.quandl.com/api/v3/datasets/CBOE/TOTAL_PC.csv?api_key=n3HuGP2EiSi-x9x8sB_q&amp;start_date=2011-01-01&amp;end_date=2017-02-01</a></p>

<p>It no longer gets that great spike up in 2015 - though still has pretty decent returns - with a high drawdown.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589e7f9bd681331fdfbdd9ab' id='589e7f9bd681331fdfbdd9ab'>
<a href='#589e7f9bd681331fdfbdd9ab'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1486782363000' class='quanto-date posted-at response-posted-at' href='#589e7f9bd681331fdfbdd9ab'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am not sure the PCR is adding much. So I eliminated it completely. This new algorithm gets all the spikes.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589e8c31428a8b000a057e0f' id='589e8c31428a8b000a057e0f'>
<a href='#589e8c31428a8b000a057e0f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5850f1f42c8f69784d00016e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0de2faed51d0a4eae0d936285b0e8844?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5850f1f42c8f69784d00016e'>Lucas</a>
</div>
<a UTCms='1486785585000' class='quanto-date posted-at response-posted-at' href='#589e8c31428a8b000a057e0f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can someone explain why the algorithm is not tradable live? When I search for info about the csv fetcher, it seems like it works okay: <a href="https://www.quantopian.com/posts/fetch-csv-during-live-trading">https://www.quantopian.com/posts/fetch-csv-during-live-trading</a></p>

<p>&quot;initialize() is called only once at the very start of your algorithm. However, fetch_csv() is called every day in live trading&quot;</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a0c0422073625c77a33407' id='58a0c0422073625c77a33407'>
<a href='#58a0c0422073625c77a33407'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57573ea00b173fd6750004fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/36f3f86a26b1e24d7e790bfffebe787d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57573ea00b173fd6750004fd'>Mark Trader</a>
</div>
<a UTCms='1486929986000' class='quanto-date posted-at response-posted-at' href='#58a0c0422073625c77a33407'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I second that. Can someone please help explain how to trade the latest version of this algorithm live until futures are made available?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a16379c8c17e18ed356991' id='58a16379c8c17e18ed356991'>
<a href='#58a16379c8c17e18ed356991'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57e0486cd73bba90db000360'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/19767ca3ee5455d19dde75dca1f48a51?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57e0486cd73bba90db000360'>xxx xxx</a>
</div>
<a UTCms='1486971769000' class='quanto-date posted-at response-posted-at' href='#58a16379c8c17e18ed356991'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It&#39;s been a while since I looked at this algo but one the key points is that as josh nielsen mentioned above, futures are updated everyday at 11am Tues-Friday.  If you&#39;re executing trades at market open, you&#39;re front running your data and getting invalid backtest results.</p>

<p>I haven&#39;t seen any reason why this algo can&#39;t be traded.  Algos can download remote csv data from sources such as quandl I believe.  I haven&#39;t done this so I may be wrong though.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a1b818a23e655ee062aae5' id='58a1b818a23e655ee062aae5'>
<a href='#58a1b818a23e655ee062aae5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1486993432000' class='quanto-date posted-at response-posted-at' href='#58a1b818a23e655ee062aae5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There is no front running of data. That is taken care of in the code. Hence, the backtest results are fine.</p>

<p>I have tried to run the algorithm live and got NaN error. Same has happened for others. In a few months we will get futures on Quantopian and this algorithm could be run live then.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a1bbcb5d196139a9280aa7' id='58a1bbcb5d196139a9280aa7'>
<a href='#58a1bbcb5d196139a9280aa7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57e0486cd73bba90db000360'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/19767ca3ee5455d19dde75dca1f48a51?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57e0486cd73bba90db000360'>xxx xxx</a>
</div>
<a UTCms='1486994379000' class='quanto-date posted-at response-posted-at' href='#58a1bbcb5d196139a9280aa7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In python NaN stands for &quot;Not a Number&quot;.  There is a bug in your code somewhere and needs to be debugged.</p>

<p>If you are scheduling your rebalance at market open, then you are front-running the backtest data.   Those CBOE csv files are updated at 11am Tues-Friday.  If you run it now, there is no row for today&#39;s data yet and is probably why you would get NaN.</p>

<p>From you&#39;re most recently posted algo:  </p>

<pre><code>schedule_function(my_rebalance, date_rules.every_day(), time_rules.market_open(hours = 0, minutes = 1))  
</code></pre>

<p>The rebalance should instead be done an hour and 31 minutes after market open (11:01am).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a1c69c20596b3e213244ec' id='58a1c69c20596b3e213244ec'>
<a href='#58a1c69c20596b3e213244ec'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1486997148000' class='quanto-date posted-at response-posted-at' href='#58a1c69c20596b3e213244ec'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Peter, Please, look at the whole code, especially where the values are fetched (rename_col1). There is no front running. </p>

<p>As for why the NaN, yes, it is because when the algorithm is run, there is no value yet. But that does not mean the algorithm should be run late. The algorithm should be run when it needs to be run. The algorithm simply needs a better data source, which is coming.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a1d7c6c8c17e3ae0356806' id='58a1d7c6c8c17e3ae0356806'>
<a href='#58a1d7c6c8c17e3ae0356806'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57e0486cd73bba90db000360'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/19767ca3ee5455d19dde75dca1f48a51?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57e0486cd73bba90db000360'>xxx xxx</a>
</div>
<a UTCms='1487001542000' class='quanto-date posted-at response-posted-at' href='#58a1d7c6c8c17e3ae0356806'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I might not have explained it well enough.  Futures data isn&#39;t available until 11am.  It doesn&#39;t matter the data source.  It&#39;s how the futures contract data is made available by CBOE: <a href="http://cfe.cboe.com/data/cfemktstat.aspx">http://cfe.cboe.com/data/cfemktstat.aspx</a></p>

<p>It says:</p>

<blockquote>
<p>PLEASE NOTE: CFE Data does not become available until approximately 10:00 a.m. C.T. the following business day.</p>
</blockquote>

<p>10am CT because they are in Chicago == 11am EST</p>

<p>So in your algo, you have X amount of years of history.  You execute your trades at 9:31am because you have the historical data but in reality, that data wasn&#39;t available until 11am.  So trades you make in your algo, are done in advance of when they really could have been made.  This is front-running the data.</p>

<p>If the above link isn&#39;t enough to convince you, tomorrow morning at market open, manually download that CBOE csv data and see if it has an entry for that day (it won&#39;t).  At 10:58am, start downloading the file once every minute and wait until you see the current day show up.</p>

<p>I hope this helps.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a1ddf320596b61c63248a9' id='58a1ddf320596b61c63248a9'>
<a href='#58a1ddf320596b61c63248a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487003123000' class='quanto-date posted-at response-posted-at' href='#58a1ddf320596b61c63248a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Peter,</p>

<p>Once again, we are talking at cross purposes.</p>

<p>1) Is the backtest right? Yes, it is, as the futures values used at 9:31 am are the closing values for the previous day. Which is the intent. Do you agree? Let&#39;s settle this first. </p>

<p>2) Is it possible to run the algorithm at 9:31 am in general? The algorithm needs closing values for futures for the previous day. This data is freely available from multiple sources including CBOE (<a href="http://www.cboe.com/micro/vix/vixfuturesprices.aspx">http://www.cboe.com/micro/vix/vixfuturesprices.aspx</a>). So, yes, it is absolutely possible to run the algorithm at 9:31 am in general. </p>

<p>3) Is it possible to run the algorithm at 9:31 am withe CFE data using fetch_csv? No, because that data is refreshed at 11 am. But I already told you that is the case. </p>

<p>So what&#39;s your point?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a1def9f72e525ab3a1cfd0' id='58a1def9f72e525ab3a1cfd0'>
<a href='#58a1def9f72e525ab3a1cfd0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487003385000' class='quanto-date posted-at response-posted-at' href='#58a1def9f72e525ab3a1cfd0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bottom line, we need to be able to fetch futures values live in order to run this algorithm live. I believe Q is working on that. If not, I will go for another trading platform to implement this.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a1e341f6c9bf70ce46f494' id='58a1e341f6c9bf70ce46f494'>
<a href='#58a1e341f6c9bf70ce46f494'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57e0486cd73bba90db000360'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/19767ca3ee5455d19dde75dca1f48a51?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57e0486cd73bba90db000360'>xxx xxx</a>
</div>
<a UTCms='1487004481000' class='quanto-date posted-at response-posted-at' href='#58a1e341f6c9bf70ce46f494'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>1) Is the backtest right? Yes, it is, as the futures values used at 9:31 am are the closing values for the previous day. Which is the intent. Do you agree? Let&#39;s settle this first.</p>
</blockquote>

<p>No.  The futures values for the previous day are available at 11am.  Not before.  (And also likely why you get NaN)</p>

<blockquote>
<p>2) Is it possible to run the algorithm at 9:31 am in general? The algorithm needs closing values for futures for the previous day. This data is freely available from multiple sources including CBOE (<a href="http://www.cboe.com/micro/vix/vixfuturesprices.aspx">http://www.cboe.com/micro/vix/vixfuturesprices.aspx</a>). So, yes, it is absolutely possible to run the algorithm at 9:31 am in general.</p>
</blockquote>

<p>No - see #1.  Plus CBOE isn&#39;t a data feed aggregator like quandl, it is THE source for futures contract data that this algo uses.</p>

<blockquote>
<p>3) Is it possible to run the algorithm at 9:31 am withe CFE data using fetch_csv? No, because that data is refreshed at 11 am. But I already told you that is the case.</p>
</blockquote>

<p>The answers to #1 + #2 makes this question irrelevant.</p>

<p>I&#39;m going to have to retire after this reply.  EOD here.  Best of luck with everything!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a1e3c25d19617abd280b69' id='58a1e3c25d19617abd280b69'>
<a href='#58a1e3c25d19617abd280b69'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57e0486cd73bba90db000360'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/19767ca3ee5455d19dde75dca1f48a51?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57e0486cd73bba90db000360'>xxx xxx</a>
</div>
<a UTCms='1487004610000' class='quanto-date posted-at response-posted-at' href='#58a1e3c25d19617abd280b69'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Bottom line, we need to be able to fetch futures values live in order to run this algorithm live. I believe Q is working on that. If not, I will go for another trading platform to implement this.</p>
</blockquote>

<p>Sorry last thing.  This isn&#39;t a limitation of a trading platform or a data feed.  This is set by CBOE.</p>

<p>Best!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a1e584c8c17e3ae035691a' id='58a1e584c8c17e3ae035691a'>
<a href='#58a1e584c8c17e3ae035691a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487005060000' class='quanto-date posted-at response-posted-at' href='#58a1e584c8c17e3ae035691a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Best of luck to you too Peter. </p>

<p>You are wrong, however. </p>

<p>1) Anyone can print out the date and the vix futures values that the algorithm uses during backtest and then cross check with actual data to see that the backtest indeed uses the correct values. Evidently, you won&#39;t do that, and would rather just say without basis that the backtest is wrong. But I have, and the algorithm is correct.</p>

<p>2) CBOE provides the actual value of the vix futures at any given time. (You could have just clicked on the link that I provided, but evidently, you won&#39;t do that, and would rather just say that it is not possible.)  People trade these live. To claim that the end of day value for VIX futures is only available after 11 am on the following day is laughable. I suspect you have never traded these futures yourself. I have.</p>

<p>3) The problem is with the way Q pulls the data. That&#39;s a data source problem, and not a market problem.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a23412be3d41496774bb6b' id='58a23412be3d41496774bb6b'>
<a href='#58a23412be3d41496774bb6b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5180832e27c64c02a4000033'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/60e3384fc53ea54a6e554979b9c4c931?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5180832e27c64c02a4000033'>Daniel Henry</a>
</div>
<a UTCms='1487025170000' class='quanto-date posted-at response-posted-at' href='#58a23412be3d41496774bb6b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Interesting algorithm. Is there an empirical reason for the cutoffs/ratios? I do wonder if the numbers are causing some overfitting of the data.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a23fc295710e000a44bda2' id='58a23fc295710e000a44bda2'>
<a href='#58a23fc295710e000a44bda2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5753d14bed6140330b000460'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62bbf31855607a804155b7be2d047d8d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5753d14bed6140330b000460'>Axel Lieber</a>
</div>
<a UTCms='1487028162000' class='quanto-date posted-at response-posted-at' href='#58a23fc295710e000a44bda2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So, Macro Investor, from a practical perspective, if I wanted to trade this manually, I could just take the VIX futures index values after closing each day from Yahoo, enter them in a spreadsheet with your formula, see if anything needs doing and if yes, enter the trade on my broker&#39;s site any time before the next market opening? And just to make sure I&#39;m not misunderstanding: the two relevant values would currently be ^VIXFEB and ^VIXMAR?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a2444dbe3d4123e274b8c8' id='58a2444dbe3d4123e274b8c8'>
<a href='#58a2444dbe3d4123e274b8c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487029325000' class='quanto-date posted-at response-posted-at' href='#58a2444dbe3d4123e274b8c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is where the numbers come from. I took VIX and VIX futures data from the day they started trading (3/26/2004) to the day before the backtest start (10/5/2011), which is also the day UVXY started trading. I calculated the ratio and set the two boundaries at the median and the 95th percentile.  That, rounded, amounts to -4.5% and 6.8% respectively. No reason really, but I wanted to be long XIV about half the time. I added the UVXY later, since I found that while in general holding UVXY is crazy, there are some times when it makes sense. and I made the 6.8% into 6.5%, as 6.8% seemed too well fitted.</p>

<p>I was curious as to what the cutoffs would be for out of sample so I just checked with data from 10/5/2011 to 2/10/2017. They are and -6.7% and 3.1% instead. -4.5% and 6.5% amount to 70th and 98th percentile respectively. So, compared to the out of sample period, the in sample period is going long XIV far more than designed, and is holding UVXY far less than designed. Not sure if that is a good or a bad thing. </p>

<p>One thing is clear, average contango has definitely increased. Which is what one would expect as the hedgies all pile on VXX and hence make the inverse trade all the more better.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a6005639ce3d77709123dc' id='58a6005639ce3d77709123dc'>
<a href='#58a6005639ce3d77709123dc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57573ea00b173fd6750004fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/36f3f86a26b1e24d7e790bfffebe787d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57573ea00b173fd6750004fd'>Mark Trader</a>
</div>
<a UTCms='1487274070000' class='quanto-date posted-at response-posted-at' href='#58a6005639ce3d77709123dc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Macro Investor, I apologize if this is a dumb question ahead of time. But do you think there is any utility to continually rebalancing the portfolio throughout the day, say everything 30 mins, instead of just at market open? Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a6310505e2a9000d5ef874' id='58a6310505e2a9000d5ef874'>
<a href='#58a6310505e2a9000d5ef874'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487286533000' class='quanto-date posted-at response-posted-at' href='#58a6310505e2a9000d5ef874'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You can, if you can pull the vix futures throughout the day. Right now Q doesn&#39;t even allow pulling them at the open for last day&#39;s close. Sigh.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a64cdaea4e732f5f033cd4' id='58a64cdaea4e732f5f033cd4'>
<a href='#58a64cdaea4e732f5f033cd4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487293658000' class='quanto-date posted-at response-posted-at' href='#58a64cdaea4e732f5f033cd4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Added a little long-short flavor to the algo. Improves returns, but also beta and drawdown (marginally).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a73c650ee39f72c3043fda' id='58a73c650ee39f72c3043fda'>
<a href='#58a73c650ee39f72c3043fda'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57573ea00b173fd6750004fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/36f3f86a26b1e24d7e790bfffebe787d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57573ea00b173fd6750004fd'>Mark Trader</a>
</div>
<a UTCms='1487354981000' class='quanto-date posted-at response-posted-at' href='#58a73c650ee39f72c3043fda'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Macro Investor, thanks for the modification and the answer to the previous question. I&#39;ve modified the algo to run after 95 minutes since the current data structure doesn&#39;t pull the values till 11 am. But running the algo after 11 am still results in nan results for last_ratio_v_v1, last_ratio_v1_v2, and last_ratio. Any idea why this is still occurring since the data is supposed to be there at 11 am with the current setup? Thanks in advance  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a73c700ee39f72c3043fdd' id='58a73c700ee39f72c3043fdd'>
<a href='#58a73c700ee39f72c3043fdd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57573ea00b173fd6750004fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/36f3f86a26b1e24d7e790bfffebe787d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57573ea00b173fd6750004fd'>Mark Trader</a>
</div>
<a UTCms='1487354992000' class='quanto-date posted-at response-posted-at' href='#58a73c700ee39f72c3043fdd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Macro Investor, thanks for the modification and the answer to the previous question. I&#39;ve modified the algo to run after 95 minutes since the current data structure doesn&#39;t pull the values till 11 am. But running the algo after 11 am still results in nan results for last_ratio_v_v1, last_ratio_v1_v2, and last_ratio. Any idea why this is still occurring since the data is supposed to be there at 11 am with the current setup? Thanks in advance  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a73e3ec2403567232f5c15' id='58a73e3ec2403567232f5c15'>
<a href='#58a73e3ec2403567232f5c15'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1487355454000' class='quanto-date posted-at response-posted-at' href='#58a73e3ec2403567232f5c15'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Mark, if you&#39;re trying it today, it&#39;s a Quandl issue. They very often do not update the futures on Fridays, so you&#39;ll have to wait until Monday.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a73ef355c1c548eadf7ec9' id='58a73ef355c1c548eadf7ec9'>
<a href='#58a73ef355c1c548eadf7ec9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1487355635000' class='quanto-date posted-at response-posted-at' href='#58a73ef355c1c548eadf7ec9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I Tried it not on a Friday, ran the backtest and same results, so something else is up.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a7404f05e2a97f725ef780' id='58a7404f05e2a97f725ef780'>
<a href='#58a7404f05e2a97f725ef780'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57573ea00b173fd6750004fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/36f3f86a26b1e24d7e790bfffebe787d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57573ea00b173fd6750004fd'>Mark Trader</a>
</div>
<a UTCms='1487355983000' class='quanto-date posted-at response-posted-at' href='#58a7404f05e2a97f725ef780'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Dave and Elsid, I&#39;ll also try it again on Monday to see if I get the same errors.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a74b5605e2a97f725ef84e' id='58a74b5605e2a97f725ef84e'>
<a href='#58a74b5605e2a97f725ef84e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487358806000' class='quanto-date posted-at response-posted-at' href='#58a74b5605e2a97f725ef84e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It&#39;s useless to try it till Q supports futures.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a75c003f9ebd37ff6f15d6' id='58a75c003f9ebd37ff6f15d6'>
<a href='#58a75c003f9ebd37ff6f15d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57573ea00b173fd6750004fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/36f3f86a26b1e24d7e790bfffebe787d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57573ea00b173fd6750004fd'>Mark Trader</a>
</div>
<a UTCms='1487363072000' class='quanto-date posted-at response-posted-at' href='#58a75c003f9ebd37ff6f15d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Still showing good results if traded after 11 am. Just not sure why the nan error is still occurring if the problem is trying to pull the Quandl data before 11 am. Trying to get to the bottom of the error. Thoughts?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a75d200ee39f11ac044086' id='58a75d200ee39f11ac044086'>
<a href='#58a75d200ee39f11ac044086'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1487363360000' class='quanto-date posted-at response-posted-at' href='#58a75d200ee39f11ac044086'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Mark </p>

<p>You still have 55% DD, how is that great results? You will get blown out in 08&#39; type scenarios  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a75dcd05e2a959595efac7' id='58a75dcd05e2a959595efac7'>
<a href='#58a75dcd05e2a959595efac7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5755c2d292673edcca0001b9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5db2c63d51bc79a8e69460765f31eea?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5755c2d292673edcca0001b9'>Rocco Mangieri</a>
</div>
<a UTCms='1487363533000' class='quanto-date posted-at response-posted-at' href='#58a75dcd05e2a959595efac7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anyone live trading this right now?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a7624dd960591ac1e61df5' id='58a7624dd960591ac1e61df5'>
<a href='#58a7624dd960591ac1e61df5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487364685000' class='quanto-date posted-at response-posted-at' href='#58a7624dd960591ac1e61df5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Elsid, In a 2008 scenario this algo will go long UVXY and give 5-10x return in a matter of weeks. It won&#39;t go bust at all. In fact this algo makes most of the money when it can go long UVXY.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a7646905e2a959595efb41' id='58a7646905e2a959595efb41'>
<a href='#58a7646905e2a959595efb41'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1487365225000' class='quanto-date posted-at response-posted-at' href='#58a7646905e2a959595efb41'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If you check the Quandl data the CBOE_VX1 does not have any data for 2/16/17 - might be your issue?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a7647fc240355bb22f5eec' id='58a7647fc240355bb22f5eec'>
<a href='#58a7647fc240355bb22f5eec'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1487365247000' class='quanto-date posted-at response-posted-at' href='#58a7647fc240355bb22f5eec'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah it should in a perfect scenario, it could barley handle the 2nd half of 2015, doubt it would do any better in 08&#39;  or an even worst 08&#39;  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a76582ebeb74422ddc3a3a' id='58a76582ebeb74422ddc3a3a'>
<a href='#58a76582ebeb74422ddc3a3a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487365506000' class='quanto-date posted-at response-posted-at' href='#58a76582ebeb74422ddc3a3a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have backtested it from 2004 onwards simulating the VIX ETFs using VIX futures data. Elsid, you should do the same before making random statements. This algo will work like a champ if we get another crisis.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a766ecebeb742686dc3bf2' id='58a766ecebeb742686dc3bf2'>
<a href='#58a766ecebeb742686dc3bf2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1487365868000' class='quanto-date posted-at response-posted-at' href='#58a766ecebeb742686dc3bf2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can you please post the results? And the statement about long UVXY I changed XIV and UPRO into a general money market fund and UVXY performs abysmally, 456% with 40% DD in 5-6 year period.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a767d255c1c548eadf8188' id='58a767d255c1c548eadf8188'>
<a href='#58a767d255c1c548eadf8188'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487366098000' class='quanto-date posted-at response-posted-at' href='#58a767d255c1c548eadf8188'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The results are in Excel as the VIX ETFs were not trading in 2008. But since you first claimed that the algo will blow up in 2008, surely you have backtested that and can post those results first?</p>

<p>The algo only goes long UVXY 2% of the time, so the result you get is not a surprise. I don&#39;t think you understand the algo at all Elsid.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a76916d960591ac1e61e75' id='58a76916d960591ac1e61e75'>
<a href='#58a76916d960591ac1e61e75'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487366422000' class='quanto-date posted-at response-posted-at' href='#58a76916d960591ac1e61e75'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Axel, You are right. You can manually trade the algo. But you need to put the order as close to the market open as possible, as the later you put it in the more the information loses it&#39;s value.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a76ad03f9ebd47eb6f1636' id='58a76ad03f9ebd47eb6f1636'>
<a href='#58a76ad03f9ebd47eb6f1636'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1487366864000' class='quanto-date posted-at response-posted-at' href='#58a76ad03f9ebd47eb6f1636'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve been trying to wrap my head around the large drawdown right after the Trump election. The algo has you go long UVXY, which makes sense given the rising VIX leading up to the election. Once the election results were out, the VIX settled down. This just baffled me. Any thoughts would be appreciated.</p>

<p>I read an article on zero hedge that discussed how the VIX was severely dislocated during that time. I wonder if incorporating a trailing VIX or real vol indicator would be of benefit? </p>

<p><a href="http://www.zerohedge.com/news/2016-11-07/goldman-warns-one-largest-vix-dislocations-record">http://www.zerohedge.com/news/2016-11-07/goldman-warns-one-largest-vix-dislocations-record</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a76dbd3f9ebd3f2d6f16a4' id='58a76dbd3f9ebd3f2d6f16a4'>
<a href='#58a76dbd3f9ebd3f2d6f16a4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1487367613000' class='quanto-date posted-at response-posted-at' href='#58a76dbd3f9ebd3f2d6f16a4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Marco you said the Algo makes most of it&#39;s money going Long UVXY which is clearly False, nothing to understand here, that is what you said that i what I tested to see if it was able to lower DD. Then you go and say the Algo is only in UVXY 2-3% of the time, so how can it make most of it&#39;s money from UVXY? I just don&#39;t understand when people say good results with 50%+ DD. If you want to throw 5k-10k at it and gamble that&#39;s fine. </p>

<p>And no I haven&#39;t tested it in 08&#39;, and when you post your exact testing method to verify it&#39;s correct, and even then the ETF&#39;s can have tracking issues to the underlying security. The point that it could barley handle 2015 which was nothing crazy, don&#39;t see how to handles severe sharp down days, without a 50%-70% DD in 08&#39; when VIX hit almost 90.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a76ef395d2c8000d05e94c' id='58a76ef395d2c8000d05e94c'>
<a href='#58a76ef395d2c8000d05e94c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1487367923000' class='quanto-date posted-at response-posted-at' href='#58a76ef395d2c8000d05e94c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The algo definitely makes most of its money when holding UVXY. Just look at the daily positions &amp;  gains in the backtest.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a772548590c2000a515a81' id='58a772548590c2000a515a81'>
<a href='#58a772548590c2000a515a81'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1487368788000' class='quanto-date posted-at response-posted-at' href='#58a772548590c2000a515a81'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is the backtest trading only long UVXY and Cash the other times (MINT)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a7729c2a6194000d4821b3' id='58a7729c2a6194000d4821b3'>
<a href='#58a7729c2a6194000d4821b3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487368860000' class='quanto-date posted-at response-posted-at' href='#58a7729c2a6194000d4821b3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Josh,</p>

<p>The major &quot;error&quot; that the algo makes post election is thinking that the volatility spike will be sustained. But as we all now know, instead it settled quickly and then there has been a long rally. The algo realized that and quickly changed course, and recovered all of the drawdown, but that one &quot;wrong&quot; UVXY trade hurt  it badly.</p>

<p>Why did the VIX spike settle rapidly? I have no clue. But in a 2008 like situation where there is a long and sustained VIX spike, the algo will be in hog heaven.</p>

<p>Elsid,</p>

<p>The long only algo makes about 300x in 5.5 years. Of that, it makes about 6x from UVXY by being long UVXY only 2% of the time. About 70% of the time it is long XIV and makes a decent 10x return, while it is long UPRO 28% of the time and makes another decent 5x return. </p>

<p>So, yeah, the biggest bang for the buck for the algo comes when there is an opportunity to hold UVXY. Those are short and inmensely profitable trades. As I said, you don&#39;t understand the algo at all. But others do. </p>

<p>I have been writing investment articles on seeking alpha for a while, and posting algorithms on Q these days too. I have realized one thing. I can show all the proof and the data, but naysayers like you who simply don&#39;t like the 50% drawdown will always come up with some excuse as to why all backtests are wrong. Regardless, since 2008 was a sustained VIX spike the algo did fabulously well. you may not want to believe it, but that&#39;s your choice.</p>

<p>Any time I waste on you is something I will never get back. So, adios. </p>

<p>Macro  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a7a44336379b2b4295b17b' id='58a7a44336379b2b4295b17b'>
<a href='#58a7a44336379b2b4295b17b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1487381571000' class='quanto-date posted-at response-posted-at' href='#58a7a44336379b2b4295b17b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The algo from yesterday with 44k% returns started with $500 and made $176,566 on top of that.<br>
It took $183,808 to achieve that $176,566, so real returns are 96.1%, below the benchmark at 124%.<br>
Quantopian allows infinite margin/borrowing and in the returns assumes only the starting capital ($500 in this case) was used.<br>
Keeping this in mind can save a lot of time. Use <a href="https://www.quantopian.com/posts/pvr">PvR</a> to see more clearly.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a827932a619409c24825b4' id='58a827932a619409c24825b4'>
<a href='#58a827932a619409c24825b4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1487415187000' class='quanto-date posted-at response-posted-at' href='#58a827932a619409c24825b4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>I have realized one thing. I can show all the proof and the data, but naysayers like you who simply don&#39;t like the 50% drawdown will always come up with some excuse as to why all backtests are wrong. Regardless, since 2008 was a sustained VIX spike the algo did fabulously well. you may not want to believe it, but that&#39;s your choice.</p>
</blockquote>

<p>I understand your frustration but I think there is another side to the story.  I don&#39;t happen to like this particular algo but have spent several months devising my own to trade XIV and VXX. My back testing was done by backfilling the missing ETN prices to 2004 using futures prices.</p>

<p>In back testing the algo produces a CAGR of 98% with a max DD of around 70%.  It has a single parameter.</p>

<p>I have been trading the algo now for a couple of months with small capital.</p>

<p>Unfortunately my experience has been over many years that whatever back testing says things will turn out differently going forward.</p>

<p>I fully expect XIV to go bust at some stage or at least reach the 80% drawdown at which the sponsors are entitled or obliged to shut it down. I hope that my algo will have me out before then but I am not counting on it.</p>

<p>I will rebalance between the algo and cash at regular intervals but of course even this will lead to ruin if the algo goes bust several times.</p>

<p>Our greatest physicists are unable to predict the future. Will the universe end with a bang or a whimper? We do not know. Does time even exist? We do not know.</p>

<p>So &quot;as to why all backtests are wrong&quot;: they are not &quot;wrong&quot; as regards what they are competent to show (the past) but it is a brave man (or a foolish one) who believes they say much, if anything, about the future.</p>

<p>Trading forums are populated by an odd mix of characters. There are no-hopers looking for an easy way out of their dull jobs, competent (and incompetent) statisticians and software designers, people with maths skills, people with no apparent skills, successful &quot;traders&quot;, unsuccessful traders. At different times I have fitted some of these categories and certainly my success has gone and come and come and gone.</p>

<p>There is however no certainty. And that is what almost everyone here is missing. The biggest fools of all are those who believe otherwise.</p>

<p>No offense intended - I have already caused enough offence on this forum.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a837be6a7e6f0ca28cd768' id='58a837be6a7e6f0ca28cd768'>
<a href='#58a837be6a7e6f0ca28cd768'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1487419326000' class='quanto-date posted-at response-posted-at' href='#58a837be6a7e6f0ca28cd768'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A backtest is a simulation of trading, not a model of the future.  So, one can conjure up any old trading recipe, but if it is based on a flawed model, then it will be illusory.  The physical models of a universe with the Earth at its center and light propagating in the luminiferous aether were just fine and dandy, until somebody realized they were wrong, with a combination of logic/math and observations/experiments.  The same goes for finance, it would seem.  One works with incomplete/flawed models that can eventually be replaced with better ones as new information becomes available.</p>

<p>Regarding XIV and VXX, what&#39;s the model for trading them in combination?  How do they work?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a843c236379b131e95b53f' id='58a843c236379b131e95b53f'>
<a href='#58a843c236379b131e95b53f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5859712cebcb4400150000e2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0480104cda1def7cef8c89953430bfe8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5859712cebcb4400150000e2'>Kevin Patterson</a>
</div>
<a UTCms='1487422402000' class='quanto-date posted-at response-posted-at' href='#58a843c236379b131e95b53f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think I may be misunderstanding something about the data and its availability. I use the same URL&#39;s as the algorithm and I can pull that days data down about 4 hours after market close. So if the algorithm ran the next day, surely it would by then have the previous&#39;s day&#39;s data. ... What am I mis-understanding/missing where the data is not available till 90 minutes after market open?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a85c3caa0ae07cccb213e3' id='58a85c3caa0ae07cccb213e3'>
<a href='#58a85c3caa0ae07cccb213e3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1487428668000' class='quanto-date posted-at response-posted-at' href='#58a85c3caa0ae07cccb213e3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Kevin, Quandl doesn&#39;t update CBOE_VX1 and CBOE_VX2 until the next day around 11am. As of Saturday 2/18, VX1 doesn&#39;t have numbers for 2/16 and 2/17 and VX2 is missing 2/17, and won&#39;t until Monday after 11am. These algos also shift the data by one day, so running the algo today, it&#39;ll use the VX1 closing value from 2/14 (11.175) for the 2/15-2/17 backtests. It isn&#39;t much of an issue unless you wanted to trade it live.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a884326a7e6f638b8cd6bc' id='58a884326a7e6f638b8cd6bc'>
<a href='#58a884326a7e6f638b8cd6bc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1487438898000' class='quanto-date posted-at response-posted-at' href='#58a884326a7e6f638b8cd6bc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Regarding XIV and VXX, what&#39;s the model for trading them in combination? How do they work?</p>
</blockquote>

<p>I dont consider myself any sort of expert on the matter Im afraid but these instruments are simply opposite sides of the same coin. Its all about options and futures. These derivatives are not just for speculators: some fund managers buy volatility as a hedge against a long portfolio of S&amp;P Equities. Volatility has tended to rise during market crashes and hence has provided a balance to falling equity values.</p>

<p>So as a holder of XIV I am effectively selling insurance to fund managers for a premium. The premium can be seen in the contango between (by way of example) the front month futures contract and the spot VIX. The premium will go down as contract expiry approaches in the same way that an options value decreases over time. Most of the time. And at expiry, the option writer can sell a new call on vol for a further premium and the seller of futures can sell the new contract for his return  contango, the positive difference between the front month price and spot VIX.</p>

<p>So it works like any other insurance product: the insurer collects premiums and profits when (and only when) the policy holder makes no claim. The market is in contango 75 to 80% of the time and volatility tends to move sideways (not sharply up). So for most of that time a seller of volatility (insurance) collects the premium and profits. XIV is selling premium and therefore goes up in time unless there is a calamity when it will get wiped out. Just as any insurer can get wiped out if he has overplayed his hand and not re-insured any of the risk.</p>

<p>The object of these systems is to collect that insurance premium while it is there and to exit the market when it is not. As a bonus, if you can get the timing right, when contango disappears in a mega crisis you reverse the trade instead of going flat. You buy volatility: go long futures, buy a call, buy VXX the inverse of XIV.</p>

<p>The existence of contango or its opposite (backwardation) seems to be a good trigger, a good indicator. And that makes fundamental business sense: its a business: sell insurance for a premium when you can. Pack up business or do the reverse trade when there is no contango or when contango does not cover the risk of rising volatility.</p>

<p>Its difficult to get the concept of contango and backwardation without looking at the charts of simultaneously trading futures contracts with different expiry dates. And also you should build concatenated time series simulating being long and short of these contracts.  That way you get to see exactly how this premium works.</p>

<p>I wish I could post examples here  its a lot easier to describe all this with pictures and figures. But there you go!</p>

<p>The reason I like this trade is not that I believe it will necessarily last forever but that at the moment it makes genuine commercial sense. You are selling insurance and like any insurer you are relying on statistics to try to provide that the premiums you collect will, over time, cover not only the occasional claims on the policy but also give a profit margin.</p>

<p>This is exactly the sort of trade despised by Naseem Taleb who (probably rightly) says that the Black Swan will eventually wipe you out if you are too aggressive. These sort of trades have  been aptly described as picking up dimes in front of a freight train.</p>

<p>So you need to hedge or re-insure in some way.  Not perhaps as difficult as it may seem: rebalance, dont overtrade, use hopefully reliable indicators. Hopefully a combination of these provisions should / could keep you in the game.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a88f988590c223ef515bfe' id='58a88f988590c223ef515bfe'>
<a href='#58a88f988590c223ef515bfe'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487441816000' class='quanto-date posted-at response-posted-at' href='#58a88f988590c223ef515bfe'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anthony,</p>

<p>No one can predict what will happen in the future. Yet, every single human activity is based on predicting what will happen in the future. Why do humans do this?</p>

<p>It is really a matter of probability. Some things are far more likely than others. Now, likely doesn&#39;t mean 100% probability. However, inaction and negativity based on low probability events is not the mark of prudence. I may die in the next minute from a heart attack, and it&#39;s a certainty that I will die one day. That doesn&#39;t mean I don&#39;t brush my teeth in the morning or take my dog for a walk, as the probability of my dying in the next minute - based solely on past human experience - is fairly low. </p>

<p>Same applies to investing. What are the odds of either XIV or VXX going 80% down in a single day and hence ceasing to exist? There is no way for us to calculate the odds, as we can&#39;t predict the future. However, if we look back and simulate how these would have behaved based on past extreme market movements, we will easily conclude that none of those events caused either of these two ETFs to go down 80% on a single day. Can a larger market move happen some day? We can&#39;t disprove that - as time in infinite and no one can prove a negative. However, rational, pragmatic people don&#39;t choose inaction because something may happen, however improbable.</p>

<p>That&#39;s my contention. To bring up the potential of the world ending in a bang and hence saying no investment policy is safe is defeatist and frankly not very wise. One cannot even hold cash as who knows, we may get hyperinflation. One can then only stay in the moment and spend everything they have right now, as it is only the current moment that matters.</p>

<p>That&#39;s nihilism, and I am too old to be a nihilist. I am also too old to not invest and consume everything. Perhaps I have grown irritable in my old age, but I see no purpose in talking to nihilists, which was the source of my frustration. To be asked to prove a negative - that this strategy will not end in 100% asset loss at some point in the future - is simply idiotic, as, I repeat once again, no one can prove a negative. But I am happy to talk about probabilities, based both on past experience and future simulation.</p>

<p>Q is a very limited platform, in that it doesn&#39;t have any tools for forward simulation. However, these ETFs are fairly straightforward instruments. A little bit of eGARCH and Brownian Bridge is enough to predict their price movements (directionally, and not on absolute terms). So I think it&#39;s prudent to take advantage of these while they are still here.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a890f0cb03c64dcdd9ccca' id='58a890f0cb03c64dcdd9ccca'>
<a href='#58a890f0cb03c64dcdd9ccca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487442160000' class='quanto-date posted-at response-posted-at' href='#58a890f0cb03c64dcdd9ccca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Blue, I believe you are calculating the PvR of the benchmark return wrong. It&#39;s not 124%, it is in low single digits.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a891f48590c223ef515c1a' id='58a891f48590c223ef515c1a'>
<a href='#58a891f48590c223ef515c1a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1487442420000' class='quanto-date posted-at response-posted-at' href='#58a891f48590c223ef515c1a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro Investor<br>
Agreed. I would not be trading it if I didn&#39;t believe I had a greater than even chance of escaping not only unhurt but with a profit. Provided I re-insure in the ways I have suggested!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a8bca7aa0ae00d43b21301' id='58a8bca7aa0ae00d43b21301'>
<a href='#58a8bca7aa0ae00d43b21301'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1487453351000' class='quanto-date posted-at response-posted-at' href='#58a8bca7aa0ae00d43b21301'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Anthony -</p>

<p>I can&#39;t say I understood much, since this sort of derivative stuff is beyond me at this point.  But I kinda get the gist of things.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a997ec507aa25ff4eae507' id='58a997ec507aa25ff4eae507'>
<a href='#58a997ec507aa25ff4eae507'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1487509484000' class='quanto-date posted-at response-posted-at' href='#58a997ec507aa25ff4eae507'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Anthony -</p>

<p>So are there hedged stat-arb or otherwise strategies?  In other words, can one arbitrage using XIV and VXX, or is this more-or-less gambling?  It seems like if one is zigging when the other is zagging, then if they don&#39;t quite zig-zag harmoniously, then one could have something.  Is that the concept?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a9da6c507aa2000deaecb2' id='58a9da6c507aa2000deaecb2'>
<a href='#58a9da6c507aa2000deaecb2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1487526508000' class='quanto-date posted-at response-posted-at' href='#58a9da6c507aa2000deaecb2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>While the background to why it &quot;works&quot; may sound a little complex, the operation of the strategy itself is utter simplicity. When the VIX futures markets are in Contango be long XIV and out of VXX. When the VIX futures markets are in backwardation be long VXX and out of XIV. Since Contango exists 70 to 80% of the time you will mostly be long XIV. You will be long VXX the only time it is actually profitable to be invested in it: when volatility is rising sharply.</p>

<p>As for the definition of contango most of the action is in the front months. The back months are also usually in contango (to the front months and spot) but are not so profitable to trade.</p>

<p>At present I have on my IB screen the following which I use for signals:</p>

<p>30 day VIX Index: 11.76<br>
VIX Futures March 22nd 13.00<br>
VIX Futures April 19th 14.20</p>

<p>As you can see, the front month (March) is trading above the spot and the second month is trading above the front month. Contango exists. Most systems posted here on Q are defining Contango as the second month being above the front (or some derivative thereof such as a moving average).</p>

<p>Some of the algos here are also (or alternatively) using an absolute level of the 30 day VIX to enter or exit XIV (short the VIX) or VXX (long the VIX).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a9e59aacb002000ab07efd' id='58a9e59aacb002000ab07efd'>
<a href='#58a9e59aacb002000ab07efd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487529370000' class='quanto-date posted-at response-posted-at' href='#58a9e59aacb002000ab07efd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tweaked the algirthin to use the VIX VXV ratio and the absolute level of VIX as well. Improves the returns quite a bit.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58aa7ac3881bce000d598bbf' id='58aa7ac3881bce000d598bbf'>
<a href='#58aa7ac3881bce000d598bbf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1487567555000' class='quanto-date posted-at response-posted-at' href='#58aa7ac3881bce000d598bbf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Macro,</p>

<p>I&#39;m not a naysayer I just take issue sometimes when people say this is amazing with something like 50-60% DD. I don&#39;t mind running a strategy with that kind of DD given the reward is there which it is, I guess in my book an amazing strategy would be this performance with 20-30%DD. Either way i plan on allocating a small amount of capital to it, even 5-10K is a few million if it performs the way it does. </p>

<p>Also can you please tell me the numbers for 08&#39; returns and DD if you have them, I have no idea how to load historical VIX data, and run the strategy on it. Anyway still a great strategy for what it is, high risk/high return, again my whole issue is when the word great,amazing, gets thrown around with my specific expectations. </p>

<p>Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58aa8c5e7741ce000d66a095' id='58aa8c5e7741ce000d66a095'>
<a href='#58aa8c5e7741ce000d66a095'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487572062000' class='quanto-date posted-at response-posted-at' href='#58aa8c5e7741ce000d66a095'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Elsid, I didn&#39;t say that the strategy is amazing. In fact, my first post on this was how to make the strategy better, given the drawdown. So please do not put words in my mouth. Also, I don&#39;t really care for what your definition of amazing is, as amazing is not what I am after. </p>

<p>Perhaps in future if you want someone to do your work for you for free, you will be more polite.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ab1d9e867f26650349bdae' id='58ab1d9e867f26650349bdae'>
<a href='#58ab1d9e867f26650349bdae'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1487609246000' class='quanto-date posted-at response-posted-at' href='#58ab1d9e867f26650349bdae'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There is criticism (e.g., Anthony) and then there is pure immaturity and rudeness.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ae608aeff8bc000d3d7f8e' id='58ae608aeff8bc000d3d7f8e'>
<a href='#58ae608aeff8bc000d3d7f8e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1487822986000' class='quanto-date posted-at response-posted-at' href='#58ae608aeff8bc000d3d7f8e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Macro,<br>
It looks like the macd is using opening prices whereas all the other instruments loaded up via fetch_csv are using closing prices. When you run data.history() and pass in SPYG, quantopian thinks you want the price at market open (or whatever time it is when you call my_rebalance, i.e., 7:31am). Seems like the impact of this would be negligible, but I&#39;m not sure yet. I&#39;m currently working on calculating macd using closing prices. I will share soon hopefully.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58aee8e66d5a39000a80f676' id='58aee8e66d5a39000a80f676'>
<a href='#58aee8e66d5a39000a80f676'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1487857894000' class='quanto-date posted-at response-posted-at' href='#58aee8e66d5a39000a80f676'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Anthony - Do you go to cash when say the VIX close is trading above the front month, but the second month is trading below the front month?  IE. the spot/front month are in contango but the first/second month are in backwardation?</p>

<p>Or are you only looking at contango as spot vs front month?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58af4880576f7708a3dd60d6' id='58af4880576f7708a3dd60d6'>
<a href='#58af4880576f7708a3dd60d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e2d0bb26a6a19a0002a6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c7f590915b50e8f69af885a4509f3b5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e2d0bb26a6a19a0002a6'>Roberto M</a>
</div>
<a UTCms='1487882368000' class='quanto-date posted-at response-posted-at' href='#58af4880576f7708a3dd60d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Anthony<br>
If you dont mind, another question to you. Supposing we are long with XIV via such kind  of algo, what would you suggest as a hedge strategy with options to protect against a big and sudden downside?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58b0034103c3d854791eafc1' id='58b0034103c3d854791eafc1'>
<a href='#58b0034103c3d854791eafc1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1487930177000' class='quanto-date posted-at response-posted-at' href='#58b0034103c3d854791eafc1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m only looking at contango vs spot. Instead of cash I go to VXX when in backwardation. Hedge: just trading small and rebalancing between system and cash periodically.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58b6f080c3a1bd19b089fe76' id='58b6f080c3a1bd19b089fe76'>
<a href='#58b6f080c3a1bd19b089fe76'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1488384128000' class='quanto-date posted-at response-posted-at' href='#58b6f080c3a1bd19b089fe76'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Anthony - are you simply looking for if the VIX Spot is trading above/below the first month?  Or are you looking at a ratio - say .90/.95?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58b6f969c07319539aa2ae83' id='58b6f969c07319539aa2ae83'>
<a href='#58b6f969c07319539aa2ae83'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1488386409000' class='quanto-date posted-at response-posted-at' href='#58b6f969c07319539aa2ae83'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A ratio but a single point not a spread which works reasonably well since  2004.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58c6a90271a9540ad28ad830' id='58c6a90271a9540ad28ad830'>
<a href='#58c6a90271a9540ad28ad830'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a4fd1ec371b5d64d0004da'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/15b859df86e91d814b713a3b0fa92718?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a4fd1ec371b5d64d0004da'>Nick Sulzer</a>
</div>
<a UTCms='1489414402000' class='quanto-date posted-at response-posted-at' href='#58c6a90271a9540ad28ad830'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Does anyone know when Q will support futures?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58c6aa3171a95406358ad87c' id='58c6aa3171a95406358ad87c'>
<a href='#58c6aa3171a95406358ad87c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a4fd1ec371b5d64d0004da'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/15b859df86e91d814b713a3b0fa92718?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a4fd1ec371b5d64d0004da'>Nick Sulzer</a>
</div>
<a UTCms='1489414705000' class='quanto-date posted-at response-posted-at' href='#58c6aa3171a95406358ad87c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is anyone participating in the alpha stage testing for futures?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58c9b33cb8bf00000aaa9d78' id='58c9b33cb8bf00000aaa9d78'>
<a href='#58c9b33cb8bf00000aaa9d78'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c91baca35c3f3bda62a742'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbdca517dd842c40169afe5f0e2783a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c91baca35c3f3bda62a742'>Bodhi Fly</a>
</div>
<a UTCms='1489613628000' class='quanto-date posted-at response-posted-at' href='#58c9b33cb8bf00000aaa9d78'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Macro, is there a place you have written the actual formula used for the VIX:VXV version of this algo? If not, can you write it here?<br>
Thank you.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58cbedacaae9b74932a84d9a' id='58cbedacaae9b74932a84d9a'>
<a href='#58cbedacaae9b74932a84d9a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1489759660000' class='quanto-date posted-at response-posted-at' href='#58cbedacaae9b74932a84d9a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro, I love the way your most recent revision looks. The simplicity of it is what gets me, and makes me think it&#39;s promising for the future as well.</p>

<p>However, have you messed around with different times of day to execute the trade? As it stands, every single trade is done at 9:32am. Did you find this to be optimal? </p>

<p>I&#39;m thinking about running some backtests using a variable time of day, using intraday changes as signals. Basically, the algo will know at the beginning of the day which trades to make, but will wait until some optimal time to execute them. </p>

<p>Let me know if this is something you&#39;ve already experimented with.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58cc17b22a8c73790d6673fa' id='58cc17b22a8c73790d6673fa'>
<a href='#58cc17b22a8c73790d6673fa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1489770418000' class='quanto-date posted-at response-posted-at' href='#58cc17b22a8c73790d6673fa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I had someone help me run a backtest prior to 2011, you will experience severe drawdowns. The Drawdowns actually came between 07-08, until Sept 08 when Markets tanked, that&#39;s when the strategy made it all up again.</p>

<p>XIV/UVXY/UPRO with macd disabled<br>
93% Annual Return<br>
81% Max DD</p>

<p>XIV/UVXY/UPRO with macd enabled at -1<br>
47% Annual Return<br>
91% MAX DD</p>

<p>Half position XIV/UVXY/UPRO with macd disabled<br>
49% Annual Return<br>
53% Max DD</p>

<p>Half position XIV/UVXY/UPRO + always half TLT with macd disabled<br>
55% Annual Return<br>
50% Max DD</p>

<p>From 2011+ you only hit like max 30% DD. Which depending on if you use the modified versions or lower your invested amount you can survive.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58cf0a6b09b3e7000d6eba07' id='58cf0a6b09b3e7000d6eba07'>
<a href='#58cf0a6b09b3e7000d6eba07'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1489963627000' class='quanto-date posted-at response-posted-at' href='#58cf0a6b09b3e7000d6eba07'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I know how much overfitting is somewhat frowned upon, but here I decided to see how far I could push this algorithm just by tweaking the constants a little. Managed to improve returns by about 65%, while lowering max DD by about 4%.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d3c62b26b46b7fa5747a0b' id='58d3c62b26b46b7fa5747a0b'>
<a href='#58d3c62b26b46b7fa5747a0b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1490273835000' class='quanto-date posted-at response-posted-at' href='#58d3c62b26b46b7fa5747a0b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I just discovered a relatively fatal error in this code that makes live implementation impossible. The Quandl database for VXV stopped being updated on 12/31/2015. All backtests that go beyond there are missing VXV data, which completely screws with the results if the algorithm makes it past a certain point. </p>

<p>Gonna look for a better data source tonight.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d3c8a3c5bc557d63c4bcdd' id='58d3c8a3c5bc557d63c4bcdd'>
<a href='#58d3c8a3c5bc557d63c4bcdd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1490274467000' class='quanto-date posted-at response-posted-at' href='#58d3c8a3c5bc557d63c4bcdd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p><a href="https://www.quandl.com/api/v1/datasets/CBOE/VXV.csv">https://www.quandl.com/api/v1/datasets/CBOE/VXV.csv</a></p>
</blockquote>

<p>works.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d3cc5fa0a1b76d1095d652' id='58d3cc5fa0a1b76d1095d652'>
<a href='#58d3cc5fa0a1b76d1095d652'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1490275423000' class='quanto-date posted-at response-posted-at' href='#58d3cc5fa0a1b76d1095d652'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That was quick, thank you! Now if only there was minute-resolution data for VIX futures... This algo would really sing.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d3cf6926b46b079c747a70' id='58d3cf6926b46b079c747a70'>
<a href='#58d3cf6926b46b079c747a70'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e2d0bb26a6a19a0002a6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c7f590915b50e8f69af885a4509f3b5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e2d0bb26a6a19a0002a6'>Roberto M</a>
</div>
<a UTCms='1490276201000' class='quanto-date posted-at response-posted-at' href='#58d3cf6926b46b079c747a70'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>VXV is available in Quantopian data via pipeline. Also VIX, VVIX, VXMT and SKEW.<br>
<a href="https://www.quantopian.com/data/quandl/cboe_vxv">https://www.quantopian.com/data/quandl/cboe_vxv</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d3d577a0a1b7058f95d5b3' id='58d3d577a0a1b7058f95d5b3'>
<a href='#58d3d577a0a1b7058f95d5b3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1490277751000' class='quanto-date posted-at response-posted-at' href='#58d3d577a0a1b7058f95d5b3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Got it, thank you.</p>

<p>One thing I&#39;m still trying to wrap my head around is the 1-month and 2-month future data (VX1 and VX2). They seem inherently biased to experience a sharp rise every four weeks, due to the futures contracts rolling over to the next month. Shouldn&#39;t these be weighted using a time-until-expiration parameter to produce a <em>rolling</em> futures value? Otherwise it doesn&#39;t really reflect what it&#39;s trying to reflect, depending on the time of month.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d3d77c26b46b17e0747a4b' id='58d3d77c26b46b17e0747a4b'>
<a href='#58d3d77c26b46b17e0747a4b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1490278268000' class='quanto-date posted-at response-posted-at' href='#58d3d77c26b46b17e0747a4b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I don&#39;t have the link, but there is an algorithm posted here that calculates weights for VIX expiry. Only problem is that  every quarter, expiry is five weeks instead of four. The code hasn&#39;t been updated to account for it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d3d83626b46b17e0747a66' id='58d3d83626b46b17e0747a66'>
<a href='#58d3d83626b46b17e0747a66'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1490278454000' class='quanto-date posted-at response-posted-at' href='#58d3d83626b46b17e0747a66'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Definitely something I&#39;m going to work on tonight, then. I need more coding practice anyway, it&#39;ll be a fun little exercise.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d3e0e677db2f1434b4fdc5' id='58d3e0e677db2f1434b4fdc5'>
<a href='#58d3e0e677db2f1434b4fdc5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1490280678000' class='quanto-date posted-at response-posted-at' href='#58d3e0e677db2f1434b4fdc5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p><a href="https://www.quantopian.com/posts/shorting-vxx-based-on-vix-futures-contango">https://www.quantopian.com/posts/shorting-vxx-based-on-vix-futures-contango</a></p>
</blockquote>

<p>This should give you a head start on weight.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d4089d77db2f51f9b4fe7b' id='58d4089d77db2f51f9b4fe7b'>
<a href='#58d4089d77db2f51f9b4fe7b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1490290845000' class='quanto-date posted-at response-posted-at' href='#58d4089d77db2f51f9b4fe7b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Between 2011 and now, I don&#39;t think there&#39;s a perfect pattern to work off of (tends to be 3rd Wednesday of the month, but it rarely happens on the 4th Wednesday). Root of the problem is that 365 is not divisible by 7, and then you&#39;ve got leap years on top of that. I&#39;m just going to need to manually make a list of expiration dates and go from there.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d4114493d56c7f413d89f7' id='58d4114493d56c7f413d89f7'>
<a href='#58d4114493d56c7f413d89f7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1490293060000' class='quanto-date posted-at response-posted-at' href='#58d4114493d56c7f413d89f7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Have you tried choosing a known expiry date that ends a quarter, four weeks, then another four weeks, then five weeks. Repeat?  I have no idea if it breaks down over the years.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d413bb42e91a767a4c5c43' id='58d413bb42e91a767a4c5c43'>
<a href='#58d413bb42e91a767a4c5c43'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1490293691000' class='quanto-date posted-at response-posted-at' href='#58d413bb42e91a767a4c5c43'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I can&#39;t really do any testing until tonight,  but my intuition tells me that won&#39;t work for every single case. It would start to drift after a few years because 365.25 days per year is not perfectly divisible by 7 days a week.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d45ad3122ae63c44960321' id='58d45ad3122ae63c44960321'>
<a href='#58d45ad3122ae63c44960321'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58cceb5477e4ca05b22955d4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b0812fc4fcc78dc6c3c7c8e1dd552416?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58cceb5477e4ca05b22955d4'>Deleted User</a>
</div>
<a UTCms='1490311891000' class='quanto-date posted-at response-posted-at' href='#58d45ad3122ae63c44960321'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi I am trying to print the date that corresponds to each vix data from the excel file. I tried log.info(&quot;Date %s&quot; %data.current(&#39;v&#39;,&#39;Date&#39;)) but got a nan in the log. Any help?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d4da562c67f84dd1c4ba7e' id='58d4da562c67f84dd1c4ba7e'>
<a href='#58d4da562c67f84dd1c4ba7e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1490344534000' class='quanto-date posted-at response-posted-at' href='#58d4da562c67f84dd1c4ba7e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>if you guys can get these returns, makes you wonder why the pro&#39;s aren&#39;t using these methods to make billions. Look further into the horrendous  volatility of these methods. specifically, what do you think will happen when the market inevitably crashes if its seeing 50% drawdown in 2k15.............  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d5068e5554366027128f93' id='58d5068e5554366027128f93'>
<a href='#58d5068e5554366027128f93'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1490355854000' class='quanto-date posted-at response-posted-at' href='#58d5068e5554366027128f93'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Couple of tools.<br>
1. Hover over the custom chart<br>
2. Click symbol names to turn off two at a time. This isolates the <a href="https://www.quantopian.com/posts/record-pnl-per-stock">PnL</a> for one at a time.<br>
3. Clone/run<br>
4. Take a look at the logging window (it is output from <a href="https://www.quantopian.com/posts/track-orders">track_orders</a>)<br>
5. Consider turning pvr on (and pnl off)</p>

<pre><code>2016-09-12 06:31 my_rebalance:191 INFO CASE 5  
2016-09-12 06:31 _orders:421 INFO    1   Sell -78523 XIV at 33.41   cash 66  
2016-09-12 06:31 _orders:421 INFO    1   Buy 38020 UPRO at 69.00   cash 66  
2016-09-12 06:33 _orders:421 INFO    3      Bot 38020 UPRO at 69.15   cash -13231  
2016-09-12 06:33 _orders:421 INFO    3      Sold -78523 XIV at 33.32   cash -13231  
2016-09-13 06:31 my_rebalance:191 INFO CASE 5  
2016-09-14 06:31 my_rebalance:191 INFO CASE 5  
2016-09-15 06:31 my_rebalance:191 INFO CASE 5  
2016-09-16 06:31 my_rebalance:167 INFO CASE 1  
2016-09-16 06:31 _orders:421 INFO    1   Buy 82945 XIV at 32.33   cash -13231  
2016-09-16 06:31 _orders:421 INFO    1   Sell -38020 UPRO at 70.88   cash -13231  
2016-09-16 06:33 _orders:421 INFO    3      Bot 82945 XIV at 32.17   cash 2437  
2016-09-16 06:33 _orders:421 INFO    3      Sold -38020 UPRO at 70.63   cash 2437  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d5152c6b53f12cd6c31285' id='58d5152c6b53f12cd6c31285'>
<a href='#58d5152c6b53f12cd6c31285'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1490359596000' class='quanto-date posted-at response-posted-at' href='#58d5152c6b53f12cd6c31285'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@jacob</p>

<p>No one can predict unforeseen events, and drawdown during those events is <em>always</em> going to be huge in a high-volatility strategy like this. </p>

<p>I don&#39;t personally see this as a &quot;deploy-and-forget&quot; algorithm, it&#39;s more of a roadmap on how to use VIX future prices to predict its direction. </p>

<p>That being said, the only ways to trade using this strategy are 1) Have the stomach to weather through those &gt;50% drawdowns, or 2) Simply don&#39;t put ALL your money into it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58da9371000127397bbd1741' id='58da9371000127397bbd1741'>
<a href='#58da9371000127397bbd1741'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1490719601000' class='quanto-date posted-at response-posted-at' href='#58da9371000127397bbd1741'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The only thing this approach is missing is minute-resolution data for VIX futures. The results are already borderline unbelievable at a resolution of one day. I can&#39;t even imagine how far improved these backtests would become if the positions were able to pivot in the middle of a mid-day turnaround.</p>

<p>I&#39;m doing this &quot;live&quot; already by checking the results of the algorithm (transposed into a spreadsheet) in real time, and changing positions if the data starts shifting one way in the middle of the day. Requires me to be attentive (although it&#39;s to the point where all I need to do is hit &quot;reload&quot; and a signal pops out), but so far it&#39;s working like a charm. </p>

<p>I will obviously need to keep this going for at least a month or two until I can definitively say whether or not this approach is better than the once-a-day-at-open strategy. I will keep you folks updated on its progress!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58da9a12a6291155569e75bb' id='58da9a12a6291155569e75bb'>
<a href='#58da9a12a6291155569e75bb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58cceb5477e4ca05b22955d4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b0812fc4fcc78dc6c3c7c8e1dd552416?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58cceb5477e4ca05b22955d4'>Deleted User</a>
</div>
<a UTCms='1490721298000' class='quanto-date posted-at response-posted-at' href='#58da9a12a6291155569e75bb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi  @John O&#39;Leary I am doing something similar as you, Although I enter the vix numbers manually into the spreadsheet. When you say hit reload, do you mean browser window or somewhere in your spread sheet? Were you actually able to refresh the numbers in spreadsheet with a button? If that&#39;s true, can you let me know how you pull vix numbers into spreadsheet without typing it in?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58da9c53704d6e22ce4178ce' id='58da9c53704d6e22ce4178ce'>
<a href='#58da9c53704d6e22ce4178ce'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1490721875000' class='quanto-date posted-at response-posted-at' href='#58da9c53704d6e22ce4178ce'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The methods I&#39;m using are fairly prone to error and still need a lot of work. Also using a modified version of this algorithm that I&#39;d like to keep under wraps for now. For that reason, I don&#39;t think I&#39;d like to share how I&#39;m doing it right now. </p>

<p>But for what it&#39;s worth, I&#39;m using Google Sheets to hold the spreadsheet and a combination of Excel commands and Google Apps functions to get everything to work together... sorta. There are a LOT of moving parts.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58da9e9ccc7dd12e0c335bba' id='58da9e9ccc7dd12e0c335bba'>
<a href='#58da9e9ccc7dd12e0c335bba'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1490722460000' class='quanto-date posted-at response-posted-at' href='#58da9e9ccc7dd12e0c335bba'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There is a way to do it in Excel, but sheets works very well with google finance data.  This formula will get you the current price for the ticker listed in cell A2. Modify as you need it.</p>

<pre><code>=(GoogleFinance(A2,&quot;PRICE&quot;))
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58dabf9a0001270f8cbd16a9' id='58dabf9a0001270f8cbd16a9'>
<a href='#58dabf9a0001270f8cbd16a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58cceb5477e4ca05b22955d4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b0812fc4fcc78dc6c3c7c8e1dd552416?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58cceb5477e4ca05b22955d4'>Deleted User</a>
</div>
<a UTCms='1490730906000' class='quanto-date posted-at response-posted-at' href='#58dabf9a0001270f8cbd16a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks guys for the ideas, I got something working!<br>
<a href="http://imgur.com/a/nRuTF">Image</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58dd5b5e577a6045efcd9bd0' id='58dd5b5e577a6045efcd9bd0'>
<a href='#58dd5b5e577a6045efcd9bd0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1490901854000' class='quanto-date posted-at response-posted-at' href='#58dd5b5e577a6045efcd9bd0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tried something a little different here. </p>

<p>Since this algorithm works by looking at close data, and making a move the next morning, I was getting worried that it stumbles on a lot of overnight volatility events.</p>

<p>So I changed the algorithm to still use closing data, <em>and</em> make the transactions at close. All other variable held constant, this actually <em>decreased</em> returns by about 50%. Intriguing... Not exactly sure what would cause this but I have some ideas.</p>

<p>This is definitely the next thing I want to play around with. Maybe even using opening data could yield interesting results. Any feedback on the changes I made are appreciated.</p>

<p>And just to clarify, I understand that this implementation is impossible to deploy since most of this data is only available with a 15-minute delay. Just trying to prove a point here.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58df09de2a95de4e0ad70f56' id='58df09de2a95de4e0ad70f56'>
<a href='#58df09de2a95de4e0ad70f56'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5753d14bed6140330b000460'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62bbf31855607a804155b7be2d047d8d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5753d14bed6140330b000460'>Axel Lieber</a>
</div>
<a UTCms='1491012062000' class='quanto-date posted-at response-posted-at' href='#58df09de2a95de4e0ad70f56'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>As a matter of practicality, John: when I as a retail investor place an order any time after close through my online brokerage, that order will only be executed at the next market open, and thus what you report above is a moot point, right?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58e56ffeb1575c5dab52514e' id='58e56ffeb1575c5dab52514e'>
<a href='#58e56ffeb1575c5dab52514e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c91baca35c3f3bda62a742'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbdca517dd842c40169afe5f0e2783a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c91baca35c3f3bda62a742'>Bodhi Fly</a>
</div>
<a UTCms='1491431422000' class='quanto-date posted-at response-posted-at' href='#58e56ffeb1575c5dab52514e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Axel -     Many retail traders have accounts that let them trade outside of regular hours.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58e603b50aefe9632104cb16' id='58e603b50aefe9632104cb16'>
<a href='#58e603b50aefe9632104cb16'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/518df7ef1ee7cde87a000020'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/45d953d993231950278d0f1e380d9b2f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/518df7ef1ee7cde87a000020'>Femto Trader</a>
</div>
<a UTCms='1491469237000' class='quanto-date posted-at response-posted-at' href='#58e603b50aefe9632104cb16'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In such a case, commissions and/or spread are much higher  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58e63c5f30f6a3000a76b881' id='58e63c5f30f6a3000a76b881'>
<a href='#58e63c5f30f6a3000a76b881'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5753d14bed6140330b000460'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62bbf31855607a804155b7be2d047d8d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5753d14bed6140330b000460'>Axel Lieber</a>
</div>
<a UTCms='1491483743000' class='quanto-date posted-at response-posted-at' href='#58e63c5f30f6a3000a76b881'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Bodhi and Femto. But could the overnight trading really cause a 50% reduction in results as John above reports?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58e98e5b49d453000d45c87a' id='58e98e5b49d453000d45c87a'>
<a href='#58e98e5b49d453000d45c87a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5753d14bed6140330b000460'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62bbf31855607a804155b7be2d047d8d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5753d14bed6140330b000460'>Axel Lieber</a>
</div>
<a UTCms='1491701339000' class='quanto-date posted-at response-posted-at' href='#58e98e5b49d453000d45c87a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I had a guy who does this sort of thing for a living replicate Macro Investor&#39;s latest model in Excel, for backtesting. Unfortunately the results do not match what the model here on Quantopian produces. There are a few days where the model decides differently and that throws things way off.  Seems that the way the MACD is calculated by the library Q uses is different from the way my guy implemented it in Excel. He&#39;s at a loss as to how this could be. So the third signal comes out differently, especially on days with high volatility. (BTW, even when manually adjusting those few days to what the model on Quantopian does, Excel still produces different results, apparently due to the exact timing of the trades.)  Is there anyone here who&#39;d like to take a look at this? I believe we are allowed to do this in accordance with Quantopian&#39;s TOC, section 3, last paragraph, and given that Macro Investor in this thread seemed open to people trying to replicate his work. Anyone interested should be able to message me through Quantopian but if that doesn&#39;t work, please post here and I&#39;ll share my email address.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58e99736a0b1c800101d3787' id='58e99736a0b1c800101d3787'>
<a href='#58e99736a0b1c800101d3787'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1491703606000' class='quanto-date posted-at response-posted-at' href='#58e99736a0b1c800101d3787'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Axel</p>

<p>According to quantopian they keep broken data in production and don&#39;t fix it so they can use it for testing troubleshooting, we found a bunch of differences in VIX data, I see here that it pulls data from quantopian directly for SPY, so don&#39;t know if SPY data might be off a few days a year, but a few days a year wrong data can have completely different results especially with such highly volatile instruments.</p>

<p>I also had someone help me backtest this past 2011 during the 07-09 period, and it showed very high DD of 70-80% at that point you&#39;re just gambling.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58e9a5a1149592000d2a2309' id='58e9a5a1149592000d2a2309'>
<a href='#58e9a5a1149592000d2a2309'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58cceb5477e4ca05b22955d4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b0812fc4fcc78dc6c3c7c8e1dd552416?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58cceb5477e4ca05b22955d4'>Deleted User</a>
</div>
<a UTCms='1491707297000' class='quanto-date posted-at response-posted-at' href='#58e9a5a1149592000d2a2309'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Axel Lieber  Please review the code.   John O&#39;Leary&#39;s code at line 72 says </p>

<pre><code>schedule_function(my_rebalance, date_rules.every_day(), time_rules.market_close(hours = 0, minutes = 1))  
</code></pre>

<p>Means the rebalance will happen 1 minute <strong>before</strong> the market close, not after.  And yes everything matters, including whether the method is called at market open or market close.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58e9aa749a492c00100836b4' id='58e9aa749a492c00100836b4'>
<a href='#58e9aa749a492c00100836b4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5753d14bed6140330b000460'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62bbf31855607a804155b7be2d047d8d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5753d14bed6140330b000460'>Axel Lieber</a>
</div>
<a UTCms='1491708532000' class='quanto-date posted-at response-posted-at' href='#58e9aa749a492c00100836b4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Elsid, thanks, that might explain quite a bit. BTW, which of Macro&#39;s models did you backtest? The latest one from Feb 20? </p>

<p>Tony, thanks, got it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58e9ab7c152d2c0010013d67' id='58e9ab7c152d2c0010013d67'>
<a href='#58e9ab7c152d2c0010013d67'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1491708796000' class='quanto-date posted-at response-posted-at' href='#58e9ab7c152d2c0010013d67'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can&#39;t remember probably a more recent one not the last I don&#39;t think.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58e9f1069a492c0010083a2b' id='58e9f1069a492c0010083a2b'>
<a href='#58e9f1069a492c0010083a2b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5753d14bed6140330b000460'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62bbf31855607a804155b7be2d047d8d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5753d14bed6140330b000460'>Axel Lieber</a>
</div>
<a UTCms='1491726598000' class='quanto-date posted-at response-posted-at' href='#58e9f1069a492c0010083a2b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well, in any case, the Volatility Made Simple blog has back tested many different volatility strategies including an earlier and simpler version of Macro Investor&#39;s strategy, and many of them had a bad time in 2007. From what I see there, the only way to avoid that type of decline is to keep in cash when the term structure is too flat to signal a clear bias. But then you also lose out in situations where despite a flat structure, XIV does very well. Choose your poison. </p>

<p><a href="http://volatilitymadesimple.com/macro-investors-vix-trading-strategy/">http://volatilitymadesimple.com/macro-investors-vix-trading-strategy/</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ebcaf73a61ae00101fad9e' id='58ebcaf73a61ae00101fad9e'>
<a href='#58ebcaf73a61ae00101fad9e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1491847927000' class='quanto-date posted-at response-posted-at' href='#58ebcaf73a61ae00101fad9e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gosh, I didn&#39;t even know someone took an earlier version of my algorithm and posted it in another Web site. LOL.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ebcb4a3a61ae00101fadaa' id='58ebcb4a3a61ae00101fadaa'>
<a href='#58ebcb4a3a61ae00101fadaa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1491848010000' class='quanto-date posted-at response-posted-at' href='#58ebcb4a3a61ae00101fadaa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anyone got a hold of VIX futures data? I would really appreciate if someone can convert the latest algo to eliminate fetch_CSV altogether so that it can be traded on line.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ebd206c6bb1b000d2d408a' id='58ebd206c6bb1b000d2d408a'>
<a href='#58ebd206c6bb1b000d2d408a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1491849734000' class='quanto-date posted-at response-posted-at' href='#58ebd206c6bb1b000d2d408a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>VIX futures data is going to be available in algos after Quantcon (are you going? if so we should meet up - ping me)</p>

<p>Having said that VIX settlement data is not going to be available, so you will have to just use &#39;last traded&#39; (<a href="https://www.quantopian.com/posts/vix-futures-data">see here</a>).</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ebd8d13a61ae000d1faeca' id='58ebd8d13a61ae000d1faeca'>
<a href='#58ebd8d13a61ae000d1faeca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1491851473000' class='quanto-date posted-at response-posted-at' href='#58ebd8d13a61ae000d1faeca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am not going. I am not really a quant. I just do this in my spare time. My only exposure to quantitative algorithms was through business school, which was a LONG time back.</p>

<p>If it is as traded, then the algo will have to be changed to trade at end of day. I am not sure what that will do. I will try.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ec228f3a61ae000d1fb57e' id='58ec228f3a61ae000d1fb57e'>
<a href='#58ec228f3a61ae000d1fb57e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5753d14bed6140330b000460'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62bbf31855607a804155b7be2d047d8d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5753d14bed6140330b000460'>Axel Lieber</a>
</div>
<a UTCms='1491870351000' class='quanto-date posted-at response-posted-at' href='#58ec228f3a61ae000d1fb57e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro, I haven&#39;t made the effort yet to simulate performance of your latest algo all the way back to 2004. Have you done this yourself? If yes, could you share how it fared in 2007? Does it still experience a serious drawdown in that year? Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58eccd6faa012a000f01671a' id='58eccd6faa012a000f01671a'>
<a href='#58eccd6faa012a000f01671a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1491914095000' class='quanto-date posted-at response-posted-at' href='#58eccd6faa012a000f01671a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes it does. DDs are inevitable when you are playing with volatility. But it recovers fast too.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ecdaa5d9b22a000d534637' id='58ecdaa5d9b22a000d534637'>
<a href='#58ecdaa5d9b22a000d534637'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5753d14bed6140330b000460'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62bbf31855607a804155b7be2d047d8d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5753d14bed6140330b000460'>Axel Lieber</a>
</div>
<a UTCms='1491917477000' class='quanto-date posted-at response-posted-at' href='#58ecdaa5d9b22a000d534637'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Macro.  I love the hand grenade you have created. Wish I had about a dozen more of these, all totally uncorrelated, and with a similar level of plausibility/rationale behind them. Your posts on Seeking Alpha have been my induction to volatility trading, and following the evolution of your algo has been a fantastic tutorial for me. Vix &amp; More, and a few other blogs have been helpful as well. I&#39;m about to start trading this live as a minor portion of my portfolio. It most likely won&#39;t generate the results from our backtests but maybe it&#39;ll beat XIV buy &amp; hold, or XIV b&amp;h with some crash protection. If it does, I&#39;m going to have to send you some beer money. Please keep experimenting.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58eceb71aa012a351d016709' id='58eceb71aa012a351d016709'>
<a href='#58eceb71aa012a351d016709'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c5eaf162f2ec272aebf6f2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/89b95b218e63b488c545d73d322dc090?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c5eaf162f2ec272aebf6f2'>Jacob Nash</a>
</div>
<a UTCms='1491921777000' class='quanto-date posted-at response-posted-at' href='#58eceb71aa012a351d016709'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Guys,<br>
Quick question, I am trying to paper trade this strategy but the cboe data is coming back as Nan which is in turn making last_ratio Nan forcing it to buy the default. Has anyone found a work around for this.<br>
Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58eced61f36f3b453b8eda10' id='58eced61f36f3b453b8eda10'>
<a href='#58eced61f36f3b453b8eda10'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1491922273000' class='quanto-date posted-at response-posted-at' href='#58eced61f36f3b453b8eda10'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jacob Nope. We&#39;re slaves to Quandl updating their futures data, usually sometime after 11am ET. I think you can manually visit the CBOE web site and get the EOD numbers, they will ban you if you use automated methods.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ecedbf3a61ae7e961fafd6' id='58ecedbf3a61ae7e961fafd6'>
<a href='#58ecedbf3a61ae7e961fafd6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c5eaf162f2ec272aebf6f2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/89b95b218e63b488c545d73d322dc090?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c5eaf162f2ec272aebf6f2'>Jacob Nash</a>
</div>
<a UTCms='1491922367000' class='quanto-date posted-at response-posted-at' href='#58ecedbf3a61ae7e961fafd6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bummer, appreciate the quick answer Dave  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ecf07c14696836156b7e68' id='58ecf07c14696836156b7e68'>
<a href='#58ecf07c14696836156b7e68'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1491923068000' class='quanto-date posted-at response-posted-at' href='#58ecf07c14696836156b7e68'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One way to handle this is to update the data manually from the CBOE website. Wait until 2pm PST so settlement is updated, then collect the data from this page: <a href="http://www.cboe.com/delayedquote/quotes-dashboard">http://www.cboe.com/delayedquote/quotes-dashboard</a></p>

<p>Enter it into a googledoc and then use fetch_csv in the algo to pull the data and use it.</p>

<p>This means you can enter the data at 2pm, and the next day the algo will use it to trade. The disadvantage is that you have to do this every day - but it is actually really important because the option expiry date (&quot;third&quot; Wednesday) is not correct every month with this algo, so you can keep an eye on it and manually adjust that too.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ed8bf9f7738d252f6df405' id='58ed8bf9f7738d252f6df405'>
<a href='#58ed8bf9f7738d252f6df405'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ecfecc6753e97d62172e1e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7e4169e64bcab57c806d529217e5d2e0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ecfecc6753e97d62172e1e'>Maxmillion McLaughlin</a>
</div>
<a UTCms='1491962873000' class='quanto-date posted-at response-posted-at' href='#58ed8bf9f7738d252f6df405'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There are paid services that offer real-time futures data, no? Is the availability of live future&#39;s data the major bottleneck for an algo like this?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58eda2ebaa012a5d21016c6d' id='58eda2ebaa012a5d21016c6d'>
<a href='#58eda2ebaa012a5d21016c6d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c91baca35c3f3bda62a742'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbdca517dd842c40169afe5f0e2783a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c91baca35c3f3bda62a742'>Bodhi Fly</a>
</div>
<a UTCms='1491968747000' class='quanto-date posted-at response-posted-at' href='#58eda2ebaa012a5d21016c6d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That and the backtesting data seems to be suspect...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58edaf103e370a548e36c6f4' id='58edaf103e370a548e36c6f4'>
<a href='#58edaf103e370a548e36c6f4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ecfecc6753e97d62172e1e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7e4169e64bcab57c806d529217e5d2e0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ecfecc6753e97d62172e1e'>Maxmillion McLaughlin</a>
</div>
<a UTCms='1491971856000' class='quanto-date posted-at response-posted-at' href='#58edaf103e370a548e36c6f4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Bodhi which data are you referring to?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58edb30728c47f6e04db0e09' id='58edb30728c47f6e04db0e09'>
<a href='#58edb30728c47f6e04db0e09'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c91baca35c3f3bda62a742'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbdca517dd842c40169afe5f0e2783a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c91baca35c3f3bda62a742'>Bodhi Fly</a>
</div>
<a UTCms='1491972871000' class='quanto-date posted-at response-posted-at' href='#58edb30728c47f6e04db0e09'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro, why do you feel you need to change the re-balancing from &quot;next day open&quot; to &quot;same day close&quot;? Both &quot;traded&quot; price and &quot;settlement&quot; price data are collected at/after the close...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58edef4a89dd3b639a2613c1' id='58edef4a89dd3b639a2613c1'>
<a href='#58edef4a89dd3b639a2613c1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/589224d93091db6a757e822f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5c60757eac0609127bb38d03de511439?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/589224d93091db6a757e822f'>Kimmo Hintikka</a>
</div>
<a UTCms='1491988298000' class='quanto-date posted-at response-posted-at' href='#58edef4a89dd3b639a2613c1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Guys has anyone checked if UVXY/VXX/TVIX behaves the way it does now, every time it&#39;s in negative contango? I could check but not sure how to get volume and order book data to Quantopian backtest. </p>

<p>Basically what I see there is a lot of traders thinking today is volatility break day and buying premarket/or open with huge volume imbalance of any volatility ETF. Basically, I have been making 0.8 - 2K$ a day with small day trades every day this week. </p>

<p>I simply limit order on the first positive bar, and set sell stop around 9% above current entry and monitor level 2 order book for any large sales if I see large volume I sell at ask, else my stop hits at 9% at some point it does not seem to have volume to hit much higher. Today I cannot see volume buildup but there has been one every day since Friday last week. </p>

<p>Maybe this just a symptom of volatility strategies becoming too popular but definitely interesting. I did not have volume data from the last big volatile breakup so I tried to just look at the price chart and it seems to have a small hacksaw movement back forward. My theory is that people buying these are the same buying penny stock based on newsletter alerts so they buy in the morning but there is not enough capital to sustain the price so afternoon and after hours it gets pushed back, as people collect profits and shorts start to bite.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ef2857dae912635822c80d' id='58ef2857dae912635822c80d'>
<a href='#58ef2857dae912635822c80d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c91baca35c3f3bda62a742'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbdca517dd842c40169afe5f0e2783a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c91baca35c3f3bda62a742'>Bodhi Fly</a>
</div>
<a UTCms='1492068439000' class='quanto-date posted-at response-posted-at' href='#58ef2857dae912635822c80d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Max -VIX and MACD.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f2c23fa4f67b000db98ed6' id='58f2c23fa4f67b000db98ed6'>
<a href='#58f2c23fa4f67b000db98ed6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1492304447000' class='quanto-date posted-at response-posted-at' href='#58f2c23fa4f67b000db98ed6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bodhi,</p>

<p>The current algorithm trades at start of market based on previous days close. If the previous days close is not available, then there are two options. Either trade at start of market using current data, or trade at end of market using current data. I don&#39;t know how the algorithm would behave under either situation. The way I can test it now is to simply use end of day trade, and the close value of the futures, knowing full well that is has lookahead bias. </p>

<p>At any rate, I will just wait till the actuall futures data comes out. Manual trading is a pain and I want to automate. Whichever values we use this algorithm will yield better results than buy and hold XIV, which itself will yield far far better results than buy and hold SPY, which itself will beat 90% of hedge funds.</p>

<p>So this is a golden goose no matter which way you look at it.</p>

<p>Just waiting for the vix futures to come out now.</p>

<p>-Macro.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f3742e4aec360010a8091d' id='58f3742e4aec360010a8091d'>
<a href='#58f3742e4aec360010a8091d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1492349998000' class='quanto-date posted-at response-posted-at' href='#58f3742e4aec360010a8091d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ha ha ha...I hope you are right and certainly agree about the S&amp;P.  I started trading VXX and XIV a few months ago and was up over 30% prior to the recent up-spike in the VIX. I am cautiously optimistic about the trade but have been &quot;fooled by randomness&quot; once too often over the years to bet the ranch.</p>

<p>It&#39;s certainly a fun trade.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590a537ac9d906001062a750' id='590a537ac9d906001062a750'>
<a href='#590a537ac9d906001062a750'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1493848954000' class='quanto-date posted-at response-posted-at' href='#590a537ac9d906001062a750'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tried to recode using continuous futures and got really bad results. Anyone else tried it? </p>

<p>I am not really a coder so if someone can recode and replace all the fetch_csvs with pipeline I would really appreciate it very much.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590a97ebb21838000dfe70b3' id='590a97ebb21838000dfe70b3'>
<a href='#590a97ebb21838000dfe70b3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1493866475000' class='quanto-date posted-at response-posted-at' href='#590a97ebb21838000dfe70b3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro,</p>

<p>Thank you very much for this interesting algo.  I just tried removing the fetch_cvs and replacing with pipeline.  I think you can only do VIX and VXV at this time.  I think Quantopian is working on futures but I don&#39;t see how to get VX1 and VX2 right now.  That being said I am not a futures guy.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590aab40b21838000dfe71db' id='590aab40b21838000dfe71db'>
<a href='#590aab40b21838000dfe71db'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1493871424000' class='quanto-date posted-at response-posted-at' href='#590aab40b21838000dfe71db'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks  much Jacob! In the mean time, I had tweaked the algo already to make it simpler and a bit bolder about switching to UVXY, which also improves performance. I have attached the latest backtest.</p>

<p>Unfortunately, then I tried to incorporate the pipeline on top of that, and didn&#39;t get the same results. Which means the end of day VIX and VXV values for the pipeline are not match the ones that fetcher got. </p>

<p>I also independently cracked the vix futures code. You have to select it at close of the previous day. Trouble is, Quantopian doesn&#39;t have the futures settlement price. So it is impossible to get that. </p>

<p>Plus you can&#39;t have the pipeline code and the futures code in the same algorithm</p>

<p>So, I am officially giving up. I am going to hire someone to code this for me outside of quantopian, and then hook up to IB directly. Quantopian is too buggy and unstable, and too slow to add features. All the data that I need for the algo is already available for free online, so it will be a simple case of screen scraping.</p>

<p>If I tweak the algo again to improve performance, I will post updates. But waiting for Quantopian to fix everything to run this live is like waiting for Godot.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590ab122b218380b94fe71bc' id='590ab122b218380b94fe71bc'>
<a href='#590ab122b218380b94fe71bc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1493872930000' class='quanto-date posted-at response-posted-at' href='#590ab122b218380b94fe71bc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I looked at the original post almost exactly a year back. The performance has improved some 6-7 fold based on all the feedback I got from folks here. Thank you!</p>

<p>Except, there is no way still to implement this live. :-(  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590ad08b70631102a3ae5566' id='590ad08b70631102a3ae5566'>
<a href='#590ad08b70631102a3ae5566'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5753d14bed6140330b000460'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62bbf31855607a804155b7be2d047d8d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5753d14bed6140330b000460'>Axel Lieber</a>
</div>
<a UTCms='1493880971000' class='quanto-date posted-at response-posted-at' href='#590ad08b70631102a3ae5566'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro, do you intend to offer this to people on a different platform or maybe as a subscription service of some sort?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590af00db218380b94fe75ca' id='590af00db218380b94fe75ca'>
<a href='#590af00db218380b94fe75ca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1493889037000' class='quanto-date posted-at response-posted-at' href='#590af00db218380b94fe75ca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro Investor</p>

<blockquote>
<p>I tried to recode using continuous futures and got really bad results. Anyone else tried it?</p>
</blockquote>

<p>You can NOT use a continuous futures contract to back test XIV if that is what you are trying to do.  Nor indeed to calculate historic contango/backwardation. You need individual contracts. And so far as testing XIV is concerned you need to form an index of daily price returns. The real trick is to ensure that on the roll date the daily return is that of the old contract / new contract so you capture the Contango or backwardation.  Almost any other method will distort the calculated price series .  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590b529805cb774fc5f4f36e' id='590b529805cb774fc5f4f36e'>
<a href='#590b529805cb774fc5f4f36e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1493914264000' class='quanto-date posted-at response-posted-at' href='#590b529805cb774fc5f4f36e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Anthony. I knew something was off, just not what it was. Can you please explain just for my edification what exactly continuous futures are and why they are different?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590b53f74de40b0aa91dd9ab' id='590b53f74de40b0aa91dd9ab'>
<a href='#590b53f74de40b0aa91dd9ab'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1493914615000' class='quanto-date posted-at response-posted-at' href='#590b53f74de40b0aa91dd9ab'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I found a major implementation issue in the original algorithm. I was using fetcher to get VXV. Guess what? Quandl csv stopped updated VXV on December 2015. So the algo was all off. So, I now implemented VIX and VXV with the pipeline. Resulted attached. But even there, if I pull VIX from the cobe_vix pipeline the results are lower. If I pull them from the yahoo_index_vix pipeline they are higher. This is disgustingly corrupt data.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590b547d05cb774fc5f4f399' id='590b547d05cb774fc5f4f399'>
<a href='#590b547d05cb774fc5f4f399'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1493914749000' class='quanto-date posted-at response-posted-at' href='#590b547d05cb774fc5f4f399'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Axel, IF I get it implemented outside of Quantopian, it will likely run as a automated job every night on the IB platform. I will happily give the code to do that to people who would want to implement it on their own. I wouldn&#39;t do a fee-based service. That&#39;s like a low paying second job which I can&#39;t afford to take, as I am working 80 hours a week on my main line of work, and as I near my 50s, I am thinking of retirement, not taking up more work.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590b631bb21838000dfe7e5d' id='590b631bb21838000dfe7e5d'>
<a href='#590b631bb21838000dfe7e5d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1493918491000' class='quanto-date posted-at response-posted-at' href='#590b631bb21838000dfe7e5d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And now, since Quandl will stop supporting yahoo databases (per another post this morning) I have recoded the algo using the cboe_vix pipeline. Attached is the backtest.</p>

<p>It&#39;s better anyway as I trust CBOE data the most.</p>

<p>Does anyone know if there is a flag that gets turned on during live testing that I can use to fork the code to make one last attempt to get it working through Quantopian?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590b6c35b21838000dfe7eee' id='590b6c35b21838000dfe7eee'>
<a href='#590b6c35b21838000dfe7eee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1493920821000' class='quanto-date posted-at response-posted-at' href='#590b6c35b21838000dfe7eee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro Investor<br>
Jeez....its a bloody big topic. Send me a message via my website with your email address and I&#39;ll send you a spreadsheet as to how I calculate the index for a continuous futures contract.</p>

<p>It just entails stringing together individual futures contracts so that you can back test. In general it&#39;s not a great idea to use conventional back adjusting methods.  I prefer to create an index in the way my spreadsheet will show.</p>

<p>As to concatenating futures contracts and the general methods used you might take a look at:<br>
<a href="http://www.csidata.com/ua/backadj.htm">http://www.csidata.com/ua/backadj.htm</a><br>
<a href="http://www.csidata.com/custserv/onlinehelp/OnlineManual/">http://www.csidata.com/custserv/onlinehelp/OnlineManual/</a></p>

<p>The disadvantage of my method of course is that you can&#39;t see the prices. But it forms a more accurate picture of what you would gain or lose over time.</p>

<p>The real nub of it is filling the gaps created by contango and backwardation when there is a gap between the expiry price of one contract and the price of the next. Much of the money is made by the roll rather than the price movement or trend. This is why the vix is such a profitable trade if you get the timing right. You are just hauling in the contango or insurance premium 80% of the time and running like hell when it goes wrong!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590b7147606c8b46235506d6' id='590b7147606c8b46235506d6'>
<a href='#590b7147606c8b46235506d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55eefc2af269c592d80008a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8985b490c95e135c2bbcd7d1a0dce16b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55eefc2af269c592d80008a9'>Jamie McCorriston</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1493922119000' class='quanto-date posted-at response-posted-at' href='#590b7147606c8b46235506d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anthony, you raise a good point about continuous futures. The implementation on Quantopian is actually quite different from other sources that I&#39;ve seen. We don&#39;t subscribe to continuous future data. Instead, we get individual contract data and build the continuous futures ourselves on top of that contract data. By default, when you ask for the history of a continuous future, it&#39;s back-adjusted for the price jumps between consecutive contracts. However, if you just want to use the continuous future to get the historical price of the underlying contract to which the continuous future was pointing, you can explicitly tell to perform any adjustments. If you haven&#39;t seen it yet, <a href="https://www.quantopian.com/posts/futures-data-now-available-in-research">this notebook</a> demonstrates the features of the continuous future pretty well.</p>

<p>I&#39;d love to get your thoughts on the current implementation. If you have any questions/suggestions, feel free to post them on the thread I linked to so we can avoid changing the topic too much on this thread.</p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='590b754005cb775922f4f5ae' id='590b754005cb775922f4f5ae'>
<a href='#590b754005cb775922f4f5ae'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1493923136000' class='quanto-date posted-at response-posted-at' href='#590b754005cb775922f4f5ae'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Actually, here you go: I put in on my website. Let me know if there are errors - I had rather a lot of different versions.<br>
<a href="https://anthonyfjgarner.net/2017/05/04/spreadsheet-to-calculate-a-continuous-index-of-vix-futures-contracts/">Spreadsheet for Continuous futures Index using VIX Futures</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590b89f4e6022c00101497ff' id='590b89f4e6022c00101497ff'>
<a href='#590b89f4e6022c00101497ff'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1493928436000' class='quanto-date posted-at response-posted-at' href='#590b89f4e6022c00101497ff'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have given up on live trading this through Quantopian for now, and wanted to build a spreadsheet for manual trading.   I am still confused where to get data for VIX 1 Month Futures and VIX 2 Month Futures.  Can I just use the previous close on Yahoo&#39;s ^VIXJUN and ^VIXJUL respectively?  When I try this and get the 2017-05-03 close I get:</p>

<ul>
<li>^VIXJUN = 12.97<br></li>
<li> ^VIXJUL = 13.86</li>
</ul>

<p>Where as the CBOE data suggests:</p>

<ul>
<li> CBOE_VX1 = 12.075<br></li>
<li> CBOE_VX2 = 12.975</li>
</ul>

<p>If CBOE is the best source of this data, and it only updates their csv at 11am where do you get this data before open?<br>
Also does anyone know why google finance has VIXJUL but not VIXJUN?</p>

<p>Sorry if this is to basic a question, this algorithm is my first exposure to Futures.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5910cbf85bac7d001079b80a' id='5910cbf85bac7d001079b80a'>
<a href='#5910cbf85bac7d001079b80a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56e8d3e2dc90e14e5e000302'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b68e8b2735ba656d1153016a8b10761d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56e8d3e2dc90e14e5e000302'>Eugene Chen</a>
</div>
<a UTCms='1494273016000' class='quanto-date posted-at response-posted-at' href='#5910cbf85bac7d001079b80a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A question for Macro:  How did you decide on the inflection breakpoints of 3% for contango and 6.5% for backwardation?  I understand the concept but am unsure why those levels are optimal for trading this algo.  Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5910d245a6a4d60010b61cc9' id='5910d245a6a4d60010b61cc9'>
<a href='#5910d245a6a4d60010b61cc9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494274629000' class='quanto-date posted-at response-posted-at' href='#5910d245a6a4d60010b61cc9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have been able to start paper trading this algo. I am creating my own version for the CSV files for vx1 and vx2. I get the data from </p>

<p><a href="http://cfe.cboe.com/market-data/futures-settlements">http://cfe.cboe.com/market-data/futures-settlements</a></p>

<p>I will paper trade this for a few weeks and then start to live trade this. The royal pain is that I have to manually update my own csv file each night, but I have written a java program to automate it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5910d2f82a7d211eed1c475b' id='5910d2f82a7d211eed1c475b'>
<a href='#5910d2f82a7d211eed1c475b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494274808000' class='quanto-date posted-at response-posted-at' href='#5910d2f82a7d211eed1c475b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Eugene, the breakpoints are -4.5% and +6.5%. I first calculated the average value for R for the total duration of the futures. That was about -4.5%. So, the first version of my algorithm was to go long XIV at below -4.5%, and go long UVXY at above -4.5%. But I soon realized that it is not safe to go long UVXY that fast. I then tried +4.5% or above as the cut off for UVXY. That worked much better. I then kept raising it, till it seemed to have found the optimal at 6.5%. This was on the training data from 2004-2010. I have used that since and it seemed to have worked.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5910d6e62a7d211eed1c47c0' id='5910d6e62a7d211eed1c47c0'>
<a href='#5910d6e62a7d211eed1c47c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494275814000' class='quanto-date posted-at response-posted-at' href='#5910d6e62a7d211eed1c47c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro, to bad you were paper trading today was a good day to be in XIV :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5910e2dc84c919174ff1cd25' id='5910e2dc84c919174ff1cd25'>
<a href='#5910e2dc84c919174ff1cd25'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494278876000' class='quanto-date posted-at response-posted-at' href='#5910e2dc84c919174ff1cd25'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is perfect! Thank you Kurry!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5910e323fe66cd000de0c113' id='5910e323fe66cd000de0c113'>
<a href='#5910e323fe66cd000de0c113'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494278947000' class='quanto-date posted-at response-posted-at' href='#5910e323fe66cd000de0c113'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob, I have lots of investments in XIV already. :-)</p>

<p>What I have been hesitant to do is to switch to UVXY. But that&#39;s where the real money is. I will let this algo loose in a few weeks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5910ebfb7fdd3e74bb5894b7' id='5910ebfb7fdd3e74bb5894b7'>
<a href='#5910ebfb7fdd3e74bb5894b7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494281211000' class='quanto-date posted-at response-posted-at' href='#5910ebfb7fdd3e74bb5894b7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Speaking of UVXY, its seems like this algorithm misses the biggest spike on Jun 7th 2013 to Jun 21st 2013.   I am looking into why any ideas?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5910f7a0599dfa0010f6d14c' id='5910f7a0599dfa0010f6d14c'>
<a href='#5910f7a0599dfa0010f6d14c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1494284192000' class='quanto-date posted-at response-posted-at' href='#5910f7a0599dfa0010f6d14c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Google didn&#39;t have that as a split when I checked but Yahoo did.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59114c52cb3873000d2d7c48' id='59114c52cb3873000d2d7c48'>
<a href='#59114c52cb3873000d2d7c48'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494305874000' class='quanto-date posted-at response-posted-at' href='#59114c52cb3873000d2d7c48'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The reality is, all these data sources are horrible. I replicated the whole algorithm in Excel plus in java, using all vix/vxv/vix futures data from CBOE, and xiv/uvxy/upro data from nasdaq. Yahoo had data issues. So did google. </p>

<p>After I did all of that, I am getting close to what Q backtesting shows, but not quite. Which makes sense because of slippage and timing. </p>

<p>To run the algorithm I only need end of day values for vix/vxv/vix futures, and all that is available for direct download from CBOE in csv files. So, while the paper trading is going on, I am writing a java code to download and determine which of XIV/UVXY/UPRO to buy, which should be straightforward. Then I will hook the java code directly to the IB java api and be done with it.</p>

<p>I just wasted a year hoping that Q will get VIX futures settlement prices. Oh well, lesson learned.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591189180f25de00101c9b9a' id='591189180f25de00101c9b9a'>
<a href='#591189180f25de00101c9b9a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57ba18811646fc2075000b2e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e8958c457a60cb5c7cde7d3e6d6bf706?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57ba18811646fc2075000b2e'>Carl Bosson</a>
</div>
<a UTCms='1494321432000' class='quanto-date posted-at response-posted-at' href='#591189180f25de00101c9b9a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello guys!<br>
I was just wondering if it is possible to integrate the front month and back month VIX futures to Q without using the fetcher now when futures are available?<br>
I thought I saw a post claiming the futures are available but if you import them you have to fetch the VIX spot data instead. I would highly appreciate any information on the matter. </p>

<p>Best,<br>
Carl  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5911bfd29a6a92000dbd1901' id='5911bfd29a6a92000dbd1901'>
<a href='#5911bfd29a6a92000dbd1901'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1494335442000' class='quanto-date posted-at response-posted-at' href='#5911bfd29a6a92000dbd1901'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@MACRO - I am also trying to build out an excel spreadsheet to manually trade this.  When you say MACD &quot;greater than&quot; -1 - do you mean it needs to be -1.01 or &quot;less&quot;  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5911d1322f9a9503261fe0e2' id='5911d1322f9a9503261fe0e2'>
<a href='#5911d1322f9a9503261fe0e2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1494339890000' class='quanto-date posted-at response-posted-at' href='#5911d1322f9a9503261fe0e2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Carl</p>

<p>you can get the data using VIX futures as below:</p>

<pre><code># Use futures VIX data  
vx_chains = data.current_chain(continuous_future(&#39;VX&#39;))

front_month = data.history(vx_chains[0], fields=&#39;price&#39;, bar_count=1, frequency=&#39;1d&#39;).iloc[0]  
secondary_month = data.history(vx_chains[1], fields=&#39;price&#39;, bar_count=1, frequency=&#39;1d&#39;).iloc[0]  
</code></pre>

<p>Note that these are last traded prices and not settlement prices. Also, as you mentioned, you still need to get the spot price using fetcher.</p>

<p>BTW, this is all useless since you cannot live trade the futures calendar using Q right now. Their futures data is all for academic purposes and worthless for real world trading.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5911f3dcfe66cd78efe0c24e' id='5911f3dcfe66cd78efe0c24e'>
<a href='#5911f3dcfe66cd78efe0c24e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494348764000' class='quanto-date posted-at response-posted-at' href='#5911f3dcfe66cd78efe0c24e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tyler, I have dropped the MACD check completely now. It didn&#39;t seem to add value after I ran my backtests outside of Q. I don&#39;t trust Q backtests any more.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5911f78f491426000db6d819' id='5911f78f491426000db6d819'>
<a href='#5911f78f491426000db6d819'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494349711000' class='quanto-date posted-at response-posted-at' href='#5911f78f491426000db6d819'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro, that is good news because getting a accurate MACD on SPYG has been holding me up.  The Java ta-lib behaves totally different than the python one.  Also the price series from yahoo, google, and quantopian all differ.  Its actually starting to mess with me, when I compare numbers from different sites they either differ, they calculate different, or seem just wrong.  Makes me question wall street reality.   I mean maybe Yahoo is all wrong, but if everyone is using those numbers then that wrong reality is self affirming.  This is worst than &quot;fake news&quot;!  :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5911fa420f25de00101ca35c' id='5911fa420f25de00101ca35c'>
<a href='#5911fa420f25de00101ca35c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1494350402000' class='quanto-date posted-at response-posted-at' href='#5911fa420f25de00101ca35c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>simply because of a VIX price granularity or closing price matter, yes? If it is MACD or another technical issue, so long as the problem is clear, several of us would be happy to don our cape and fly in to resolve coding struggles. Could just be unhandled nans for example.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5911fff42f9a9503261fe437' id='5911fff42f9a9503261fe437'>
<a href='#5911fff42f9a9503261fe437'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494351860000' class='quanto-date posted-at response-posted-at' href='#5911fff42f9a9503261fe437'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Blue,  I don&#39;t know what it is because I can&#39;t find two sources are the same.  AKA no two sites have the same closing prices, nor if I use yahoo 40d window closing prices I can&#39;t get the same MACD with python ta-lib, java ta-lib, nor if I calculate MACD in excel by hand.   I have learned that ta-lib has &quot;memory&quot; so window size matters so it won&#39;t match excel, quantopian uses a fixed window version of ta-lib for better backtesting.  That is the best I could come up with, without two sources being exactly the same I can&#39;t claim a bug in any one source.   Just look at MACD(12,26,9) for SPYG on Google vs Yahoo.  They are totally different,  Yahoo is more like TradingView.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5912031efe66cd28b6e0c15c' id='5912031efe66cd28b6e0c15c'>
<a href='#5912031efe66cd28b6e0c15c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1494352670000' class='quanto-date posted-at response-posted-at' href='#5912031efe66cd28b6e0c15c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Unless you people intend to trade very short term indeed you are wasting your time. Use whatever you can find. I trade XIV and VXX which I backtested both in python and excel using actual contract months strung together which I subscribe to from CSI data.</p>

<p>Having back tested I have absolutely NO NEED to run any further software. The system trades infrequently and each day all I have to do is to look on IB or the CBOE website to check on contango. Having done that I place the very rare trades necessary.</p>

<p>Don&#39;t fuss guys. That would be my advice. String together a back adjusted series for vix futures as per the spreadsheet on my website. Back test using excel. And trade. The instrument is so hugely volatile you are totally wasting your time trying to fine tune an algo.</p>

<p>IMHO as the ghastly phrase goes!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591203f84914267fc4b6c799' id='591203f84914267fc4b6c799'>
<a href='#591203f84914267fc4b6c799'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494352888000' class='quanto-date posted-at response-posted-at' href='#591203f84914267fc4b6c799'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob, Spot on.  That&#39;s why I have decided only to use VIX, VXV, and VX Futures closing/settlement values from CBOE, and nothing else. I don&#39;t need to look back at all. I can get the values downloaded every day at 7 pm EST using a simple java program (right now manually running it but will automate), calculate which one of UVXY/XIV/UPRO to buy, and fire off a request to IB (the last part is still in progress).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591204af9a6a92000dbd1e1d' id='591204af9a6a92000dbd1e1d'>
<a href='#591204af9a6a92000dbd1e1d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494353071000' class='quanto-date posted-at response-posted-at' href='#591204af9a6a92000dbd1e1d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anthony, You are right. My only additional need is to not have to do the infrequent trading myself. That&#39;s all. The model will still trade about 15-20% of the time, which means one trade per week. I don&#39;t know where I will be any given day at 9:30 am EST. I may be up in the air with no internet. I may be in a meeting. Hence the need for me to automate.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59122c0a0f25de77411c9636' id='59122c0a0f25de77411c9636'>
<a href='#59122c0a0f25de77411c9636'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58b4f798ebd945000a31e648'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6b4a8987c841618b6c4d59f43e77abd2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58b4f798ebd945000a31e648'>Frank Gibbs</a>
</div>
<a UTCms='1494363146000' class='quanto-date posted-at response-posted-at' href='#59122c0a0f25de77411c9636'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro Investor, I just got off the phone with IB and they seem to have front and back month VIX futures pricing. I don&#39;t know if your using java or python outside of Quantopian, but if there is anything I can do to help please let me know. In the meantime I&#39;ll start converting this algo to IB as well.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591236b1d7e8070010840074' id='591236b1d7e8070010840074'>
<a href='#591236b1d7e8070010840074'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494365873000' class='quanto-date posted-at response-posted-at' href='#591236b1d7e8070010840074'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am coding in java. I will post the class here once I am done.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59123f2835f4880010515554' id='59123f2835f4880010515554'>
<a href='#59123f2835f4880010515554'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5897d9deb77503000dd6102d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e6bb710f6fa5af1532d89bb031ef6c4a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5897d9deb77503000dd6102d'>David Clemesha</a>
</div>
<a UTCms='1494368040000' class='quanto-date posted-at response-posted-at' href='#59123f2835f4880010515554'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yep, I use IB and subscribe to the Vix futures. They have weekly and monthly futures and the monthly futures go out to at least 6 months, not that they are needed for this algo (see below). I was going to write the algo in VB.net but I guess I&#39;ll wait. Thanks. </p>

<p>Financial Instrument   Company Name                Bid Ask Last<br>
VIX INDEX       CBOE Volatility Index                   9.96<br>
SPX INDEX       S&amp;P 500 Stock Index                 2396.78<br>
VXV INDEX       CBOE S&amp;P 500 3-Month Volatility Index           12.71<br>
VIX May17&#39;17 @CFE   CBOE Volatility Index           11.4    11.45   11.4<br>
VIX Jun21&#39;17 @CFE   CBOE Volatility Index           12.4    12.45   12.45<br>
VIX Jul19&#39;17 @CFE   CBOE Volatility Index           13.6    13.65   13.65<br>
VIX Aug16&#39;17 @CFE   CBOE Volatility Index           14.3    14.35   14.35<br>
VIX Sep20&#39;17 @CFE   CBOE Volatility Index           15.15   15.2    15.15<br>
VIX Oct18&#39;17 @CFE   CBOE Volatility Index           15.6    15.65   15.6<br>
VIX Nov15&#39;17 @CFE   CBOE Volatility Index           16  16.05   16.05<br>
VIX Dec20&#39;17 @CFE   CBOE Volatility Index           16.15   16.25   C16.2000<br>
VIX May17/Jun21 Calendar @CFE                       0.95    1.05<br>
VIX May10&#39;17 @CFE   CBOE Volatility Index           9.95    10.3    C10.2000<br>
VIX May24&#39;17 @CFE   CBOE Volatility Index           11.15   12.8    C11.6500<br>
VIX May31&#39;17 @CFE   CBOE Volatility Index           10.05   12.85   C12.0500<br>
VIX Jun07&#39;17 @CFE   CBOE Volatility Index           10.05   15.25   C12.3500<br>
VIX Jun14&#39;17 @CFE   CBOE Volatility Index           10.05   15.4    C12.4500<br>
XIV     VELOCITYSHARES INV VIX SH-TM            79.71   79.8    79.73<br>
SVXY        PROSHARES SHORT VIX ST FUTUR            153.98  154.34  154.31<br>
VMIN        REX VOLMAXX SHORT WEEKLY ETF            23.2    32  27.34<br>
VMAX        REX VOLMAXX LONG VIX FUT ETF            3.15    5.56    3.95<br>
VXX     IPATH S&amp;P 500 VIX S/T FU ETN            14.08   14.1    14.1<br>
UVXY        PROSHARES ULTRA VIX ST FUTUR            12.45   12.46   12.43<br>
SVXY Jun16&#39;17 157 CALL  PROSHARES SHORT VIX ST FUTUR        7.6 8.45    8.4<br>
SVXY May19&#39;17 157 CALL  PROSHARES SHORT VIX ST FUTUR        2.34    3.1 3.2  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591242486a01c849142dbe9e' id='591242486a01c849142dbe9e'>
<a href='#591242486a01c849142dbe9e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58b4f798ebd945000a31e648'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6b4a8987c841618b6c4d59f43e77abd2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58b4f798ebd945000a31e648'>Frank Gibbs</a>
</div>
<a UTCms='1494368840000' class='quanto-date posted-at response-posted-at' href='#591242486a01c849142dbe9e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>ok, I&#39;ve been doing IB Algos in Java for over a year, mostly options. If there is anything I can do to help please let me know.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59125dce8ba907000d3bb35a' id='59125dce8ba907000d3bb35a'>
<a href='#59125dce8ba907000d3bb35a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/586d9e665547ba630e0001b1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/86fe251268d86bfe55595918fc435135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/586d9e665547ba630e0001b1'>Vix Trader</a>
</div>
<a UTCms='1494375886000' class='quanto-date posted-at response-posted-at' href='#59125dce8ba907000d3bb35a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro Investor, Will you  be able to share the Java program to download Vix and VX futures data?<br>
I use this algorithm to trade using a spreadsheet. My thresholds are -0.045 and 0065. so far the results are good. I manually update the spreadsheet from vix central and take the trade next day morning.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5912677b8ba90700103bb489' id='5912677b8ba90700103bb489'>
<a href='#5912677b8ba90700103bb489'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58b4f798ebd945000a31e648'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6b4a8987c841618b6c4d59f43e77abd2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58b4f798ebd945000a31e648'>Frank Gibbs</a>
</div>
<a UTCms='1494378363000' class='quanto-date posted-at response-posted-at' href='#5912677b8ba90700103bb489'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes he said he would </p>

<p>(thought I&#39;d save you a response, Macro)</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59127a6bd7e807000d8406c5' id='59127a6bd7e807000d8406c5'>
<a href='#59127a6bd7e807000d8406c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1494383211000' class='quanto-date posted-at response-posted-at' href='#59127a6bd7e807000d8406c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Macro since you have removed the MACD check - can you share your ordering logic now?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5912b95a8051a200109aa923' id='5912b95a8051a200109aa923'>
<a href='#5912b95a8051a200109aa923'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5753d14bed6140330b000460'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62bbf31855607a804155b7be2d047d8d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5753d14bed6140330b000460'>Axel Lieber</a>
</div>
<a UTCms='1494399322000' class='quanto-date posted-at response-posted-at' href='#5912b95a8051a200109aa923'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How &quot;infrequently&quot; does this algo trade? I had a guy rebuild this for me in Excel, and I see about 50 trades on average each year. That&#39;s with MACD.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59131d148ba90700103bc12f' id='59131d148ba90700103bc12f'>
<a href='#59131d148ba90700103bc12f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494424852000' class='quanto-date posted-at response-posted-at' href='#59131d148ba90700103bc12f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro,  What do you think about varying the weights the front and back contango based on number of days left to settlement?  IE what is your reasoning for fixing these at .7 and .3 respectively?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5913932b3b722617db2e901c' id='5913932b3b722617db2e901c'>
<a href='#5913932b3b722617db2e901c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494455083000' class='quanto-date posted-at response-posted-at' href='#5913932b3b722617db2e901c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well after hours of messing with the intricacies  of VIX future expiration dates and python date math, I was able to implement my varying weights formula.<br>
and... its worst in backtests :)   If you guys think I did something wrong please share.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59145072af6099344f77f110' id='59145072af6099344f77f110'>
<a href='#59145072af6099344f77f110'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55aa9305d1205377d60005fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/67051c10afe3a3ce95545ea90f5252a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55aa9305d1205377d60005fd'>Terry Odell</a>
</div>
<a UTCms='1494503538000' class='quanto-date posted-at response-posted-at' href='#59145072af6099344f77f110'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello all,<br>
I have a question. I implemented a a variation of this algo in an IB paper account a few days ago and it entered an UPRO order. In the stats I opened the algo and ran a backtest for the same period and it ordered XIV. Curious Why?</p>

<p>Thanks for sharing guys!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59145250d112f215c5ba5aa0' id='59145250d112f215c5ba5aa0'>
<a href='#59145250d112f215c5ba5aa0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55aa9305d1205377d60005fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/67051c10afe3a3ce95545ea90f5252a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55aa9305d1205377d60005fd'>Terry Odell</a>
</div>
<a UTCms='1494504016000' class='quanto-date posted-at response-posted-at' href='#59145250d112f215c5ba5aa0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Frank. Your familiar with option strategy algos? I have been looking for someone to help!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59145d204795ac289a4d64c5' id='59145d204795ac289a4d64c5'>
<a href='#59145d204795ac289a4d64c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494506784000' class='quanto-date posted-at response-posted-at' href='#59145d204795ac289a4d64c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Terry, Only way to tell is for you to share your implementation so we can figure out the diff.  I have a java program and its still all in XIV as of this morning...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591507f29496bb744e88029d' id='591507f29496bb744e88029d'>
<a href='#591507f29496bb744e88029d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1494550514000' class='quanto-date posted-at response-posted-at' href='#591507f29496bb744e88029d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Macro - can you advise your new ordering criteria now that MACD has been removed?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5915e8ec035f77000d37f37d' id='5915e8ec035f77000d37f37d'>
<a href='#5915e8ec035f77000d37f37d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57255c0c05b249ff21000333'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c1c60cf23753eece072d3a903ecf7b7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57255c0c05b249ff21000333'>Honver Lam</a>
</div>
<a UTCms='1494608108000' class='quanto-date posted-at response-posted-at' href='#5915e8ec035f77000d37f37d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jacob Is your weighted ratio equivalent to the ratio between the VIX index and an interpolated 1 month constant maturity futures?  Charting both your weighted ratio and the VIX_VXV ratio, your ratio seems to be a higher &quot;beta&quot; version of the VIX_VXV ratio.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5915ed5fba021e001063beca' id='5915ed5fba021e001063beca'>
<a href='#5915ed5fba021e001063beca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494609247000' class='quanto-date posted-at response-posted-at' href='#5915ed5fba021e001063beca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Honver,</p>

<p>Yes that was what I was going for.  I wanted to weight the front and back of the formula based on #days left in the 1 month maturity.   So if today is maturity date the front is weighted 0, and the back weighted 1.</p>

<p>Here are the values for today (2017-05-12):<br>
Prev Date = 2017-04-19<br>
Curr Date = 2017-05-17<br>
Term = 28.0<br>
Maturity = 5.0<br>
Front Weight = 0.17857142857142858<br>
Back Weight = 0.8214285714285714</p>

<p>I posted this &quot;failure&quot; because the idea might of been sound, but my execution flawed because I am still learning about futures contracts.  Just seemed wrong to weight 0.7/0.3 all the time.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5915f469e29755286f69f3c8' id='5915f469e29755286f69f3c8'>
<a href='#5915f469e29755286f69f3c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58b4f798ebd945000a31e648'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6b4a8987c841618b6c4d59f43e77abd2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58b4f798ebd945000a31e648'>Frank Gibbs</a>
</div>
<a UTCms='1494611049000' class='quanto-date posted-at response-posted-at' href='#5915f469e29755286f69f3c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The 0.7/0.3 weights seem to be the ratio between VIX and front month, not weights between front and back month futures.</p>

<p>I could be reading the code wrong and/or looking at a different version of the algo.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5916793c3843402c55a10f17' id='5916793c3843402c55a10f17'>
<a href='#5916793c3843402c55a10f17'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494645052000' class='quanto-date posted-at response-posted-at' href='#5916793c3843402c55a10f17'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s the new algorithm with macd removed.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59167ffd673cb61c1d2d1763' id='59167ffd673cb61c1d2d1763'>
<a href='#59167ffd673cb61c1d2d1763'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494646781000' class='quanto-date posted-at response-posted-at' href='#59167ffd673cb61c1d2d1763'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Sorry - posted too soon. Cleaned up the version some more. This is easily implementable in java. Improves the return, too.</p>

<p>This version gives an weird python error, but it finishes fine. Can someone who knows python far better than me help me fix this please? Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59168197a06a4612bc15b4fc' id='59168197a06a4612bc15b4fc'>
<a href='#59168197a06a4612bc15b4fc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494647191000' class='quanto-date posted-at response-posted-at' href='#59168197a06a4612bc15b4fc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I completely agree that the 70%/30% split is arbitrary. I tried to implement something that looks at days to expiration and weights accordingly, but that&#39;s too hard to code for me in python. Plus, it&#39;s trickier than that. The VIX move impacts both the first and second month futures. So more weight should go to that.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591681e026025a1c615a9a7e' id='591681e026025a1c615a9a7e'>
<a href='#591681e026025a1c615a9a7e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494647264000' class='quanto-date posted-at response-posted-at' href='#591681e026025a1c615a9a7e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Axel, 50 trades a year sounds right. It shouldn&#39;t trade more than 20% of the time.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5916b76b673cb6527b2d1137' id='5916b76b673cb6527b2d1137'>
<a href='#5916b76b673cb6527b2d1137'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494660971000' class='quanto-date posted-at response-posted-at' href='#5916b76b673cb6527b2d1137'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Fixed a bug. Improved results.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5917cde9f95dcf000f8ba4cd' id='5917cde9f95dcf000f8ba4cd'>
<a href='#5917cde9f95dcf000f8ba4cd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57255c0c05b249ff21000333'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c1c60cf23753eece072d3a903ecf7b7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57255c0c05b249ff21000333'>Honver Lam</a>
</div>
<a UTCms='1494732265000' class='quanto-date posted-at response-posted-at' href='#5917cde9f95dcf000f8ba4cd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jacob,</p>

<p>Instead of doing a linear interpolation between the two ratios, perhaps interpolating the constant maturity future using VX1 and VX2 may work better.<br>
last_ratio = vix_close / (front_weight * v1_settle + back_weight * v2_settle)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5917f890a81d2403e9eccc0c' id='5917f890a81d2403e9eccc0c'>
<a href='#5917f890a81d2403e9eccc0c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1494743184000' class='quanto-date posted-at response-posted-at' href='#5917f890a81d2403e9eccc0c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Could someone kindly explain what principle and/or other market phenomenon this algorithm is based on? Especially, I&#39;m interested in contango backwardation part, as far as I  don&#39;t believe in vix/vxv thresholds and other kind of thresholding  in this algo (as obviously they are going to change in time).<br>
So, basically I want clarification: Am I right in assuming that each day you take VIX close and VX1, VX2 settles and perform linear interpolation between VX1 and VX2 and then looking if VIX is above that line or below, Right?<br>
But then I have a question: if for example VIX on open already moved up for example compared to its previous day close: where this algorithm takes this into consideration?<br>
I understand technical difficulties getting open VIX (Quantopian problems), but even if you get it: so, you properly figured out on market open that VIX is above VX1-VX2 line -&gt; but this line was a settle line from previous day, isn&#39;t it? On market open (and during the whole night) VX1 and VX2 were trading, so by the time you are ready to buy ETFs, VX1 and VX2 already moved, Right? So, ETF prices you are buying/selling already reflect those moves. So, how are you going to win.<br>
Please, explain.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5918c042a81d24780fecd213' id='5918c042a81d24780fecd213'>
<a href='#5918c042a81d24780fecd213'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58bcaf248fb7d3000a68b098'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873ec8b1e1e13b3e25ea70e30d9e6f83?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58bcaf248fb7d3000a68b098'>Giovanni Arimondi</a>
</div>
<a UTCms='1494794306000' class='quanto-date posted-at response-posted-at' href='#5918c042a81d24780fecd213'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello, with the new algo we are entering XIV whenever is not contango based in our custom ratio if VIX closed &gt; 19,8?<br>
So we are going to be in  XIV many times when there is Backwardation .. I probably read the code bad, but if not I really think that the previous algorithm was much better becouse it puts that condition (VIX_close&gt;19,8) after the backwardation condition of entering UVXY in backwardation scenarios based in our weighted custom ratio of Spot, VX1, and VX2.<br>
So with this algo, for example if we have a VIX of 20, and no contango(which is highly probable logically) we are entering XIV without looking if there is backwardation?</p>

<p>Igor, I think you are right, we are not taking in consideration overnight moves in VX1, VX2 and Spot. Maybe this seems to not affect a lot the algo becouse voaltility overnight dont uses to move a lot, but maybe will be better to take the open values of Spot VIX1 and VIX2 to make it more accurate. However CBOE I think does not provide the data at open...</p>

<p>I am also very interested on hearing the responses of the other questions you presented.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5918d0a8445d4d000df6b593' id='5918d0a8445d4d000df6b593'>
<a href='#5918d0a8445d4d000df6b593'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c91baca35c3f3bda62a742'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbdca517dd842c40169afe5f0e2783a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c91baca35c3f3bda62a742'>Bodhi Fly</a>
</div>
<a UTCms='1494798504000' class='quanto-date posted-at response-posted-at' href='#5918d0a8445d4d000df6b593'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Macro, </p>

<p>I&#39;m trying to wrap my head around a new piece of code you&#39;ve  recently introduced. Specifically - &quot; if (context.vix &lt;&gt; -1) :<br>
        vix_ratio = vix_close/context.vix -1&quot;.   To be called by -&quot;vix_ratio &lt;= l_vc_low&quot; and &quot;vix_ratio &gt;= l_vc_high&quot;.</p>

<p>I believe what your saying is - &quot;If yesterdays closing VIX price isn&#39;t equal to today&#39;s closing VIX price,<br>
 then &#39;VIX RATIO&#39; = Today&#39;s closing VIX price divided by yesterday&#39;s closing VIX price, minus 1.  Otherwise, &#39;VIX RATIO&#39; = zero.&quot;    Is this correct? </p>

<p>(It really has quite an effect on the final outcome.)</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591907c7c3c1cb00106e7292' id='591907c7c3c1cb00106e7292'>
<a href='#591907c7c3c1cb00106e7292'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1494812615000' class='quanto-date posted-at response-posted-at' href='#591907c7c3c1cb00106e7292'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just a small contribution.... when you see different behaviour in Live and backtesting and you are using Fetcher something is fishy with the fetcher. I have stopped using fetcher for that reason.<br>
Another feature of fetcher is that it is hard to determine wether you introducing foward looking bias. If I see algo&#39;s returning 22,000% in 4 years I&#39;m pretty sure they are either datamined or there is a forward looking bias. Be very very vigilant when trading this  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5919a358c3c1cb5c2a6e712d' id='5919a358c3c1cb5c2a6e712d'>
<a href='#5919a358c3c1cb5c2a6e712d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494852440000' class='quanto-date posted-at response-posted-at' href='#5919a358c3c1cb5c2a6e712d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Igor,  </p>

<p>I will take a guess.  Your argument is that at ETF open the markets have all the information and have priced this in.   I don&#39;t think anyone believes in 100% market efficiency anymore.   There are probably not a lot of investors looking at this stuff, nor trading this everyday.  So yes the information is there, but it also has to be acted on  for it to be priced into the Market.  Macro has probably found a signal that won&#39;t last long as people catch on to it and it will go away.  Especially because he made it public.</p>

<p>Peter,</p>

<p>I wasn&#39;t going to say anything about your &quot;Contribution&quot; but its right over what I was typing.   Its not helpful.   Its a 112 line program, if you see forward looking bias point it out!   Comments like &quot;If it seems too good to be true, it probably is&quot;.   Has no useful information in a programming discussion.  Tell us where its not true.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5919a450c3c1cb00106e7c84' id='5919a450c3c1cb00106e7c84'>
<a href='#5919a450c3c1cb00106e7c84'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494852688000' class='quanto-date posted-at response-posted-at' href='#5919a450c3c1cb00106e7c84'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bodhi,</p>

<p>vix_ratio should be called &quot;vix percent change&quot;   macro is just asking if the vix when up  or down 10% yesterday.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5919a73d35cb83000d3ceaac' id='5919a73d35cb83000d3ceaac'>
<a href='#5919a73d35cb83000d3ceaac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1494853437000' class='quanto-date posted-at response-posted-at' href='#5919a73d35cb83000d3ceaac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob,</p>

<p>In response to your comment about the returns on this algorithm &quot;going away&quot; due to the signals becoming public knowledge... How sure can we be this will happen? My understanding is that this case is different than your usual signal degradation (made-up term) because it&#39;s based on a market index and doesn&#39;t trade a product that has its price determined by supply and demand.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5919a97c35cb83000d3cead7' id='5919a97c35cb83000d3cead7'>
<a href='#5919a97c35cb83000d3cead7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1494854012000' class='quanto-date posted-at response-posted-at' href='#5919a97c35cb83000d3cead7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob,</p>

<p>This is. not a programming discussion, this a trading discussion. If you check my profile you can see I do this for a while and I have worked with fetcher and the vx1/2 sources and every single time I put it live with real money I discovered that the backtesting kept on making money but the live environment lost money quicker then one can make it. In the end, it&#39;s not a problem with the logic but with the timing of the data in the backtesting environment and live environment. The live environment triggers fetcher sometime in the night and it&#39;s the question whether these feeds are then up to date (they are often not).<br>
Then there is the 15 minute data delay in live you have to cope with, all these factors together make this type of algo highly suspicious and, Jacob, if you really think there is an easy way to create an algo with these type of return profile without raising suspicion about forward-looking bias then I would say: go wild, put real money behind it and share the tearsheets!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5919a9e43b562d00107aeafa' id='5919a9e43b562d00107aeafa'>
<a href='#5919a9e43b562d00107aeafa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a4fd1ec371b5d64d0004da'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/15b859df86e91d814b713a3b0fa92718?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a4fd1ec371b5d64d0004da'>Nick Sulzer</a>
</div>
<a UTCms='1494854116000' class='quanto-date posted-at response-posted-at' href='#5919a9e43b562d00107aeafa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Does anyone live trade this algo using Robinhood or IB? If so, how does live trading compare to backtests?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5919ab08ed8d73000dd1b221' id='5919ab08ed8d73000dd1b221'>
<a href='#5919ab08ed8d73000dd1b221'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1494854408000' class='quanto-date posted-at response-posted-at' href='#5919ab08ed8d73000dd1b221'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Peter,</p>

<p>It&#39;s already been established that this algorithm cannot run autonomously because the data it needs is not uploaded to a fetchable spreadsheet until around 10-11am the morning after. However, all of the data it needs IS available publicly, as of 9:30-9:31am every morning (when the backtest trades). Basically, all the data it needs is settlement data from end-fo-day the day before, and the trade is made (if needed) first thing in the morning). So if you&#39;re willing to calculate everything manually every night/early morning, or make a program yourself to fetch everything through other means, you can absolutely do so.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5919b626445d4d5892f6bfe5' id='5919b626445d4d5892f6bfe5'>
<a href='#5919b626445d4d5892f6bfe5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494857254000' class='quanto-date posted-at response-posted-at' href='#5919b626445d4d5892f6bfe5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John,</p>

<p>Just a guess.  I don&#39;t know anything about the future.   I have never heard the statement that market indexes are not subject to supply and demand before, will have to think on it.  You have any references?  Seems like a interesting idea, is it based on there is infinite supply?  Not sure that is true, and of course there is demand but is it a different kind of demand?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5919b805ed8d73000dd1b305' id='5919b805ed8d73000dd1b305'>
<a href='#5919b805ed8d73000dd1b305'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1494857733000' class='quanto-date posted-at response-posted-at' href='#5919b805ed8d73000dd1b305'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob,</p>

<p>To my understanding, products like XIV and UVXY (basically, any ETF/ETN that attempts to track an index) are subject to supply and demand ONLY in the short-term. Market makers (paid for by the issuing company) trade large amounts of shares in order to influence the spot price to track the correct number it should represent, according the prospectus of the fund. </p>

<p>So, supply and demand DOES affect these products, but only on a short-term basis (whether that means seconds or minutes or hours... I have no idea). This is where slippage comes into play, which is a totally different ballgame and something I&#39;m not well-versed in at all.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5919b85bed8d730010d1b363' id='5919b85bed8d730010d1b363'>
<a href='#5919b85bed8d730010d1b363'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1494857819000' class='quanto-date posted-at response-posted-at' href='#5919b85bed8d730010d1b363'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Peter,</p>

<p>Quant trading I think has more than a little to do with programming.  My objection is that you were making a broad claim without giving any details.  If you had read the thread there was a lot of trading discussion about if this was forward looking.  The backtest is not.   There is a lot of discussion if this is live tradable. its currently not through Quantopian, but the data is there from CBOE, I myself am trading this with 10k of my own money but trading it manually every morning.  So far its done nothing but sit in VIX which is making small amounts of money.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591b4a1c4b2d7800104b0815' id='591b4a1c4b2d7800104b0815'>
<a href='#591b4a1c4b2d7800104b0815'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494960668000' class='quanto-date posted-at response-posted-at' href='#591b4a1c4b2d7800104b0815'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have manually traded (a less refined version of) this algorithm (from 2016) and it performed just as you would expect it to in backtests.</p>

<p>Though, the word traded is wrong. This algo rarely trades.</p>

<p>I understand the skepticism though. I know that data that is used in the backtest is completely wrong. However, there is no forward looking bias in the backtest, that much I know.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591b4cf142bd8c000d97092c' id='591b4cf142bd8c000d97092c'>
<a href='#591b4cf142bd8c000d97092c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58b4f798ebd945000a31e648'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6b4a8987c841618b6c4d59f43e77abd2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58b4f798ebd945000a31e648'>Frank Gibbs</a>
</div>
<a UTCms='1494961393000' class='quanto-date posted-at response-posted-at' href='#591b4cf142bd8c000d97092c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Macro Investor, are you still working on the Java version? If not I&#39;ll get started. I just didn&#39;t want to duplicate any effort if you are working on it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591bc0dbecca0e000d2ffb07' id='591bc0dbecca0e000d2ffb07'>
<a href='#591bc0dbecca0e000d2ffb07'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494991067000' class='quanto-date posted-at response-posted-at' href='#591bc0dbecca0e000d2ffb07'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s some java code snippets to get the latest vx futures</p>

<pre><code>private static void getValues()  
{  
    String vixUrl = &quot;http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vixcurrent.csv&quot; ;  
    String vxvUrl = &quot;http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vxvdailyprices.csv&quot; ;  
    String futuresUrl = &quot;http://cfe.cboe.com/market-data/futures-settlements&quot; ;  

    String Directory = &quot;C:/temp/vix&quot; ;  
    String futuresFile = &quot;C:/temp/vix/settlement.csv&quot; ;  

    String[] vx_values = null ;  

    CleanDirectory(Directory) ;

    try {  
        downloadUsingNIO(futuresUrl,futuresFile);

    } catch (IOException e) {  
        e.printStackTrace();  
    }

    try {  
        vx_values = extractLastVx(futuresFile,1) ;  

    } catch (IOException e) {  
        e.printStackTrace();  
    }  

    System.out.println(vx_values[0]);  
    System.out.println(vx_values[1]);  
}

private static void downloadUsingNIO(String urlStr, String file) throws IOException {  
    URL url = new URL(urlStr);  
    ReadableByteChannel rbc = Channels.newChannel(url.openStream());  
    FileOutputStream fos = new FileOutputStream(file);  
    fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);  
    fos.close();  
    rbc.close();  
}  
private static String[] extractLastVx (String file, int readorwrite) throws IOException {  
   FileReader fr_settlement = new FileReader(file) ;  
   BufferedReader br_settlement = new BufferedReader(fr_settlement) ;  
   String aLine ;  
   int count = 0 ;  
   Double[] vx_values = new Double[2] ;  
   String[] vx_strings = new String[2] ;  

   Date today = Calendar.getInstance().getTime() ;  
   String formatted_dates[] = DateFormat.getInstance().format(today).split(&quot; &quot;) ;  

   /*  
   int trading = isTradingDay(formatted_dates[0], today);  
   if (trading == 0) return null ;  
   */  
   while ((aLine = br_settlement.readLine()) != null) {  
       if(aLine.substring(0, 3).equals(&quot;VX &quot;))  
       {  
           String[] args = aLine.split(&quot;,&quot;) ;  
           vx_values[count] = Double.parseDouble(args[1]) ;  
           if (count++ &gt;=1) break ;  
       }  
   }  
   br_settlement.close() ;  

   String[] args = formatted_dates[0].split(&quot;/&quot;) ;  

   if(readorwrite == 0)  
   {  
       vx_strings[0] = args[0] + &quot;/&quot; + args[1] + &quot;/20&quot; + args[2] + &quot;,&quot; + vx_values[0] + &quot;,&quot; + vx_values[0] ;  
       vx_strings[1] = args[0] + &quot;/&quot; + args[1] + &quot;/20&quot; + args[2] + &quot;,&quot; + vx_values[1] + &quot;,&quot; + vx_values[1] ;  
   }  
   else  
   {  
       vx_strings[0] = &quot;&quot; + vx_values[0] ;  
       vx_strings[1] = &quot;&quot; + vx_values[1] ;  
   }  

   return vx_strings ;  

}  
private static void CleanDirectory(String Directory){  
    Path dir = Paths.get(Directory);  
    try  
    {  
        Files.walkFileTree(dir, new SimpleFileVisitor&lt;Path&gt;()  
        {  
              @Override  
              public FileVisitResult visitFile(Path file, BasicFileAttributes attrs)  
                      throws IOException  
              {  
                  //System.out.println(&quot;Deleting file: &quot; + file);  
                  Files.delete(file);  
                  return FileVisitResult.CONTINUE;  
              }  
            });  
    }  
    catch (IOException e)  
    {  
      e.printStackTrace();  
    }  
}  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591bc145f410f5000d465cd5' id='591bc145f410f5000d465cd5'>
<a href='#591bc145f410f5000d465cd5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1494991173000' class='quanto-date posted-at response-posted-at' href='#591bc145f410f5000d465cd5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Frank,</p>

<p>If you can write and post the java code to connect to IB and post the trade, that will be awesome. Assume that you have a stub fucntion that returns 0, 1, or 2, corresponding to XIV, UVXY, and TQQQ, and I will provide the code for that.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591bfad5d4c1f616894af9ff' id='591bfad5d4c1f616894af9ff'>
<a href='#591bfad5d4c1f616894af9ff'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495005909000' class='quanto-date posted-at response-posted-at' href='#591bfad5d4c1f616894af9ff'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I might also add that instead of Java one can just use MS Excel to automate the whole thing including IB trading. To start, below is the macro code to import above Indices/Futures into Excel. Just create an empty workbook and add/rename the following tab sheets in it: <strong>General</strong>, <strong>futures-settlements</strong>, <strong>vixcurrent</strong> and <strong>vxvdailyprices</strong>. Below is VBA code to add to this workbook through VBA editor.<br>
Just Run <strong>ImportAll</strong>. Should work. If it doesn&#39;t don&#39;t ask me why, as it wasn&#39;t me who wrote all this and I personally have no idea how excel works. Obviously, it&#39;s possible to add IB trading to Excel without market data subscription and use this excel book to implement the whole logic. If someone wants: I can probably do this, but outside of this board.</p>

<pre><code>Sub SortDates(SheetName)  
    Columns(&quot;A:A&quot;).Select  
    ActiveWorkbook.Worksheets(SheetName).Sort.SortFields.Clear  
    ActiveWorkbook.Worksheets(SheetName).Sort.SortFields.Add key:=Range(&quot;A1&quot;) _  
        , SortOn:=xlSortOnValues, order:=xlDescending, DataOption:=xlSortNormal  
    With ActiveWorkbook.Worksheets(SheetName).Sort  
        .SetRange Range(&quot;A3:E3368&quot;)  
        .Header = xlNo  
        .MatchCase = False  
        .Orientation = xlTopToBottom  
        .SortMethod = xlPinYin  
        .Apply  
    End With  
    Columns(&quot;A:A&quot;).ColumnWidth = 15  
End Sub

Sub ImportWeb(URL, file, extension, sort_dates)  
    ControlFile = ActiveWorkbook.Name  
    Workbooks.Open Filename:=URL &amp; file &amp; extension  
    Windows(file &amp; extension).Activate  
    Sheets(file).Select  
    Cells.Select  
    Selection.Copy  
    Windows(ControlFile).Activate  
    Sheets(file).Select  
    Range(&quot;A1&quot;).Select  
    ActiveSheet.Paste  
    If sort_dates Then  
        Call SortDates(file)  
    End If  
    Sheets(&quot;General&quot;).Select  
    Windows(file &amp; extension).Activate  
    Range(&quot;A1&quot;).Select  
    Selection.Copy  
    ActiveWindow.Close  
    Windows(ControlFile).Activate  
End Sub  
Sub ImportVixCurrent()  
    Call ImportWeb(&quot;http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/&quot;, &quot;vixcurrent&quot;, &quot;.csv&quot;, True)  
End Sub  
Sub ImportVXVCurrent()  
    Call ImportWeb(&quot;http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/&quot;, &quot;vxvdailyprices&quot;, &quot;.csv&quot;, True)  
End Sub  
Sub ImportFuturesCurrent()  
    Call ImportWeb(&quot;http://cfe.cboe.com/market-data/&quot;, &quot;futures-settlements&quot;, &quot;&quot;, False)  
End Sub  
Sub ImportAll()  
    ImportVixCurrent  
    ImportVXVCurrent  
    ImportFuturesCurrent  
End Sub

</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c6d07adb3b8654fd0f218' id='591c6d07adb3b8654fd0f218'>
<a href='#591c6d07adb3b8654fd0f218'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495035143000' class='quanto-date posted-at response-posted-at' href='#591c6d07adb3b8654fd0f218'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So, did you switch today?  The strategy says NO</p>

<p>Futures         Symbol  Date    Settle<br>
VIX Continuous Futures          VXK7        12.2<br>
VIX Front Month Futures         V1      12.2<br>
VIX Back Month Futures          V2      13.25<br>
Indices         Symbol  Date    Close<br>
SPX S&amp;P500 Stock Index          SPY     237.23<br>
VIX CBOE Volatility Index           VIX     13.43<br>
VXV CBOE S&amp;P500 3month          VXV     14.19<br>
            VIX/V1      1.100819672<br>
            V1/V2       0.920754717<br>
            Front to back Ratio     0.7<br>
            Last Ratio      0.046800186<br>
            VIX/VXV     -0.053558844  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c75dff880ea0010d80469' id='591c75dff880ea0010d80469'>
<a href='#591c75dff880ea0010d80469'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495037407000' class='quanto-date posted-at response-posted-at' href='#591c75dff880ea0010d80469'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I switched this morning.   Yes if you use the CBOE close from yesterday the algorithm says &quot;XIV&quot;.  However, I have a sanity check that uses Yahoo live data (which can be a little off), which was telling me &quot;UVXY&quot;.   This is because over night trading had the VIX go up 10%+ last night.  I made a executive decision to get out of the XIV with the quickness and go UVXY.   This appears to be the right decision but its interesting using Close data seemed a bit late.   I also learned a bit of a nasty lesson about Market orders.  I thought it was more important to execute than get the right price, and ended up selling XIV for a $200 loss because I caught the morning down spike.  I made that back already being in UVXY but could of been better.</p>

<p>Do you guys ever place your order&#39;s Market or do you always do Limit orders?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c783cadb3b83eb5d0e400' id='591c783cadb3b83eb5d0e400'>
<a href='#591c783cadb3b83eb5d0e400'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495038012000' class='quanto-date posted-at response-posted-at' href='#591c783cadb3b83eb5d0e400'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>My version of this algo has been in UVXY since last week... Can&#39;t post my backtests now, but the returns are improved if you add in a &quot;lowest&quot; VIX failsafe threshold before any of the other checks are made. Basically in my algo, if VIX is ever below 11.10, you should be long volatility (UVXY, VXX, etc) no matter what anything else tells you.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c7e02f880ea000dd8051b' id='591c7e02f880ea000dd8051b'>
<a href='#591c7e02f880ea000dd8051b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495039490000' class='quanto-date posted-at response-posted-at' href='#591c7e02f880ea000dd8051b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob, I&#39;m confused: you are saying that &quot;over night trading had the VIX go up 10%+ last night&quot;. So, did you have yours algo running through night? And then a question if you really got a signal at night to switch: didn&#39;t you get opposite signal in the morning to switch back? Or its all BS and you just believe your own guts? And if it&#39;s true, then this should be discussed on a trading board and not here, Right?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c813aecca0e36c82ff3a0' id='591c813aecca0e36c82ff3a0'>
<a href='#591c813aecca0e36c82ff3a0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495040314000' class='quanto-date posted-at response-posted-at' href='#591c813aecca0e36c82ff3a0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Igor,   I have two algorithms 1) That uses CBOE close data, which this morning said VIX 2) One that uses yahoo live data (which includes after hours trading) which said UVXY.   I had two algorithms telling me different things, so I made a choice and went with the #2 yahoo live data.</p>

<p>Your seem to think I shouldn&#39;t of said I did that because its not quant enough for you.   I disagree.  Sorry if you were on the wrong side of the switch this morning, but this thread has discussed if it would be better to trade this all the time, not just on start of the day.   Which is why I wrote the second version that used yahoo data, to learn from days like today.    I am still trading manually so I can oversee this algorithm.  I don&#39;t think that means I should be posting on a trading board vs a quant board.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c8336adb3b81954d0e68d' id='591c8336adb3b81954d0e68d'>
<a href='#591c8336adb3b81954d0e68d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495040822000' class='quanto-date posted-at response-posted-at' href='#591c8336adb3b81954d0e68d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John,   Would it really of been better to be in the UVXY for the past week over XIV?   I think the optimum switch time would of been last night during off hours, not sure when.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c8caef410f56302466469' id='591c8caef410f56302466469'>
<a href='#591c8caef410f56302466469'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495043246000' class='quanto-date posted-at response-posted-at' href='#591c8caef410f56302466469'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob,</p>

<p>Not for last week, but certainly for today. The algo in its normal form would still be hanging out in XIV right now, through this 12% drop, erasing all of last week&#39;s gains.</p>

<p>You shouldn&#39;t make the mistake of thinking this algo is all about chasing optimum switch times. The nature of VIX (and the market in general) means that unpredictable changes WILL happen, and short-term losses can never be completely avoided. I&#39;d rather take one step back and two steps forward, than take one step forward and two steps back.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c8dc33dcc3619f843aab4' id='591c8dc33dcc3619f843aab4'>
<a href='#591c8dc33dcc3619f843aab4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495043523000' class='quanto-date posted-at response-posted-at' href='#591c8dc33dcc3619f843aab4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob, with all due respect, but if you played <em>#2 yahoo live data</em>, using the same #2 aren&#39;t you getting a signal to switch back right now? You should be, so both systems #1 and #2 are telling you to switch back and you are ignoring both. Cheesy, Right?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c909cf880ea2f58d80422' id='591c909cf880ea2f58d80422'>
<a href='#591c909cf880ea2f58d80422'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495044252000' class='quanto-date posted-at response-posted-at' href='#591c909cf880ea2f58d80422'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Igor,</p>

<p>It depends on which version of the algo he is using as well... My algo is actually telling me stay in UVXY right now, and it&#39;s a pretty strong signal as well. Mine is pretty heavily edited, though.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c939b5d4355000f94725f' id='591c939b5d4355000f94725f'>
<a href='#591c939b5d4355000f94725f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495045019000' class='quanto-date posted-at response-posted-at' href='#591c939b5d4355000f94725f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also, unless I missed something, it is not yet proven if a rolling minute-by-minute version of this algorithm is any more successful than the current day-by-day version. I would ASSUME that it would be, but we can&#39;t be sure. It&#39;s hard to even compare the two because the algorithm was originally built on trading off of numbers that are over 17 hours old.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c9d9ca90497000d6ee4f1' id='591c9d9ca90497000d6ee4f1'>
<a href='#591c9d9ca90497000d6ee4f1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495047580000' class='quanto-date posted-at response-posted-at' href='#591c9d9ca90497000d6ee4f1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I also post on seeking alpha. Last night I posted that while the model says XIV, the market news of Trump obstruction of justice says UVXY. The model doesn&#39;t consider market news. The model also doesn&#39;t use prices at open as, frankly, I cannot be next to a computer at market open as I am likely in meeting starting from 8 am EST back to back all day. Also, since I didn&#39;t have a source for live prices at open, it&#39;s a bit of a moot point.</p>

<p>I have tried the low VIX check to go long UVXY and over time it yields much worse results.</p>

<p>I remained long XIV and took the lump, but that comes with the territory. Long term the model has to incorporate market news, but I don&#39;t know how to as of yet. Again, this is a side hobby for me. But in the spirit of collaboration, if someone can improve the model please share!!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591ca125d858dc000d516973' id='591ca125d858dc000d516973'>
<a href='#591ca125d858dc000d516973'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495048485000' class='quanto-date posted-at response-posted-at' href='#591ca125d858dc000d516973'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Alright, finally ready to share my version of this algorithm. A few things to note:</p>

<p>1) I incorporated a system to smooth out the VX1 and VX2 curves, which improved results. It&#39;s mathy, but it checks out.</p>

<p>2) I simplified the if/then statements at the end to simplify things and get rid of redundant or unnecessary checks.</p>

<p>3) I overfitted all of the constants (although I did so about 6-8 weeks ago, so the recent performance may be improved by tweaking them a bit more).</p>

<p>I am going to post two backtests in a row, so I can show the effect of have that &quot;lowest VIX threshold&quot; I was talking about.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591ca184a90497000d6ee532' id='591ca184a90497000d6ee532'>
<a href='#591ca184a90497000d6ee532'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495048580000' class='quanto-date posted-at response-posted-at' href='#591ca184a90497000d6ee532'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>As you can see, this version (which includes a &quot;lowest VIX threshold&quot; check) reaches higher highs but performed fairly poorly in the last few weeks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591ca4b23e9d9a001029d05e' id='591ca4b23e9d9a001029d05e'>
<a href='#591ca4b23e9d9a001029d05e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495049394000' class='quanto-date posted-at response-posted-at' href='#591ca4b23e9d9a001029d05e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John, this is brilliant. Thank you!!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591ca6693e9d9a000d29d075' id='591ca6693e9d9a000d29d075'>
<a href='#591ca6693e9d9a000d29d075'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495049833000' class='quanto-date posted-at response-posted-at' href='#591ca6693e9d9a000d29d075'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Igor,</p>

<p>My version of with yahoo data is telling me to stay in UXVY right now, that might change by close.</p>

<p>Edit:  I take that back, unless the vix change from yesterdays close goes below 10% there is no way the algorithm will say anything but UXVY.  The only thing here is that the yahoo live data is leading the close data.</p>

<p>-Jacob  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591ca8d5f880ea2f58d805ef' id='591ca8d5f880ea2f58d805ef'>
<a href='#591ca8d5f880ea2f58d805ef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495050453000' class='quanto-date posted-at response-posted-at' href='#591ca8d5f880ea2f58d805ef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro,</p>

<p>Of course! I come from a math/engineering/programming background with little experience in finance, so any of the math or programming stuff I can help out with. The patterns are definitely there, they&#39;ve just gotta be mined out.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591caaad5cca5b000d5bef92' id='591caaad5cca5b000d5bef92'>
<a href='#591caaad5cca5b000d5bef92'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495050925000' class='quanto-date posted-at response-posted-at' href='#591caaad5cca5b000d5bef92'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John, </p>

<p>Thank you for sharing your changes.  Couple questions...</p>

<p>1) Why did you decide to decay then vx1 and vx2 settlments based on the days remaining vs changing the 0.7/0.3 weights.  I ask because I was trying to solve that problem too but didn&#39;t think of doing it this way.</p>

<p>2) Macro has since abandoned the MACD signal, have you tried your code with his new VIX 10% signal?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591caf199772bf000dc71615' id='591caf199772bf000dc71615'>
<a href='#591caf199772bf000dc71615'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495052057000' class='quanto-date posted-at response-posted-at' href='#591caf199772bf000dc71615'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John, if you change the UVXY threshold to 5.6 you will get far better results. :-)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591cbdafde6d3b001089ebd0' id='591cbdafde6d3b001089ebd0'>
<a href='#591cbdafde6d3b001089ebd0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495055791000' class='quanto-date posted-at response-posted-at' href='#591cbdafde6d3b001089ebd0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is my latest which is basically:  Macro&#39;s Last + John&#39;s Futures Decay + My Settlement Date math best yet...</p>

<p>Things I am am playing with  MACD vs VIX Percent Change, John&#39;s Low VIX &quot;Trumps&quot; all signal  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d08c93795f600b2881b23' id='591d08c93795f600b2881b23'>
<a href='#591d08c93795f600b2881b23'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495075017000' class='quanto-date posted-at response-posted-at' href='#591d08c93795f600b2881b23'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro,</p>

<p>Adding the SPYG MACD test back into the mix adds almost doubles the returns and lowers the beta.   Why did you remove it again?  Just that we can&#39;t trust quantopia&#39;s MACD calc?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d0a22de6d3b46f489ecfd' id='591d0a22de6d3b46f489ecfd'>
<a href='#591d0a22de6d3b46f489ecfd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495075362000' class='quanto-date posted-at response-posted-at' href='#591d0a22de6d3b46f489ecfd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Whatever MACD the talib library produces isn&#39;t the same as the MACD you&#39;ll get performing the calc somewhere else. Why this is, I don&#39;t know.</p>

<p>However, does it even matter? If it works, it works. Whatever talib is calculating is obviously giving a pretty decent signal.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d0e72ac2a97156fc250d9' id='591d0e72ac2a97156fc250d9'>
<a href='#591d0e72ac2a97156fc250d9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495076466000' class='quanto-date posted-at response-posted-at' href='#591d0e72ac2a97156fc250d9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It matters because we can&#39;t live trade on quantopian yet.  This leaves me with having to calculate MACD somewhere else.  I guess I could create a notebook to just calculate MACD quantopian style every day :)  Kind of lame though.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d11c775b6b300101e7d6d' id='591d11c775b6b300101e7d6d'>
<a href='#591d11c775b6b300101e7d6d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495077319000' class='quanto-date posted-at response-posted-at' href='#591d11c775b6b300101e7d6d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John, Can you please explaint he smoothing to me if possible please? Why are you doing it, what&#39;s the methodology, and how did you arrive at the numbers?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d3b71ac2a97156fc25353' id='591d3b71ac2a97156fc25353'>
<a href='#591d3b71ac2a97156fc25353'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495087985000' class='quanto-date posted-at response-posted-at' href='#591d3b71ac2a97156fc25353'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob, I removed the macd precisely because I wanted to implement the algo in java, but indeed the macd is a great signal. I did another version of the algo by removing some overfitting, and even that gives about the same as your results. backtest attached. Your&#39;s is clear, so I am going to go with it.</p>

<p>It sucks that we can&#39;t trade this live through Quantopian.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d3b9e2aac5500104ecf03' id='591d3b9e2aac5500104ecf03'>
<a href='#591d3b9e2aac5500104ecf03'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495088030000' class='quanto-date posted-at response-posted-at' href='#591d3b9e2aac5500104ecf03'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The good thing about this version though is that it further lowers beta.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d3bb9de6d3b000d89f32c' id='591d3bb9de6d3b000d89f32c'>
<a href='#591d3bb9de6d3b000d89f32c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495088057000' class='quanto-date posted-at response-posted-at' href='#591d3bb9de6d3b000d89f32c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And increases alpha and lowers drawdown.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d4c1775b6b3000d1e8061' id='591d4c1775b6b3000d1e8061'>
<a href='#591d4c1775b6b3000d1e8061'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495092247000' class='quanto-date posted-at response-posted-at' href='#591d4c1775b6b3000d1e8061'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I would really appreciate it if someone can take my last implementation of the algorithm and use these 2 URls for VIX and VXV</p>

<p>String vixUrl = &quot;<a href="http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vixcurrent.csv">http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vixcurrent.csv</a>&quot; ;<br>
    String vxvUrl = &quot;<a href="http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vxvdailyprices.csv">http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vxvdailyprices.csv</a>&quot; ;  </p>

<p>I don&#39;t trust the pipeline as I can&#39;t replicate that in Excel. I tried to use these two URLs and couldn&#39;t ge tthem working.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d4c45de6d3b000d89f3fe' id='591d4c45de6d3b000d89f3fe'>
<a href='#591d4c45de6d3b000d89f3fe'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495092293000' class='quanto-date posted-at response-posted-at' href='#591d4c45de6d3b000d89f3fe'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is the version that I would need help with. Thanks much in advance!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d8c3b6964b70010272fbd' id='591d8c3b6964b70010272fbd'>
<a href='#591d8c3b6964b70010272fbd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55aa9305d1205377d60005fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/67051c10afe3a3ce95545ea90f5252a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55aa9305d1205377d60005fd'>Terry Odell</a>
</div>
<a UTCms='1495108667000' class='quanto-date posted-at response-posted-at' href='#591d8c3b6964b70010272fbd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bonehead questions, </p>

<p>1- Why can&#39;t Quantopian trade this live?</p>

<p>2- I have cloned several variations above and did not change anything. The backtest picked XIV yesterday while IB demo picked UVXY. What is the difference?</p>

<p>Thanks for sharing your hard work!!!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d8d2b605d30000d89ae1e' id='591d8d2b605d30000d89ae1e'>
<a href='#591d8d2b605d30000d89ae1e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495108907000' class='quanto-date posted-at response-posted-at' href='#591d8d2b605d30000d89ae1e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Macro</p>

<p>I have been using the following in my Java program.   I don&#39;t see any different and these are easy to use with fetch:</p>

<p><a href="https://www.quandl.com/api/v1/datasets/CBOE/VIX.csv">https://www.quandl.com/api/v1/datasets/CBOE/VIX.csv</a><br>
<a href="https://www.quandl.com/api/v1/datasets/CBOE/VXV.csv">https://www.quandl.com/api/v1/datasets/CBOE/VXV.csv</a></p>

<p>They both seem to update by 8pm the previous night.</p>

<p>For settlement dates I use:</p>

<p><a href="http://cfe.cboe.com/market-data/futures-settlements">http://cfe.cboe.com/market-data/futures-settlements</a></p>

<p>This seems to update everyday at close of trading 4:30pm EST.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591d9c61e92fd63669e38e95' id='591d9c61e92fd63669e38e95'>
<a href='#591d9c61e92fd63669e38e95'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495112801000' class='quanto-date posted-at response-posted-at' href='#591d9c61e92fd63669e38e95'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro,</p>

<p>I&#39;ll try to explain the smoothing as best I can. I did it because I didn&#39;t like how the VX1 and VX2 data was &quot;sawtoothed&quot;, that it experienced a spike every expiration. Trying to use that as a signal for a continuous future seemed counter-intuitive to me, so I started thinking of a way to smooth it.</p>

<p>I wrote all the math out and derived the formula by hand, but basically it applies a decay that is proportional to the number of days left until the expiration, because the longer the contract is from expiration, the more &quot;inflated&quot; the price will tend to be.</p>

<p>I scoured through the historical VX1 and VX2 data to get the constants for decay, and the 19.5 constant is based on a rough average number of trading days per expiration cycle.</p>

<p>If you have other questions, let me know. I didn&#39;t really go into it expecting it to improve the algo, I just did it because the sawtoothiness was bothering me.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591da2220c507a1041b5cc57' id='591da2220c507a1041b5cc57'>
<a href='#591da2220c507a1041b5cc57'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495114274000' class='quanto-date posted-at response-posted-at' href='#591da2220c507a1041b5cc57'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And Macro, don&#39;t know if you noticed, but the backtest officially hits over 1,000,000% returns if run until yesterday :) Pretty huge milestone, even if the slippage is teased a bit!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591dc3f2de6d3b357189f247' id='591dc3f2de6d3b357189f247'>
<a href='#591dc3f2de6d3b357189f247'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1495122930000' class='quanto-date posted-at response-posted-at' href='#591dc3f2de6d3b357189f247'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Quandl is sometimes late updating, either way, they will be deleting the YAHOO database on June 30th. Since 5/15 Yahoo has changed the way many 3rd parties access their finance data. They now require a cookie to be set, thus killing the auto-updating some applications have been relying on.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591dc42575b6b300101e87c4' id='591dc42575b6b300101e87c4'>
<a href='#591dc42575b6b300101e87c4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495122981000' class='quanto-date posted-at response-posted-at' href='#591dc42575b6b300101e87c4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob/John,</p>

<p>Could you please elaborate on the logic of decay. Not questioning it  just want to understand. So, you take days since last expiration and add some value actually equal to:  decay_per_day*(19.5-days_since_last_expiration).<br>
So, what 19.5 mean? Is it average number of days between two contracts? But if so should&#39;n we be using 30, as you are not considering trading days but just diff (at least last attached algo shows that)<br>
Also, as we are applying this decay to V1, why not apply the same logic to V2 and instead of 19.5(which is 1 month), use 2 month? Maybe then we don&#39;t need that ratio_weight = 0.7 weird logic?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591dc6c0de6d3b46f489f88c' id='591dc6c0de6d3b46f489f88c'>
<a href='#591dc6c0de6d3b46f489f88c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495123648000' class='quanto-date posted-at response-posted-at' href='#591dc6c0de6d3b46f489f88c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I cleaned up the portion of code that gets the data ready for the algorithm. I changed the data source for VIX from Yahoo to CBOE as well.</p>

<p>Somehow, not getting the same results although they appear close. Can someone help me pin this down?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591dc6d56964b711c027324a' id='591dc6d56964b711c027324a'>
<a href='#591dc6d56964b711c027324a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495123669000' class='quanto-date posted-at response-posted-at' href='#591dc6d56964b711c027324a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think I figured out the great MACD mystery.   The current MACD calculation uses the market price for SPYG on day it runs.  I figured this out by working on macd in Java.   Things I observed:</p>

<p>1) I wan&#39;t getting same value in java with yahoo or google 40d window of SPYG close data and the Java talib library.<br>
2) If I used the Quantopian 40d price window Java talib and python talib were the same.  So it wasn&#39;t talib library (like I mentioned before in this thread).<br>
3) Yahoo/Google/Morningstar  all had the same 40d close data only Quantopian was different.<br>
4) I did a diff and they are almost exact except for the last day on Quantopian 40d close.  For 2017-05-17 Quantopian = 116.510, everyone else 115.42<br>
5) I realized when then you call data.history on 2017-05-17, Quantopian is giving you a price point for 2017-05-17, which is not a close price!  As far as I can tell 116.510 is the current market price on the date it runs.<br>
6) So I tried changing window to 41 price points and only using the first 40.  This should give last 40 day closes.   Now macd signal gives no information and looses all of its alpha.  Which should match java backtesting.  (See Attached).<br>
7) Still this is very interesting, the current SPYG price makes a hug difference!  This also makes me feel a lot better about the macd signal.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591dfab9605d30133e89a664' id='591dfab9605d30133e89a664'>
<a href='#591dfab9605d30133e89a664'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495136953000' class='quanto-date posted-at response-posted-at' href='#591dfab9605d30133e89a664'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Follow up to my last post...  It makes kind of sense that:  </p>

<pre><code>prices = data.history(context.spyg, &#39;price&#39;, 40, &#39;1d&#39;)  
</code></pre>

<p>Would return a &#39;price&#39; on the run date, but I don&#39;t think this should:</p>

<pre><code>closes = data.history(context.spyg, &#39;close&#39;, 40, &#39;1d&#39;)  
</code></pre>

<p>As far as I can tell these two lines return the exact same data.  I think this is a Quantopian bug, to whomever is listening.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e0bb61c2761000de6c841' id='591e0bb61c2761000de6c841'>
<a href='#591e0bb61c2761000de6c841'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495141302000' class='quanto-date posted-at response-posted-at' href='#591e0bb61c2761000de6c841'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John,</p>

<p>I have been trying to answer your question about your algorithm, and there are two major differences:</p>

<p>1) CBOE VIX/VXV fetch data vs pipeline.<br>
2) Hard coded expiration dates vs expiration date calculation.</p>

<p>I played around with it and both these seem to have an effect:</p>

<p>1) I have no idea why and it will take days to figure out why.<br>
2) I think you have something wrong here.  Not with the dates themselves but your choosing of them.  I printed out your &quot;le_str&quot; variable and it shows some odd selections around the day of expiration:</p>

<p>2013-10-14 08:31 my_rebalance:100 INFO 20130918<br>
2013-10-15 08:31 my_rebalance:100 INFO 20131016<br>
2013-10-16 08:31 my_rebalance:100 INFO 20131016<br>
2013-10-17 08:31 my_rebalance:100 INFO 20131016<br>
2013-10-18 08:31 my_rebalance:100 INFO 20131016</p>

<p>I would think the last_expiration would stay 20130918, until the 2013-10-17 run.  Here are my logs for same time:</p>

<p>2013-10-14 08:31 rebalance:109 INFO 20130918<br>
2013-10-15 08:31 rebalance:109 INFO 20130918<br>
2013-10-16 08:31 rebalance:109 INFO 20130918<br>
2013-10-17 08:31 rebalance:109 INFO 20131016<br>
2013-10-18 08:31 rebalance:109 INFO 20131016</p>

<p>I of course like my date math better than hard coded values so I don&#39;t have to update dates in the future, but in this case I think your last_expiration code is wrong.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e11d91c2761000de6c894' id='591e11d91c2761000de6c894'>
<a href='#591e11d91c2761000de6c894'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495142873000' class='quanto-date posted-at response-posted-at' href='#591e11d91c2761000de6c894'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John,</p>

<p>I am going to blow your mind now.   Trying to figure out the CBOE VIX/VXV difference between fetch and pipeline.   I have two very similar algorithms.</p>

<p>1) Uses Fetch  Alpha 1.82<br>
2) Uses pipeline Alpha 1.87</p>

<p>Now for the mind blowing part.  I output all the daily selections between the two, and they were identical.  IE both algorithms make all the same decisions.  Now I am really confused.   Only thing I can think of is one executes faster and gets better prices for buys or sells?  I am attaching the Fetch in this post and will attache the pipeline next.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e120253bfa3000dcc6166' id='591e120253bfa3000dcc6166'>
<a href='#591e120253bfa3000dcc6166'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495142914000' class='quanto-date posted-at response-posted-at' href='#591e120253bfa3000dcc6166'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And here is the pipeline...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e1680e054d7000dbf42e8' id='591e1680e054d7000dbf42e8'>
<a href='#591e1680e054d7000dbf42e8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495144064000' class='quanto-date posted-at response-posted-at' href='#591e1680e054d7000dbf42e8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob,</p>

<p>I went into it hoping to use some kind of formula to derive the expiration dates, but there is nothing that can account for every single one, without being so convuluted that you&#39;re better off just hard coding it. It is not always every third Wednesday of the month! Take March of this year for an example. Tried and tried again to find a pattern through the years, but it&#39;s too complicated to solve.</p>

<p>And I just played around with the date thing and found my mistake! Should have been subtracting 1 from the date, rather than adding 1.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e16e053bfa3000dcc61ce' id='591e16e053bfa3000dcc61ce'>
<a href='#591e16e053bfa3000dcc61ce'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495144160000' class='quanto-date posted-at response-posted-at' href='#591e16e053bfa3000dcc61ce'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And as far as the pipeline vs fetch thing goes, I&#39;m just pinning it on bad Quandl data... One could be going by close and the other by settlement, or maybe one catches it at 400 and the other at 4:15. Really hard to say without minute-resolution data.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e1ad0f3e54e0010b0cf7b' id='591e1ad0f3e54e0010b0cf7b'>
<a href='#591e1ad0f3e54e0010b0cf7b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495145168000' class='quanto-date posted-at response-posted-at' href='#591e1ad0f3e54e0010b0cf7b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I was actually wrong, I missed one trade difference on 2015-12-17  the fetch algorithm chooses XIV, while the pipeline chooses UVXY.  This results in 27% more returns for the month of 2015-12 for pipeline.   Also the fetch backtest I posted was with 1M dollars instead of this threads standard 10k.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e1ca04fa9290010074541' id='591e1ca04fa9290010074541'>
<a href='#591e1ca04fa9290010074541'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571cecf6a5c5baa9f500002e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/46041da1752043608f246f126bedb245?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571cecf6a5c5baa9f500002e'>Elsid Aliaj</a>
</div>
<a UTCms='1495145632000' class='quanto-date posted-at response-posted-at' href='#591e1ca04fa9290010074541'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is my last and final warning before you guys end up with blown accounts backtested through 07, unless you modified the algo tremendously in an 08 scenerio you are looking at 80-90% DD, of course it recovers, but that&#39;s a big if next crisis around.</p>

<p>XIV/UVXY/UPRO with macd disabled<br>
93% Annual Return<br>
81% Max DD</p>

<p>XIV/UVXY/UPRO with macd enabled at -1<br>
47% Annual Return<br>
91% MAX DD</p>

<p>Half position XIV/UVXY/UPRO with macd disabled<br>
49% Annual Return<br>
53% Max DD</p>

<p>Half position XIV/UVXY/UPRO + always half TLT with macd disabled<br>
55% Annual Return<br>
50% Max DD</p>

<p>From 2011+ you only hit like max 30% DD. Which depending on if you use the modified versions or lower your invested amount you can survive. </p>

<p>Unless you are backtesting VIX strategies past 2011 with your own data, not from quantopian&#39;s pipeline, the strategies are useless.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e1dccd598b50010f26b69' id='591e1dccd598b50010f26b69'>
<a href='#591e1dccd598b50010f26b69'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495145932000' class='quanto-date posted-at response-posted-at' href='#591e1dccd598b50010f26b69'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob and John, Thank you both for the work! So, as I see it, there are 6 things to decide</p>

<p>1) Fetch vs pipeline - where I vote for fetch as I don&#39;t trust the pipeline code<br>
2) Fetch yahoo vs CBOE - where I vote for CBOE<br>
3) Fetch CBOE directly from CBOE vs through Quandl - where I vote for fetching directly from CBOE as Quandl does strange things at strange times<br>
4) Setting the right thresholds - which I think is final<br>
5) Setting the final algo, which is 7 cases vs 3 - where it seems that we all are aligned on the 7 cases<br>
6) Hardcoding expiration dates vs programming them - where it seems like hardcoding is more work but more stable</p>

<p>Do you agree? </p>

<p>I am going to now implement a new integrated algorithm with the above 6 things - where the key differene is that I will pull the vix and vxv data directly from CBOE.</p>

<p>Then I will create 2 versions of it - one with hardcodes and theother with calculated expirations, as, while the later may be sub optimal, it requires 0 maintenance going forward.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e2216e054d7000dbf4417' id='591e2216e054d7000dbf4417'>
<a href='#591e2216e054d7000dbf4417'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495147030000' class='quanto-date posted-at response-posted-at' href='#591e2216e054d7000dbf4417'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro,</p>

<p>I can agree with all that. Will it be in Quantopian or Java?</p>

<p>Also, the dates for hardcoding go all the way until December 2018 (the 2019 calendar is not yet available), so it wouldn&#39;t need maintenance until then anyway, and at that point, all you&#39;ve got to do is plug more dates into the array.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e24e0059488000d81ed47' id='591e24e0059488000d81ed47'>
<a href='#591e24e0059488000d81ed47'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495147744000' class='quanto-date posted-at response-posted-at' href='#591e24e0059488000d81ed47'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro,</p>

<p>1) I am not sure yet, they are almost exactly the same like I pointed out its only one trade difference, I am not yet sure which right.   I think your distrust of pipeline is simply because its not easy to see the data.  I like the pipeline because its the way forward per Quantopian live trading.  I hope to add futures someday soon.</p>

<p>6) I also find the distrust in  date math confusing, I have compared every date 2008 - 2018 and it hits every date.  Also if you read my discussion with john I think he has a last_expiration bug with selecting from that table.</p>

<p>I also think there is a 7th question:<br>
7) Should macd be calculated with just 40 days of close prices, or with 39 days of close prices and the current day with current at run time price?  We are currently doing the later, even though I don&#39;t think that is the intention.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e26a8285487000db43242' id='591e26a8285487000db43242'>
<a href='#591e26a8285487000db43242'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495148200000' class='quanto-date posted-at response-posted-at' href='#591e26a8285487000db43242'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>With all due respect guys I want to throw some thoughts. I understand yours excitement, but lets be reasonable.<br>
As a Gambling Strategy this one is OK. But would someone in the future would really trust yours hard programmed thresholds.<br>
Check this out: majority of profits are coming from CASE3 and CASE4, where prefixed numbers were used and those numbers are actually determined by looking forward, Right? For example, comment out those Ifs and you&#39;ll immediately get just 1/100th of original return of ~2000% Still pretty good return though.<br>
Also, I doubt that those thresholds could be used to switch completely from Long to Short -- noway: in real life you would probably go to neutral or TQQQ, Righ? So, if would be proper to  replace CASE3 and CASE4 with just buying TQQQ and if you do your return would increase 10 folds from being neutral</p>

<p>But in any case, proper algorithm should be able to find those threshold automatically by looking at history of data and not by some hard coded looking forward value.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e26c353bfa30010cc6379' id='591e26c353bfa30010cc6379'>
<a href='#591e26c353bfa30010cc6379'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495148227000' class='quanto-date posted-at response-posted-at' href='#591e26c353bfa30010cc6379'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am coding in java except I don&#39;t know how to get the live price for SPYG at open.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e282a1c27610010e6cad3' id='591e282a1c27610010e6cad3'>
<a href='#591e282a1c27610010e6cad3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495148586000' class='quanto-date posted-at response-posted-at' href='#591e282a1c27610010e6cad3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Macro Ya I just spent all day trying to get that in java, I have some code that pulls it from GOOG, but its untested will try tomorrow morning.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e290c53bfa30010cc63be' id='591e290c53bfa30010cc63be'>
<a href='#591e290c53bfa30010cc63be'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495148812000' class='quanto-date posted-at response-posted-at' href='#591e290c53bfa30010cc63be'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Igor  I hear you but I am also willing to throw a bit of money at this to gamble.  I haven&#39;t bet anything I am not willing to loose 100% of.   Why don&#39;t you show us what the proper algorithm looks like?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e3fbc4fa9290010074821' id='591e3fbc4fa9290010074821'>
<a href='#591e3fbc4fa9290010074821'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495154620000' class='quanto-date posted-at response-posted-at' href='#591e3fbc4fa9290010074821'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What the  heck you guys are talking about? For life trading you don&#39;t need any special tools. Just have IB Api installed and pay ~$15/month for data feed -- $2.50 extra for CBOE Futures feed and that is it. You can then select any language and/or even VBA inside excel. I&#39;m positive that all can be done inside excel... I didn&#39;t try that, but you probably can get historical data through IB, I&#39;m not sure for how long back though, then you can even backtest. But for real time I&#39;m absolutely positive, as it&#39;s running right now inside mine Excel sheet.<br>
As to proper algorithm: I&#39;m working on that. If not day trading then I think above algo has some meaning due to the fact that there is inefficiency in the market: VIX moves too volatile for big guys to decide either to buy futures or sell. So, there is a delay and small guy can use it. But as I said before: too many thresholds. Others could be ignored, but those long term thresholds are not good: Proper algo should be able to find them during the run and adjust as required. Maybe it should  be true range or based on deviation or etc., but there are must be something. I would assume if implemented properly it would even increase backtests results too as majority of profit comes from this test.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e4ee79efa420010685d03' id='591e4ee79efa420010685d03'>
<a href='#591e4ee79efa420010685d03'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495158503000' class='quanto-date posted-at response-posted-at' href='#591e4ee79efa420010685d03'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Igor, Question. How would you find the threholds dynamically, which I agree will without a doubt improve results? Would you optimize every night with past data and use that for next day? Any favorite optimization tool? Excel Solver simply doesn&#39;t cut it, and the last time I used MAtlab was in business school which is ancient history. But point well taken. Would appreciate your feedback.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e4f12d598b5000df26fd3' id='591e4f12d598b5000df26fd3'>
<a href='#591e4f12d598b5000df26fd3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495158546000' class='quanto-date posted-at response-posted-at' href='#591e4f12d598b5000df26fd3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>&quot;For life trading you don&#39;t need any special tools. Just have IB Api installed and pay ~$15/month for data feed -- $2.50 extra for CBOE Futures feed and that is it. &quot;</p>

<p>Igor, How do I do that? Just give me a link please. In fact, I am willing to pay anyone who would implement this for me.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e512653bfa30010cc6712' id='591e512653bfa30010cc6712'>
<a href='#591e512653bfa30010cc6712'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495159078000' class='quanto-date posted-at response-posted-at' href='#591e512653bfa30010cc6712'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s my partial the java code to implement this. Doesnt smooth (yet), doesn&#39;t calculate MACD, doesn&#39;t connect to IB.</p>

<p>package xivinvest;</p>

<p>import java.io.FileOutputStream;<br>
import java.io.IOException;<br>
import java.net.URL;<br>
import java.nio.channels.Channels;<br>
import java.nio.channels.ReadableByteChannel;<br>
import java.io.FileReader ;<br>
import java.io.BufferedReader ;<br>
import java.nio.file.FileVisitResult;<br>
import java.nio.file.Files;<br>
import java.nio.file.Path;<br>
import java.nio.file.Paths;<br>
import java.nio.file.SimpleFileVisitor;<br>
import java.nio.file.attribute.BasicFileAttributes;</p>

<p>public class XIVInvest {</p>

<pre><code>private static void downloadUsingNIO(String urlStr, String file) throws IOException {  
    URL url = new URL(urlStr);  
    ReadableByteChannel rbc = Channels.newChannel(url.openStream());  
    FileOutputStream fos = new FileOutputStream(file);  
    fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);  
    fos.close();  
    rbc.close();  
}  

private static String[] extractLastVx (String file) throws IOException {  
   FileReader fr_settlement = new FileReader(file) ;  
   BufferedReader br_settlement = new BufferedReader(fr_settlement) ;  
   String aLine ;  
   int count = 0 ;  
   String[] vx_strings = new String[2] ;  

   while ((aLine = br_settlement.readLine()) != null) {  
       if(aLine.substring(0, 3).equals(&quot;VX &quot;))  
       {  
           String[] args = aLine.split(&quot;,&quot;) ;  
           vx_strings[count] = args[1] ;  
           if (count++ &gt;=1) break ;  
       }  
   }  
   br_settlement.close() ;  

   return vx_strings ;  

}  
private static String[] extractLastVixVxv (String file) throws IOException {  
   FileReader fr_settlement = new FileReader(file) ;  
   BufferedReader br_settlement = new BufferedReader(fr_settlement) ;  
   String aLine, aLineLast = null, aLineLastToLast = null ;  

   String[] vix_vxv_strings = new String[2] ;  

   while ((aLine = br_settlement.readLine()) != null)  
   {  
       aLineLastToLast = aLineLast ;  
       aLineLast = aLine ;  
   }  

   br_settlement.close() ;  

   String thisline = null ;  

   for (int i = 0 ; i &lt;2 ; i++)  
   {  
        if (i == 0) thisline = aLineLast ;  
        else thisline = aLineLastToLast ;  

        String[] args = thisline.split(&quot;,&quot;) ;  
        vix_vxv_strings[i] = args[4] ;  
   }  

   return vix_vxv_strings ;  

}  

private static void CleanDirectory(String Directory){  
    Path dir = Paths.get(Directory);  
    try  
    {  
        Files.walkFileTree(dir, new SimpleFileVisitor&lt;Path&gt;()  
        {  
              @Override  
              public FileVisitResult visitFile(Path file, BasicFileAttributes attrs)  
                      throws IOException  
              {  
                  Files.delete(file);  
                  return FileVisitResult.CONTINUE;  
              }  
            });  
    }  
    catch (IOException e)  
    {  
      e.printStackTrace();  
    }  
}  

private static String getValues()  
{  
    String vixUrl = &quot;http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vixcurrent.csv&quot; ;  
    String vxvUrl = &quot;http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vxvdailyprices.csv&quot; ;  
    String futuresUrl = &quot;http://cfe.cboe.com/market-data/futures-settlements&quot; ;  

    String Directory = &quot;C:/temp/vix&quot; ;  
    String futuresFile = &quot;C:/temp/vix/settlement.csv&quot; ;  
    String vixFile = &quot;C:/temp/vix/vix.csv&quot; ;  
    String vxvFile = &quot;C:/temp/vix/vxv.csv&quot; ;  

    String[] vx_values = null, vix_values = null, vxv_values = null ;  

    String retval = null ;  

    CleanDirectory(Directory) ;

    try {  
        downloadUsingNIO(futuresUrl,futuresFile);  
        vx_values = extractLastVx(futuresFile) ;  

        retval = vx_values[0] + &quot;,&quot; + vx_values[1] ;  

        downloadUsingNIO(vixUrl,vixFile);  
        vix_values = extractLastVixVxv(vixFile) ;  

        retval = retval + &quot;,&quot; + vix_values[0] + &quot;,&quot; + vix_values[1] ;  

        downloadUsingNIO(vxvUrl,vxvFile);  
        vxv_values = extractLastVixVxv(vxvFile) ;  

        retval = retval + &quot;,&quot; + vxv_values[0] ;  
    } catch (IOException e) {  
        e.printStackTrace();  
    }  

    return retval ;  
}  

public static String makeCall(String parameters)  
{  
    String[] args = parameters.split(&quot;,&quot;) ;  

    Double vx1 = Double.parseDouble(args[0]) ;  
    Double vx2 = Double.parseDouble(args[1]) ;  
    Double vix = Double.parseDouble(args[2]) ;  
    Double vixold = Double.parseDouble(args[3]) ;  
    Double vxv = Double.parseDouble(args[4]) ;  

    /* Need to smooth vx1 and vx2 */  

    Double last_ratio = 0.7 * (vix/vx1) + 0.3 * (vx1/vx2) - 1;  
    Double vix_vxv_ratio = vix/vxv ;  
    Double vix_change = vix/vixold - 1 ;  
    Double macd = 0.0 ; //need to calculate  

    System.out.println(last_ratio + &quot; &quot; + vix_vxv_ratio + &quot; &quot; + vix_change) ;  

    if (vix &lt; 10.5) return &quot;UVXY&quot; ;  
    else if (last_ratio &lt; -0.046 || vix_vxv_ratio &lt; 0.77) return &quot;XIV&quot; ;  
    else if (last_ratio &gt; 0.056 &amp;&amp; macd &gt; -1) return &quot;UVXY&quot; ;  
    else if (vix &gt; 19.8) return &quot;XIV&quot; ;  
    else if (vix &lt; 14.1) return &quot;UVXY&quot; ;  
    else if (vix_change &lt; -0.1) return &quot;XIV&quot; ;  
    else if (vix_change &gt; 0.1) return &quot;UVXY&quot; ;  
    else return &quot;TQQQ&quot; ;  
}  

public static void main(String args[]){  
    System.out.println(makeCall(getValues()));  
}  
</code></pre>

<p>}</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e86f31c27610010e6d19c' id='591e86f31c27610010e6d19c'>
<a href='#591e86f31c27610010e6d19c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495172851000' class='quanto-date posted-at response-posted-at' href='#591e86f31c27610010e6d19c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro. I do see here others are already trying to implement this and probably they know what they are doing.<br>
What I&#39;m saying is that if you don&#39;t have IB account just go to there site and open paper account download there TWS and see that all real-time quotes are available there. Then fill an application open account and subscribe to proper market data. That&#39; it.<br>
Maybe you don&#39;t need all this programming BS at all: you will see RT quotes of futures through the night, maybe that&#39;s all you need.<br>
On the other hand should you decide to automate: IB API is the way to go: that business of downloading data from other sites is too complicated and error prone. So, if others here could do something for you other way, that&#39;s fine. But as soon as algo settled and we have positive implementable algo should I consider using it and if I have time: I&#39;ll for sure implement it using IB market data. Then I might share it with you.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e8d85d598b5000df27346' id='591e8d85d598b5000df27346'>
<a href='#591e8d85d598b5000df27346'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495174533000' class='quanto-date posted-at response-posted-at' href='#591e8d85d598b5000df27346'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Attached is slight modification, but it shows what I was talking about. Results are not as impressive as before, but it introduces dynamic VIX thresholds. It uses linear regression and  the code might be used by others. Check #TIG comments for changes.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591e923bf3e54e000db0d7a8' id='591e923bf3e54e000db0d7a8'>
<a href='#591e923bf3e54e000db0d7a8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495175739000' class='quanto-date posted-at response-posted-at' href='#591e923bf3e54e000db0d7a8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Igor, thanks. I need to find an IB programmer.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591eed56db9e77000d843dd7' id='591eed56db9e77000d843dd7'>
<a href='#591eed56db9e77000d843dd7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495199062000' class='quanto-date posted-at response-posted-at' href='#591eed56db9e77000d843dd7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Noticed something strange. If you run this algorithm on the US Futures calendar for the backtest, rather than the US Equities calendars, you don&#39;t get as good results.Can&#39;t possibly think of any reason this would be the case, since the orders seem to execute at the same time in both scenarios.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591eee389efa42001068668b' id='591eee389efa42001068668b'>
<a href='#591eee389efa42001068668b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495199288000' class='quanto-date posted-at response-posted-at' href='#591eee389efa42001068668b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro, </p>

<p>I&#39;ve been looking into IB programming as an alternative to relying on Quantopian, so I may be able to help you out at some point. Only problem is finding the time outside of my full-time job, hobbies, and life...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591ef006db9e77000d843e13' id='591ef006db9e77000d843e13'>
<a href='#591ef006db9e77000d843e13'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495199750000' class='quanto-date posted-at response-posted-at' href='#591ef006db9e77000d843e13'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So its 9:13am on 2017-05-19, and I have the same problem again.  Using close data from last night algorithm says TQQQ, but using premarket data it says UVXY (Case 4).   It looks like its going to be a positive day, on the other hand I am already in UVXY and when its in UVXY is when this makes the most money.  What to do....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591ef238d598b50010f279a6' id='591ef238d598b50010f279a6'>
<a href='#591ef238d598b50010f279a6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495200312000' class='quanto-date posted-at response-posted-at' href='#591ef238d598b50010f279a6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob,</p>

<p>I noticed the same thing and I&#39;m facing the same conundrum. In the spirit of the algorithm we should go TQQQ.</p>

<p>And remember, the algorithm is saying to go TQQQ and stay in the whole weekend. No one knows what the signal might say at the end of the day.</p>

<p>However, it&#39;s situations like these that make me thing the algorithm need a 9:30am &quot;sanity check&quot; before the trade is made. How it would be implemented or if it would even help, I have no idea.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591ef615d598b5000df27955' id='591ef615d598b5000df27955'>
<a href='#591ef615d598b5000df27955'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495201301000' class='quanto-date posted-at response-posted-at' href='#591ef615d598b5000df27955'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So I got out of UVXY, and then just decided to stay out.  I lost my nerve .  There are some practical parts of trading this that I need to work out.  I think I am going to take weekend off and watch Alien Covenant :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591f0130285487471cb43500' id='591f0130285487471cb43500'>
<a href='#591f0130285487471cb43500'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58b4f798ebd945000a31e648'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6b4a8987c841618b6c4d59f43e77abd2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58b4f798ebd945000a31e648'>Frank Gibbs</a>
</div>
<a UTCms='1495204144000' class='quanto-date posted-at response-posted-at' href='#591f0130285487471cb43500'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I only changed the start date to 1/1/2016 date and benchmarked to the XIV.  It would have been better to buy and hold the XIV for the last 1.5 years. Is this expected? (this was cloned from he latest version in the thread)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591f27b7059488001081fd45' id='591f27b7059488001081fd45'>
<a href='#591f27b7059488001081fd45'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57feb6056a6efd7c8c000345'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9e50aeabdf1fbd937dc767f11637f732?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57feb6056a6efd7c8c000345'>Trevor Pedersen</a>
</div>
<a UTCms='1495214007000' class='quanto-date posted-at response-posted-at' href='#591f27b7059488001081fd45'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I added in a 10% stop loss to UVXY, which seems to significantly increase performance. I&#39;d also suspect adding some stop loss/take profit logic to XIV or TQQQ would further increase performance as well.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591f4bf1f3e54e29cdb0d33d' id='591f4bf1f3e54e29cdb0d33d'>
<a href='#591f4bf1f3e54e29cdb0d33d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495223281000' class='quanto-date posted-at response-posted-at' href='#591f4bf1f3e54e29cdb0d33d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Trevor,</p>

<p>You&#39;re the best. I&#39;ve been meaning to implement a stop loss on this for a long time but never got around to coding it. I put in the XIV stop loss as well, and tweaked the stop percentages to 11% and 15%.</p>

<p>Now, this wasn&#39;t enough for me. I saw your stop loss and raised you one higher... Instead of just going to cash when the stop is triggered, UVXY switches to XIV, or XIV switches to UVXY. Ridiculous results: 2,300,000% returns with only 41% drawdown now.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591f519be054d76e87bf4460' id='591f519be054d76e87bf4460'>
<a href='#591f519be054d76e87bf4460'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e9e5fd152d2c000d01402c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5be9eef1c398d1bcba430525d60235f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e9e5fd152d2c000d01402c'>Brandon Levan</a>
</div>
<a UTCms='1495224731000' class='quanto-date posted-at response-posted-at' href='#591f519be054d76e87bf4460'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>fetch_csv(&#39;<a href="https://www.quandl.com/api/v3/datasets/YAHOO/INDEX_VIX.csv">https://www.quandl.com/api/v3/datasets/YAHOO/INDEX_VIX.csv</a>&#39;, </p>

<p>Have Yahoo discontinued VIX? Shoud we be using CBOE  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591f568e4fa929151f0744b2' id='591f568e4fa929151f0744b2'>
<a href='#591f568e4fa929151f0744b2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495225998000' class='quanto-date posted-at response-posted-at' href='#591f568e4fa929151f0744b2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And here it is with the CBOE data source (still no idea why it produces different results than Yahoo)... Not quite as exciting but still pretty awesome.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591f58fd4fa929352a074933' id='591f58fd4fa929352a074933'>
<a href='#591f58fd4fa929352a074933'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57feb6056a6efd7c8c000345'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9e50aeabdf1fbd937dc767f11637f732?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57feb6056a6efd7c8c000345'>Trevor Pedersen</a>
</div>
<a UTCms='1495226621000' class='quanto-date posted-at response-posted-at' href='#591f58fd4fa929352a074933'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Haha, this is starting to get out of hand. Good work John :). Now lets see if we can keep pushing this a little higher... </p>

<p>I modified your case 0 to have a higher threshold. Basically if VIX is currently trading below its 30 day average AND if VIX is trading below 12.5 go long UVXY.<br>
Significantly improved results with 3,691,317.1% returns.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591f5b48059488000d820252' id='591f5b48059488000d820252'>
<a href='#591f5b48059488000d820252'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495227208000' class='quanto-date posted-at response-posted-at' href='#591f5b48059488000d820252'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also... What&#39;s causing that &gt;1 leverage that happens in Dec2013-Jan2014 and June-Sep2016? I don&#39;t think we should be seeing any of that based on how the algorithm executes orders... Something seems fishy.</p>

<p>I think the algorithm occasionally double sells (or double buys) things by accident if a stop is triggered right at 9:31am. At least, that&#39;s my theory. Tried the default slippage model and got even crazier results... By the end of the backtest, it was holding all three products (UVXY, XIV, and TQQQ) in different long and short positions.</p>

<p>Also, the backtest has negative cash for most of the time it runs... Anyone know why?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591f714f2e8b4d000d1e6c2f' id='591f714f2e8b4d000d1e6c2f'>
<a href='#591f714f2e8b4d000d1e6c2f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e9e5fd152d2c000d01402c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5be9eef1c398d1bcba430525d60235f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e9e5fd152d2c000d01402c'>Brandon Levan</a>
</div>
<a UTCms='1495232847000' class='quanto-date posted-at response-posted-at' href='#591f714f2e8b4d000d1e6c2f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John,</p>

<p>Can you modify to have algo close open positions 1 minute before open new positions. This way no negative cash will happen?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5920885aa720f34b5131ff55' id='5920885aa720f34b5131ff55'>
<a href='#5920885aa720f34b5131ff55'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495304282000' class='quanto-date posted-at response-posted-at' href='#5920885aa720f34b5131ff55'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Alright. If I had to submit a &quot;final draft&quot; of this algorithm and what I believe makes it effective, this would be it.</p>

<p>Incorporated all of the most recent advances we&#39;ve made. Using CBOE data. Leverage never rises above 1.01 (which I still can&#39;t figure out how to solve) because sells never happen concurrently with buys, and double ordering never happens (this was a major problem that was never addressed until now).</p>

<p>Returns are great but drawdown is now 54%. Oh well. Returns from the past year or so also suck.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5920cead207144000d011475' id='5920cead207144000d011475'>
<a href='#5920cead207144000d011475'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57feb6056a6efd7c8c000345'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9e50aeabdf1fbd937dc767f11637f732?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57feb6056a6efd7c8c000345'>Trevor Pedersen</a>
</div>
<a UTCms='1495322285000' class='quanto-date posted-at response-posted-at' href='#5920cead207144000d011475'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Actually I can&#39;t entirely decide if my modification to case 0 is actually an improvement or not. I&#39;m thinking the increased returns might be just a coincidence, but it&#39;s hard to say. The returns from last year or so are a lot more consistent without it for sure, but I suppose that consistency comes at the expense of extra market exposure.</p>

<p>Also I&#39;m thinking the stop losses need some improvements. There should be some kind of logic check to make sure swapping positions when the stops are triggered is actually a good trade or not. For example if the stop loss is triggered on UVXY it probably shouldn&#39;t swap to XIV if VIX is currently abnormally low.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5920d235049da300104f9451' id='5920d235049da300104f9451'>
<a href='#5920d235049da300104f9451'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e9e5fd152d2c000d01402c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5be9eef1c398d1bcba430525d60235f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e9e5fd152d2c000d01402c'>Brandon Levan</a>
</div>
<a UTCms='1495323189000' class='quanto-date posted-at response-posted-at' href='#5920d235049da300104f9451'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>2 back test from dif start date with same end date produced dif signal. Is this normal?</p>

<p>From 2017-04-01 to 2017-05-19 with $10,600 initial capital<br>
LAST TRANSACTION<br>
2017/05/08<br>
SELL XIV<br>
BUY UVXY</p>

<p>From 2017-05-01 to 2017-05-19 with $10,600 initial capital<br>
Last Transaction</p>

<p>2017/05/019<br>
SELL UVXY<br>
BUY XIV  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5920e4cac41386000d2d6a63' id='5920e4cac41386000d2d6a63'>
<a href='#5920e4cac41386000d2d6a63'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57feb6056a6efd7c8c000345'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9e50aeabdf1fbd937dc767f11637f732?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57feb6056a6efd7c8c000345'>Trevor Pedersen</a>
</div>
<a UTCms='1495327946000' class='quanto-date posted-at response-posted-at' href='#5920e4cac41386000d2d6a63'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes, anything less than 30 days would have different ending outputs for context.vix_p.tail(30).median() because it initially starts with no data. So the first 7 days would be the median of the first 7 not 30 days. After 30 days the results should be the same. There&#39;s probably a better way of programming it without the 30 day time lag.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592194a02a84880010443625' id='592194a02a84880010443625'>
<a href='#592194a02a84880010443625'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1495372960000' class='quanto-date posted-at response-posted-at' href='#592194a02a84880010443625'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Couple of things to think about: </p>

<p>Max margin 1.5M, take a look at whether margin is held over multiple days, and fees if so. As a general rule, sell and wait at least a minute before buying so you then control any margin better (and/or consider partial fills too). </p>

<p>UVXY was shorted $54 million (4M shares) on 2016-06-28. </p>

<pre><code>            Profit        Max  
 Symbol       PnL        Risked     Return  
   XIV   139,652,709  153,153,261    91%  
  UVXY    45,706,234  149,787,245    30%  
  TQQQ     8,183,667  180,271,114     4%    

</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59224655ee825c000d0f4c45' id='59224655ee825c000d0f4c45'>
<a href='#59224655ee825c000d0f4c45'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495418453000' class='quanto-date posted-at response-posted-at' href='#59224655ee825c000d0f4c45'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>All, I decided to totally rewrite the algorithm. Results improve somewhat. Backtest attached.</p>

<p>1) Removed the smoothing. I am not saying it is not correct, but I don&#39;t understand it, I didn&#39;t do the work behind it, and I don&#39;t want to take it as a black box. But others who are comfortable with the smoothing should of course use it.</p>

<p>2) Removed the stop losses. To me, this is a core buy and hold algorithm with one trade on average every 1-2 weeks. I have never used stop losses in my entire 25+ year investing career, and I don&#39;t think they make sense for me now. But they may make sense for others.</p>

<p>3) The previous algorithms were data mined and curve fitted. I took out the overfitting, and started with thinking about what thresholds I want from a percentile basis, and creating symmetry between XIV and UVXY choices. I have fully explained my choices here, and all the thresholds come from real data and not curve fitting. I didn&#39;t curve fit the percentiles either. I choose big round numbers top down that make investing sense to me, and let the chips fall there they may</p>

<p>4) I added new cases to reduce the numbe rof time TQQQ is held, and moved it to either XIV or UVXY. At the same time, I added some checks to move UVXY or XIV towards TQQQ to take into account overnigth movements</p>

<p>5) Finally, I cleaned the code out completely.</p>

<p>Then, since I do not trust anything in Quantopian, I replicated the whole code in Excel. There&#39;s one issue, in Excel I use prices at open to trade, and Q uses prices at 1 minute after open. Still the answers are very close. If I add a 0.05% delta as gap between open and 1 minute after open, the numbers match closely.</p>

<p>I have provided a link to the Excel, and would appreciate thorough check by anyone interested. Thank you very much in advance. One complaint that I expect is that I got the percentiles form the VIX/VXV/Futures data for the period where the algorithm is running, but given that all these are mean reverting, they should match out of sample. I did some quick tests for data from 2003-2010 and the percentiles all hold.</p>

<p><a href="https://dl.dropboxusercontent.com/s/ssswrz7t247dtlc/R%20analysis%209.xlsm">https://dl.dropboxusercontent.com/s/ssswrz7t247dtlc/R%20analysis%209.xlsm</a></p>

<p>I have hired someone to implement this in IB. Will keep you guys posted.</p>

<p>Best of luck to everyone.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5922471c9ee4d2001029e984' id='5922471c9ee4d2001029e984'>
<a href='#5922471c9ee4d2001029e984'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495418652000' class='quanto-date posted-at response-posted-at' href='#5922471c9ee4d2001029e984'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>PS: One note. I am sure the performance of this algorithm can be vastly improved by</p>

<p>1) smoothing<br>
2) introducing stop losses<br>
3) some conservative curve fitting.</p>

<p>I am not going to engage in any of that, but I look forward to seeing the results from others.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59226f46cfc15600108eac18' id='59226f46cfc15600108eac18'>
<a href='#59226f46cfc15600108eac18'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495428934000' class='quanto-date posted-at response-posted-at' href='#59226f46cfc15600108eac18'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>just for kicks ...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592292d9575124000d7ea4e7' id='592292d9575124000d7ea4e7'>
<a href='#592292d9575124000d7ea4e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495438041000' class='quanto-date posted-at response-posted-at' href='#592292d9575124000d7ea4e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And this one is just for fun.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5922de819ee4d2000d29f1a9' id='5922de819ee4d2000d29f1a9'>
<a href='#5922de819ee4d2000d29f1a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495457409000' class='quanto-date posted-at response-posted-at' href='#5922de819ee4d2000d29f1a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Macro,</p>

<p>This new version has great returns, but I&#39;ve gotta ask one thing about your strategy...</p>

<p>Why is it that you&#39;re against curve fitting the variables, but you&#39;re totally for adding more and more cases to the algorithm? The reason I was first attracted to this algorithm (and not the other volatility algos on here) was because of how simple and elegant it was, which I&#39;m not seeing in this latest version. I come from an engineering/statistics/math background, not a finance background, but my intuition tells me that overfitting is much more of a risk in your approach than the other approaches.</p>

<p>13 different scenarios for taking a position, in an algorithm that only runs once per day, strikes me as designing something that responds correctly to historical market numbers but not to the general nature of the market.</p>

<p>I&#39;m just imagining that the &quot;perfect version&quot; of this algorithm will be having a different case for each and every permutation that VIX, VXV, VX1, VX2, and each and every ratio you can find, and making them work for positive results on each and every day in the history of market tracking. To me, simplicity then curve fitting is a much safer and more scientific method to discovering the patterns that make volatility a worthwhile signal for years in the future.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5922ec289ee4d2001029f2aa' id='5922ec289ee4d2001029f2aa'>
<a href='#5922ec289ee4d2001029f2aa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495460904000' class='quanto-date posted-at response-posted-at' href='#5922ec289ee4d2001029f2aa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>All that being said, I do like a number of things you did. Mainly the check to see how much things moved overnight. Can&#39;t really thank you enough for getting the train rolling this far.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5922fc7d8bd014000d7b7882' id='5922fc7d8bd014000d7b7882'>
<a href='#5922fc7d8bd014000d7b7882'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1495465085000' class='quanto-date posted-at response-posted-at' href='#5922fc7d8bd014000d7b7882'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John, This is what I am trying to do. Would much appreciate if you can help me structure this right.</p>

<p>To me, there are 5 signals.</p>

<p>1) The level of VIX<br>
2) The shape of the curve<br>
3) The ratio of short to mid term volatility<br>
4) How much VIX changed recently<br>
5) How much the ETFs themselves changed overnight</p>

<p>For each of these cases, there has to be 2 cases, one to invest in XIV, the other to invest in UVXY.</p>

<p>Then there has to be the default, to invest in TQQQ.</p>

<p>So, a bare minimum of 11 cases is needed. How do I get rid of that?</p>

<p>In the algorithm, I also added 2 more cases for VIX being too low or too high, and VIXchange the previous day being too low or too high. That&#39;s why you are getting that many cases.</p>

<p>Tell me what would you change here? You and others have bene super helpful in structuring this, so I want your thoughts please.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5922ff95049cf8000dbd2adb' id='5922ff95049cf8000dbd2adb'>
<a href='#5922ff95049cf8000dbd2adb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495465877000' class='quanto-date posted-at response-posted-at' href='#5922ff95049cf8000dbd2adb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A strategy I&#39;ve tried is looking at how many times a case is hit over the historical period. If a case is hit only 3 or 4 times over the course of five and a half years, the n is too low to make any kind of statistical argument that the case will hold up over repeated tests in the future. Likely just luck that it worked in the past. I&#39;ve tried to avoid using cases that are only hit very few times. And naturally, the more cases, the less each case will be hit.</p>

<p>So, I would start trying to take a more statistical approach. I&#39;ve been meaning to do this too. I want to do a little stat analysis on each case, see the average returns from each case (along with standard deviations and whatnot), how often each case is hit on an even  longer timeframe, maybe even start to look at socioeconomic factors during times of trouble, and overall start to look at it from that perspective.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59230c5a5e75b109dc501f7a' id='59230c5a5e75b109dc501f7a'>
<a href='#59230c5a5e75b109dc501f7a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1495469146000' class='quanto-date posted-at response-posted-at' href='#59230c5a5e75b109dc501f7a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Any way to implement this into an options strategy?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59244ac5ed71520010e0c697' id='59244ac5ed71520010e0c697'>
<a href='#59244ac5ed71520010e0c697'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495550661000' class='quanto-date posted-at response-posted-at' href='#59244ac5ed71520010e0c697'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s a new idea to play around with. I noticed that there&#39;s often a &quot;scramble&quot; right after opening where volatility tends to rise a bit. So, on days where the algo chooses to switch into XIV, sell at open but wait about 30-40 minutes before buying in to avoid the scramble.</p>

<p>Based on Macro&#39;s &quot;just for fun&quot; version, improves returns by about 18% and marginally reduces drawdown too.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5924a219751680000d1b3c4d' id='5924a219751680000d1b3c4d'>
<a href='#5924a219751680000d1b3c4d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495573017000' class='quanto-date posted-at response-posted-at' href='#5924a219751680000d1b3c4d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Alright... Here&#39;s the big one.</p>

<p>I took Macro&#39;s latest &quot;just for fun&quot; algorithm and added a bit of code that tracks how often each case is hit over the entire backtest period. Started curve fitting the thresholds as appropriate (Macro, I don&#39;t understand why you are trying to use &quot;symmetrical&quot; thresholds for some cases - just doesn&#39;t make logical sense to me), and getting rid of cases that NEVER get hit. Trimmed it down to 12 cases. So, here&#39;s the (somewhat ridiculous) result of that work.</p>

<p>You might notice the &quot;default&quot; fund is now UVXY . This is because the overnight failsafe (cases 10 and 11) does a good enough job of saving the portfolio from an irresponsible choice.</p>

<p>And here is the number of times each case is hit:</p>

<p>Case 0 - 20<br>
Case 1 - 827<br>
Case 2 - 32<br>
Case 3 - 35<br>
Case 4 - 1<br>
Case 5 - 131<br>
Case 6 - 9<br>
Case 7 - 109<br>
Case 8 - 179<br>
Case 9 - 44<br>
Case 10 - 28<br>
Case 11 - 1</p>

<p>The larger the number of times it was hit in the backtest, the more confident you can be that it&#39;s a good signal in the future. For example, Case 4&#39;s and Case 10&#39;s signals have only been hit once each but they were responsible for a massive profit in the end. Will Case 4&#39;s and Case 10&#39;s signals hold up the same way in the future? Absolutely no idea, you might as well flip a coin. Cases 1, 5, and 8 though? Virtually guaranteed to be worthwhile to listen to.</p>

<p>I also tried implementing my smoothing and Trevor&#39;s stop loss into the algorithm, to no avail.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5924a3ad348840000d391f60' id='5924a3ad348840000d391f60'>
<a href='#5924a3ad348840000d391f60'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58b4f798ebd945000a31e648'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6b4a8987c841618b6c4d59f43e77abd2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58b4f798ebd945000a31e648'>Frank Gibbs</a>
</div>
<a UTCms='1495573421000' class='quanto-date posted-at response-posted-at' href='#5924a3ad348840000d391f60'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That was a brilliant idea John!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5924a600043b59000df62e8d' id='5924a600043b59000df62e8d'>
<a href='#5924a600043b59000df62e8d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57ba18811646fc2075000b2e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e8958c457a60cb5c7cde7d3e6d6bf706?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57ba18811646fc2075000b2e'>Carl Bosson</a>
</div>
<a UTCms='1495574016000' class='quanto-date posted-at response-posted-at' href='#5924a600043b59000df62e8d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Guys I&#39;m sorry for being lazy and not going through each of the posts. I was wondering if we still have the same issues when it comes to fetching the CSV:s or if. this has been fixed? John and Macro, your enhanced strategies looks astonishing!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5924ec11be4f440010e9d682' id='5924ec11be4f440010e9d682'>
<a href='#5924ec11be4f440010e9d682'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/572297210865eef93a0001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/57f4f25317937ba54366c98fee48c4a6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/572297210865eef93a0001d2'>Warren Harding</a>
</div>
<a UTCms='1495591953000' class='quanto-date posted-at response-posted-at' href='#5924ec11be4f440010e9d682'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Why isn&#39;t Quantopian spreading the purchases out over multiple minutes with this algo? It looks good but you can&#39;t actually trade that much in a single minute, the transaction log shows huge purchases being made in a single minute towards the end of the backtest. You&#39;ll probably have to cap the amount it can trade in real life. Nice algo though.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5924f07f34884000103924c7' id='5924f07f34884000103924c7'>
<a href='#5924f07f34884000103924c7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/572297210865eef93a0001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/57f4f25317937ba54366c98fee48c4a6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/572297210865eef93a0001d2'>Warren Harding</a>
</div>
<a UTCms='1495593087000' class='quanto-date posted-at response-posted-at' href='#5924f07f34884000103924c7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Never mind, I commented off the slippage settings line and the algo started purchasing over multiple minutes. It&#39;s probably best to leave it the way it is while backtesting so you can see the results independently of dollar volume restriction problems. Sorry for being such a noob.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5924feec34884000103925ce' id='5924feec34884000103925ce'>
<a href='#5924feec34884000103925ce'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56e8d3e2dc90e14e5e000302'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b68e8b2735ba656d1153016a8b10761d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56e8d3e2dc90e14e5e000302'>Eugene Chen</a>
</div>
<a UTCms='1495596780000' class='quanto-date posted-at response-posted-at' href='#5924feec34884000103925ce'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John- Nice analysis on the hit frequency of each of the 12 cases.  Thanks for doing that.</p>

<p>Did you happen to break down how much cumulative % return each case was responsible for?  That would also be helpful in evaluating the merits for keeping/modifying/pruning a case.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5925252c8bc55b41c9a04a4e' id='5925252c8bc55b41c9a04a4e'>
<a href='#5925252c8bc55b41c9a04a4e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495606572000' class='quanto-date posted-at response-posted-at' href='#5925252c8bc55b41c9a04a4e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Distribution of profits by case numbers:<br>
2017-04-28 12:59 my_stat_print:197 INFO 0 8 24.14% 3.018%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 1 826 275.0% 0.332%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 2 32 4.036% 0.126%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 3 33 228.7% 6.930%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 4 1 29.18% 29.18%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 5 131 172.2% 1.314%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 6 8 5.136% 0.642%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 7 109 240.4% 2.206%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 8 179 197.9% 1.105%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 9 44 128.2% 2.914%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 10 28 94.30% 3.368%/case<br>
2017-04-28 12:59 my_stat_print:197 INFO 11 1 3.862% 3.862%/case  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5925449bbe4f44000de9dba1' id='5925449bbe4f44000de9dba1'>
<a href='#5925449bbe4f44000de9dba1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1495614619000' class='quanto-date posted-at response-posted-at' href='#5925449bbe4f44000de9dba1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>last version:: why do you do : </p>

<pre><code>
order_target_percent(context.xiv,0)  
order_target_percent(context.xiv,1)

</code></pre>

<p>as it&#39;s percent it will do a double transaction  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5925862d751680000d1b4b4b' id='5925862d751680000d1b4b4b'>
<a href='#5925862d751680000d1b4b4b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56e8d3e2dc90e14e5e000302'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b68e8b2735ba656d1153016a8b10761d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56e8d3e2dc90e14e5e000302'>Eugene Chen</a>
</div>
<a UTCms='1495631405000' class='quanto-date posted-at response-posted-at' href='#5925862d751680000d1b4b4b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the breakdown Igor.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59258a59d493e3000ddafa8d' id='59258a59d493e3000ddafa8d'>
<a href='#59258a59d493e3000ddafa8d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495632473000' class='quanto-date posted-at response-posted-at' href='#59258a59d493e3000ddafa8d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Igor,</p>

<p>Your math on how you compounded the profits was a little off. You need to multiply them together rather than add, and then take a root to find the per-day numbers.</p>

<p>I believe this math is correct.</p>

<p>2017-04-28 15:59 my_stat_print:197 INFO 0 8.0 26.67% 2.999%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 1 826.0 927.3% 0.282%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 2 32.0 2.301% 0.071%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 3 33.0 467.3% 5.400%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 4 1.0 29.18% 29.18%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 5 131.0 339.7% 1.137%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 6 8.0 4.827% 0.591%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 7 109.0 633.1% 1.844%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 8 179.0 529.1% 1.032%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 9 44.0 193.8% 2.479%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 10 28.0 139.1% 3.163%/case<br>
2017-04-28 15:59 my_stat_print:197 INFO 11 1.0 3.862% 3.862%/case  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5925a60f348840000d39313f' id='5925a60f348840000d39313f'>
<a href='#5925a60f348840000d39313f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495639567000' class='quanto-date posted-at response-posted-at' href='#5925a60f348840000d39313f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And here&#39;s my take on this algorithm as it stands right now:</p>

<p>As far as the number of cases goes, I think this is as complicated as it should get. Unless anyone can find an advantage by moving around or removing cases, that is. I&#39;m down for adding more features that affect how the algorithm runs on a daily basis (such as stop loss or limit orders, or something along those lines), but I&#39;m pretty confident that we&#39;ve just about optimized the &quot;case&quot; portion of this algorithm. I don&#39;t think there&#39;s much more that can be squeezed out without seriously overcomplicating things.</p>

<p>At this point, I don&#39;t think I would be comfortable running the algorithm unsupervised: The fact that 2017 has seen some &quot;weird&quot; volatility patterns combined with how little some cases have been hit, means that I&#39;m following the algorithm as best I can with manual trades, while keeping an eye on the circumstances under which each case is hit.</p>

<p>This algorithm will seriously benefit from being &quot;locked in&quot; for about a year or so and seeing how things go, relative to the backtest period.</p>

<p>And it goes without saying, but backtesting this against pre-2011 numbers would be a great thing to see as well.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5925c08c6ecd471f2d5701bb' id='5925c08c6ecd471f2d5701bb'>
<a href='#5925c08c6ecd471f2d5701bb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1495646348000' class='quanto-date posted-at response-posted-at' href='#5925c08c6ecd471f2d5701bb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s an update with some code cleanup:</p>

<ol>
<li>When XIV is the target security it&#39;s no longer sold and immediately repurchased.<br></li>
<li>Positions are recorded in the custom data plot.<br></li>
<li>Orders can be logged by setting context.log_orders = 1 in initialize().<br></li>
<li>Igor&#39;s stats (with John&#39;s change) are logged only at the end of the backtest.</li>
</ol>

<p>P.s. I noticed that as the portfolio gets larger many orders can&#39;t be filled.  Backtesting with smaller initial capital amounts over shorter periods (e.g. one year) should give a better picture of returns.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5925c758e06cfb000f5489da' id='5925c758e06cfb000f5489da'>
<a href='#5925c758e06cfb000f5489da'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1495648088000' class='quanto-date posted-at response-posted-at' href='#5925c758e06cfb000f5489da'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Stephen,</p>

<p>Thank for the cleanup and the tracking of positions.</p>

<p>But there&#39;s still something funky going on with leverage. The problem is practically non-existent when you set slippage to 0, but when you use default slippage (like you did), it comes back. Look at the period between February-June 2016 for what I mean.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5925cea35543b4001083481e' id='5925cea35543b4001083481e'>
<a href='#5925cea35543b4001083481e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1495649955000' class='quanto-date posted-at response-posted-at' href='#5925cea35543b4001083481e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John,</p>

<p>What am I missing?  I don&#39;t see anything unusual happening with the leverage during that period.  I&#39;m running a backtest from 1/1/2016 to present day.</p>

<p>Also, you can track max leverage with these changes: </p>

<p>Put this in initialize():<br>
context.mx_lvrg = 0</p>

<p>Put this in my_record_vars():<br>
record(Max_Lvg=context.mx_lvrg) </p>

<p>Put this in handle_data():<br>
if context.account.leverage &gt; context.mx_lvrg:<br>
     context.mx_lvrg = context.account.leverage </p>

<p>Since handle_data() fires every minute the code above will track intraday leverage.  If you want to record max end-of-day leverage move the handle_data() code to my_record_vars() before this line: record(Max_Lvg=context.mx_lvrg) .  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592651a186b46200105bb8b7' id='592651a186b46200105bb8b7'>
<a href='#592651a186b46200105bb8b7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/586d9e665547ba630e0001b1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/86fe251268d86bfe55595918fc435135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/586d9e665547ba630e0001b1'>Vix Trader</a>
</div>
<a UTCms='1495683489000' class='quanto-date posted-at response-posted-at' href='#592651a186b46200105bb8b7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John,</p>

<p>I took your &quot;Alright... Here&#39;s the big one&quot; model and used excel to compute the trade signal for tomorrow (05/25) morning. It shows UVXY.<br>
Can you please confirm?</p>

<p>Thanks to you and Macro investor for improving the algorithms.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59265ce69cbbd55680f8bada' id='59265ce69cbbd55680f8bada'>
<a href='#59265ce69cbbd55680f8bada'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1495686374000' class='quanto-date posted-at response-posted-at' href='#59265ce69cbbd55680f8bada'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I just downloaded the Quandl files.  The VIX and VXV files are already updated with today&#39;s data.  VX2 is still only updated up to yesterday but will presumably have today&#39;s data before trading starts tomorrow.  However, the most recent data in the VX1 file is from 5/17/2017 which seems like a problem for this algo.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592686cfcd8a40000d165c5d' id='592686cfcd8a40000d165c5d'>
<a href='#592686cfcd8a40000d165c5d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495697103000' class='quanto-date posted-at response-posted-at' href='#592686cfcd8a40000d165c5d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John and Stephen,<br>
The problem with leverage is due to the fact that there are some shares not sold by the end of the day. Look at Log after running backtest.<br>
Stephen doesn&#39;t see it because he starts his test from 1/1/2016 and there is not enough volume to trade yet. But if you start from original date -- not enough liquidity in to fill orders by the end of the day (at least by default Quantopian model). OK, some small modifications in here.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5926962281f653000db5f141' id='5926962281f653000db5f141'>
<a href='#5926962281f653000db5f141'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495701027000' class='quanto-date posted-at response-posted-at' href='#5926962281f653000db5f141'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Added just simple money management to the strategy. Kind of Martingale where each next day wager is increased/decreased inversely proportional to previous day performance. While overall dramatic performance degrades, some important statistics improves a lot: check beta and draw down. Also, source could be used by someone to play with leverage numbers.  Also, check that with &quot;wager&quot; numbers presented leverage never reaches 1. So, there is place for improvements there.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59269f290db2120010710427' id='59269f290db2120010710427'>
<a href='#59269f290db2120010710427'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1495703337000' class='quanto-date posted-at response-posted-at' href='#59269f290db2120010710427'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Same as above but &quot;self learning&quot; about how many sequential up/down days and somewhat adjusting wager based on that sequence. As you can see almost twice the return of previous, but almost the same statistics due to increased average leverage compared to above  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5926f440a3041a000daf1734' id='5926f440a3041a000daf1734'>
<a href='#5926f440a3041a000daf1734'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1495725120000' class='quanto-date posted-at response-posted-at' href='#5926f440a3041a000daf1734'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Igor, your changes look good; scaling the position based on confidence level makes sense.</p>

<p>I&#39;m still trying to understand how the &#39;bones&#39; of this strategy work and make sure it&#39;s operating as intended.  I downloaded the Quandl files again this morning an hour after market open: the VX1 data still ends at 5/17 and the VX2 data ends at 5/23.  At this point in time they should have data including 5/24.  As a result the last_ratio value isn&#39;t being calculated correctly, affecting cases 1 and 3.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59273d0aad814d00108b9c26' id='59273d0aad814d00108b9c26'>
<a href='#59273d0aad814d00108b9c26'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1495743754000' class='quanto-date posted-at response-posted-at' href='#59273d0aad814d00108b9c26'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So if you created this in your excel spreadsheet you would need the first minute data from SPYG to calculate MACD signal?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5928292f5da0b000106d2f8e' id='5928292f5da0b000106d2f8e'>
<a href='#5928292f5da0b000106d2f8e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57c76145b40b1b645000022e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0564f8ae248673d194ce8c0c7a2a5759?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57c76145b40b1b645000022e'>Eyal Netanel</a>
</div>
<a UTCms='1495804207000' class='quanto-date posted-at response-posted-at' href='#5928292f5da0b000106d2f8e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi All, There&#39;s something I didn&#39;t fully understand - and it is the use of Quandl vs Pipeline.<br>
About a week ago Macro Investor voted for Quandl due to pipeline mistrust - but i&#39;m not sure i understand the thick of the issue here, especially since so many other times in this thread, people have complained about Quandl irregular updates...<br>
So can anyone score this debate for me?<br>
Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59282dfea3041a0010af29dc' id='59282dfea3041a0010af29dc'>
<a href='#59282dfea3041a0010af29dc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e5965dbe442b38c26b79f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25a286b9ad9658b5a926d67879940810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e5965dbe442b38c26b79f1'>Jacob</a>
</div>
<a UTCms='1495805438000' class='quanto-date posted-at response-posted-at' href='#59282dfea3041a0010af29dc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Eyal,</p>

<p>So I am on the side of Pipeline.   However, I think I can argue Macro&#39;s point.</p>

<p>1) its not Quandl vs Pipeline.  Macro only trusts straight from the Source CBOE, he has mentioned several times he only pulls directly from CBOE in his Java version.  I get his point, any data agitator just adds noise to the system.  However, I will get a bit philosophical, and say the data source that has the most eyes on it is actually what you want to use.  Aka there is no objective truth, only an agreed upon truth :)</p>

<p>2) The pipeline version throws a strange panda&#39;s error on one particular date.  I have spent hours trying to track it down, I think its a Quantopian/Data issue.</p>

<p>3) I have compared the program stock selection between the two programs and pipeline made one more bet on UXVY that the fetch version didn&#39;t.  There is some data difference, but I never took the time to figure it out.  Find my posts on here and you can further investigate.  Again I think there is probably one data point difference between the two. </p>

<p>4) I say this with all due respect.  Spreadsheet guys, will be spreadsheet guys.  They don&#39;t trust it unless they can see all the data &quot;right there&quot;.  I have spent years as a Java/SQL developer supporting quants.  They always have to double check in a spreadsheet.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592b953fac2bbe0010713ec8' id='592b953fac2bbe0010713ec8'>
<a href='#592b953fac2bbe0010713ec8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1496028479000' class='quanto-date posted-at response-posted-at' href='#592b953fac2bbe0010713ec8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi guys, I tinkered a bit to make this algo dependend on the CBOE data and use the shift method of SimonTornington (<a href="https://www.quantopian.com/posts/how-to-get-vix-slash-vxv-slash-vxmt-slash-vxst-slash-vvix-into-algos-with-history">https://www.quantopian.com/posts/how-to-get-vix-slash-vxv-slash-vxmt-slash-vxst-slash-vvix-into-algos-with-history</a>) to allign the data and use the data source of @HonverLam to get the most recent VX1/VX2. </p>

<p>The results and DD are limited by my wager parms :</p>

<pre><code>context.wager_min = 0.333  
context.wager_max = 0.666  
context.wager = 0.333  
</code></pre>

<p>It should be live tradeable now  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592bb467eb7388000d6c47ac' id='592bb467eb7388000d6c47ac'>
<a href='#592bb467eb7388000d6c47ac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1496036455000' class='quanto-date posted-at response-posted-at' href='#592bb467eb7388000d6c47ac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It&#39;s looking great Peter.  But I&#39;m curious: what would have made live trading previous versions impossible or inadvisable?  Did the DD cause too much concern?  Or was it a need to get VIX data directly from CBOE rather than Quandl?  If so, does the Quandl data have an identifiable defect or is it simply less trustworthy since it&#39;s one step removed from the CBOE source?  I did notice last week that sometimes the VX1 and VX2 files from Quandl were missing the most recent 1-3 days of data.  I&#39;m not sure how much of an impact that would have in live trading.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592bb85848ae04000deece89' id='592bb85848ae04000deece89'>
<a href='#592bb85848ae04000deece89'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1496037464000' class='quanto-date posted-at response-posted-at' href='#592bb85848ae04000deece89'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The main issue I had is with the Quandl data (it is sometimes delayed) and the way the fetcher was shifted, the method I use is more reliable in the live context. Secondly I cannot trade 31% DD algo&#39;s as they will likely overshoot that DD and probably cuase me an ulcer. Normally I try to go below 10% (my mental DD limit) but as long as I can trade sopmething like this in a casino mindset I dont mind.</p>

<p>Once we can can combine Future data and Equity trading (Q is working on that) we can improve this algo by taking the future data directly so we can create intraday signals (Fetcher is executed before nor during  before_trading_starts() )</p>

<p>I trade a lot of different models and this model is very different from the other ones so thats why I like it.... although I still dislike all the hardcoded thresholds: I prefer dynamic levels. On the other hand we should always realise that Vola is not a stock and volatility will my definition never become zero and will always mean revert, the mean is however in flux and is determined by  factors outside of this model.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592ce806a0219a0010dd6a2a' id='592ce806a0219a0010dd6a2a'>
<a href='#592ce806a0219a0010dd6a2a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1496115206000' class='quanto-date posted-at response-posted-at' href='#592ce806a0219a0010dd6a2a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I backtested the model in Excel from 7/17/2006 to 9/30/2011. Most of the signals don&#39;t work. The 3 signals that work are</p>

<p>1) Low vix<br>
2) R test<br>
3) VIX/VXV test</p>

<p>Basically cases 0-4.</p>

<p>With these 3 signals, the average annual return for the algorithm is 82%, while the average annual return for XIV in the same period is -10%, UVXY is -60%, and TQQQ is 1%.</p>

<p>So this is a phenomenal result. Note that I couldn&#39;t get open prices for XIV and UVXY, so incorporating that the results will improve.</p>

<p>When I remove all but these 3 conditions from the current model, the returns drop to 275% per year. This is from Excel. It&#39;s a fabulously good return in my view. however, I can&#39;t replicate it in Quantopian. Anyone wants to give a shot?</p>

<p>The resulting model invests too much in TQQQ, and it needs to go in cash sometimes. I am working on that.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592cfb32e02b12000dc34418' id='592cfb32e02b12000dc34418'>
<a href='#592cfb32e02b12000dc34418'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/538a21779789ff8635000248'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d5672faa66a0b5cb6d3d20d979a8a96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/538a21779789ff8635000248'>Macro Investor</a>
</div>
<a UTCms='1496120114000' class='quanto-date posted-at response-posted-at' href='#592cfb32e02b12000dc34418'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Does anyone have a good source for VXV that goes back to 2002? Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592d8abb155994001089ea45' id='592d8abb155994001089ea45'>
<a href='#592d8abb155994001089ea45'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/582a0cc727b25200130006b9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5d71c88a40fbad6131d1f4ed533d3c94?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/582a0cc727b25200130006b9'>Larz Allurch</a>
</div>
<a UTCms='1496156859000' class='quanto-date posted-at response-posted-at' href='#592d8abb155994001089ea45'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Peter,</p>

<p>Thanks for making this tradable.  I noticed the noku URL is an AWS instance.  Is this something you&#39;re manually updating?</p>

<p>2017-05-30 07:45 unpack_from_data:351 WARN Unable to unpack historical v2 data.<br>
2017-05-30 07:45 unpack_from_data:351 WARN Unable to unpack historical v1 data.<br>
1969-12-31 17:00 WARN :306: FutureWarning: sort(columns=....) is deprecated, use sort_values(by=.....)<br>
1969-12-31 17:00 WARN :315: FutureWarning: sort(columns=....) is deprecated, use sort_values(by=.....)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592d935b155994000d89ea85' id='592d935b155994000d89ea85'>
<a href='#592d935b155994000d89ea85'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1496159067000' class='quanto-date posted-at response-posted-at' href='#592d935b155994000d89ea85'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Larz,<br>
See <a href="https://www.quantopian.com/posts/how-to-get-vix-slash-vxv-slash-vxmt-slash-vxst-slash-vvix-into-algos-with-history">the thread</a> Peter referenced.  Eventually Quantopian will have futures data available in algos and the noku file won&#39;t be needed.</p>

<p>I haven&#39;t seen that unpack error but did note the deprecated code warning.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592f96c04507f32088050990' id='592f96c04507f32088050990'>
<a href='#592f96c04507f32088050990'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1496291008000' class='quanto-date posted-at response-posted-at' href='#592f96c04507f32088050990'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I fixed the deprication but the unpack is because of lack of data, no problem for this algo really  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='593939db9b5ced0010b0bd99' id='593939db9b5ced0010b0bd99'>
<a href='#593939db9b5ced0010b0bd99'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55aa9305d1205377d60005fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/67051c10afe3a3ce95545ea90f5252a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55aa9305d1205377d60005fd'>Terry Odell</a>
</div>
<a UTCms='1496922587000' class='quanto-date posted-at response-posted-at' href='#593939db9b5ced0010b0bd99'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can someone explain why VIX is not an SID on Quantopian?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5939672a99e5b6210a766bb5' id='5939672a99e5b6210a766bb5'>
<a href='#5939672a99e5b6210a766bb5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1496934186000' class='quanto-date posted-at response-posted-at' href='#5939672a99e5b6210a766bb5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Terry,</p>

<p>It&#39;s because it is not tradable. It&#39;s merely a number that&#39;s calculated many times a day. This is also why there are no ETF/ETN products that directly track the VIX, because it&#39;s impossible to &quot;put money into it&quot;.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5939ea46a0bab70010c09800' id='5939ea46a0bab70010c09800'>
<a href='#5939ea46a0bab70010c09800'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55aa9305d1205377d60005fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/67051c10afe3a3ce95545ea90f5252a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55aa9305d1205377d60005fd'>Terry Odell</a>
</div>
<a UTCms='1496967750000' class='quanto-date posted-at response-posted-at' href='#5939ea46a0bab70010c09800'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John,</p>

<p>You can not trade it but it is invaluable for trade decisions. Quantopian should provide the data. I would also like to see the vvix.</p>

<p>Thanks again everyone for sharing!!!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='593a8982a0bab70010c0a097' id='593a8982a0bab70010c0a097'>
<a href='#593a8982a0bab70010c0a097'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55aa9305d1205377d60005fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/67051c10afe3a3ce95545ea90f5252a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55aa9305d1205377d60005fd'>Terry Odell</a>
</div>
<a UTCms='1497008514000' class='quanto-date posted-at response-posted-at' href='#593a8982a0bab70010c0a097'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have been exploring ways to add dynamic thresholds. In particular, threshold_vix_too_low = 10.76. Does a moving average of vix make sense. When vix falls below the sma it is considered &quot;too_low&quot;?</p>

<p>Is there a way to catch the bottom when vix falls below the sma?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='593aba0b9ef4a9000db155cc' id='593aba0b9ef4a9000db155cc'>
<a href='#593aba0b9ef4a9000db155cc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1497020939000' class='quanto-date posted-at response-posted-at' href='#593aba0b9ef4a9000db155cc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Terry,</p>

<p>I&#39;m guessing your comment is in reference to the fact that the recent record-low VIX (even today, at its lowest spot price since 1993) has really been screwing with that part of the algorithm.</p>

<p>I would advocate for either completely getting rid of this threshold (easy way out), or making a moving &quot;too low VIX&quot; as you said. The formula (just spitballing here) would be sort of like this:</p>

<p>Define a &quot;vix_floor&quot;, a low value which we are confident VIX could NEVER realistically reach. Probably somewhere around 5-7. </p>

<p>Subtract vix_floor from an moving average of VIX (EMA or SMA, I don&#39;t care), then multiply that difference by a fraction (0.2? 0.4? Would need testing) and add that product to the spot VIX. And boom, there&#39;s your new &quot;too low VIX&quot; threshold.</p>

<p>vix_too_low_threshold = ((vix_moving_average - vix_floor) * scaling_factor) + last_vix  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='593aca11668900000dfa9750' id='593aca11668900000dfa9750'>
<a href='#593aca11668900000dfa9750'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1497025041000' class='quanto-date posted-at response-posted-at' href='#593aca11668900000dfa9750'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s what I did for case 0: added an additional condition to make sure the VIX close divided by the VIX 200SMA is below a threshold.  I&#39;m using a threshold of 0.79.</p>

<pre><code># Old case 0 test  
if last_vix &lt; threshold_vix_too_low: # if VIX is too low, invest in UVXY with the hope of a spike  
        case = 0  
        target_sid = context.uvxy

# New case 0 test  
if last_vix &lt; threshold_vix_too_low and last_vix_200ma_ratio &lt; threshold_vix_200ma_ratio_low :   # if VIX is too low, invest in UVXY with the hope of a spike  
        case = 0  
        target_sid = context.uvxy  
</code></pre>

<p>My derived version of the algo, using 0.6 leverage, is attached. Notice that it only uses case 0 occasionally even though VIX is hanging around below threshold_vix_too_low (10.76).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='594979812bf86900102170a0' id='594979812bf86900102170a0'>
<a href='#594979812bf86900102170a0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5948a58d41ff750010a1083c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8c32d01a4f28f8ab42323774eb53dd8f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5948a58d41ff750010a1083c'>zheng kang</a>
</div>
<a UTCms='1497987457000' class='quanto-date posted-at response-posted-at' href='#594979812bf86900102170a0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Stephen and Peter,</p>

<p>I have done several backtests with your algos. One thing I noticed is the trading time.<br>
When I change the rebalance time at 5 min, 15min or 30min after market open, the results change a lot.<br>
I wonder how were the numbers chosen in your algos? And why trade_xiv is half an hour later thn rebalance?</p>

<p>Thank you for your excellent work!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5949b72ff2e3e3546ff63cf8' id='5949b72ff2e3e3546ff63cf8'>
<a href='#5949b72ff2e3e3546ff63cf8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1498003247000' class='quanto-date posted-at response-posted-at' href='#5949b72ff2e3e3546ff63cf8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I noticed that sensitivity to the trade time too.  It worries me a bit, but on the other hand I think there are some trading patterns around market open and close.  So seeing different returns from trading at market open plus 5 minutes vs. 15 or 30 minutes is not unexpected or a great cause for concern.   And when the backtests are over long periods of time that difference is magnified, especially with an algorithm that has high returns.</p>

<p>Entering XIV later than UVXY or TQQQ was an enhancement someone came up with; I&#39;d have to dig through this thread and some other related ones to figure out who originated it.  But it seems to work by capitalizing on the common XIV trading patterns around market open.</p>

<p>My slightly altered version of Macro Trader&#39;s algorithm trades UVXY and TQQQ at market open plus 5 minutes.  XIV is traded at market open plus 45 minutes.  I&#39;m also using the case 0 modification I mentioned earlier.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5950f801c35eab000d8fe155' id='5950f801c35eab000d8fe155'>
<a href='#5950f801c35eab000d8fe155'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56e8d3e2dc90e14e5e000302'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b68e8b2735ba656d1153016a8b10761d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56e8d3e2dc90e14e5e000302'>Eugene Chen</a>
</div>
<a UTCms='1498478593000' class='quanto-date posted-at response-posted-at' href='#5950f801c35eab000d8fe155'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Stephen,</p>

<p>How did you come up with 0.79 as the threshold for the vix being too low (case 0)?  I assume it was a curve fit optimization you did using the 2011-present time period?</p>

<p>Thanks,<br>
Eugene  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='595164200d69cd000de2f274' id='595164200d69cd000de2f274'>
<a href='#595164200d69cd000de2f274'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1498506272000' class='quanto-date posted-at response-posted-at' href='#595164200d69cd000de2f274'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I basically eyeballed it and then did some backtesting to find a value that seemed to work.  So yes, a simple curve fit optimization.  However, using price relative to its 200 SMA is a technique that has been successful in other situations. And it makes me feel more confident to use a price ratio rather than simply a price.</p>

<p>Note that the VIX hanging out below 11, as it frequently has during the last couple months, is unprecedented during the last 15+ years.  So it&#39;s not like there is a lot of data to test the mod with.  Macro Investor wrote the original algo before this low vol environment started and his case 0 (VIX &lt; 10.76) worked well because the VIX rarely dipped that low.  But the last couple months have seen the VIX bounce around below that threshold for multiple days.  My case 0 mod appears to be working in this new environment, staying in XIV most of the time and going to UVXY only when the VIX makes sharp moves down (which typically lead to mean reverting up moves).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59517694be034c000d170a95' id='59517694be034c000d170a95'>
<a href='#59517694be034c000d170a95'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57feb6056a6efd7c8c000345'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9e50aeabdf1fbd937dc767f11637f732?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57feb6056a6efd7c8c000345'>Trevor Pedersen</a>
</div>
<a UTCms='1498510996000' class='quanto-date posted-at response-posted-at' href='#59517694be034c000d170a95'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think adding in some more indicators to the VIX like RSI, ultimate oscilator, volatility (slow), volatility (fast), Williams%R, etc.. could be useful. I haven&#39;t really been able to figure out how to implement any of them through the CSV files yet.</p>

<p>Would anyone know a convenient way to implement any of the above indicators for the VIX? If not I&#39;ll try to figure out a way to calculate them manually.</p>

<p>Also, does anyone else think we should starts a new thread? This thread is starting to get massively long and it lags my browser quite a bit.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59519cb7c56c0100100a4c67' id='59519cb7c56c0100100a4c67'>
<a href='#59519cb7c56c0100100a4c67'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55aa9305d1205377d60005fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/67051c10afe3a3ce95545ea90f5252a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55aa9305d1205377d60005fd'>Terry Odell</a>
</div>
<a UTCms='1498520759000' class='quanto-date posted-at response-posted-at' href='#59519cb7c56c0100100a4c67'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Trevor, I do not think any of the standard indicators would be helpful. What we do need desperately is Quantopian to add a VIX symbol so we can get intraday signals.  Every other automated trading site has it. COME ON QUANTOPIAN, PLEASE GIVE US THE JUICE!!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5951ba3cefb52a000d424fb6' id='5951ba3cefb52a000d424fb6'>
<a href='#5951ba3cefb52a000d424fb6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5859712cebcb4400150000e2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0480104cda1def7cef8c89953430bfe8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5859712cebcb4400150000e2'>Kevin Patterson</a>
</div>
<a UTCms='1498528316000' class='quanto-date posted-at response-posted-at' href='#5951ba3cefb52a000d424fb6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I apologize if this is a tad off-topic, but is this XIV / VXX drift behavior that unique? Has anyone found similar indexes+futures that are as subject to contango/backwardization?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5956bd4401e1c1000d78f095' id='5956bd4401e1c1000d78f095'>
<a href='#5956bd4401e1c1000d78f095'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/582a0cc727b25200130006b9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5d71c88a40fbad6131d1f4ed533d3c94?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/582a0cc727b25200130006b9'>Larz Allurch</a>
</div>
<a UTCms='1498856772000' class='quanto-date posted-at response-posted-at' href='#5956bd4401e1c1000d78f095'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have been live trading one of the latest versions of this algorithm for several months and it doesnt seem realistic to implement if it doesnt adjust to current market conditions, which cannot be done using Robinhood because of day trade restrictions.  A 24% increase of UVXY (yesterday) would be something to take advantage of and there are many other examples.  Even when the algo buys the correct ETF and there are 4-6% swings it doesnt adjust and rides it down to a loss.  In summary, it would be better suited for IB account adjusting to live trading vs 5 or 45 min after market open.  I understand the long-term argument but watching the ups and down a lot of money has been left on the table.  Let me know if anyone disagrees with my logic.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5956d32626a128000d4680d3' id='5956d32626a128000d4680d3'>
<a href='#5956d32626a128000d4680d3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1498862374000' class='quanto-date posted-at response-posted-at' href='#5956d32626a128000d4680d3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Larz,<br>
Could you please elaborate on what Robonhood day trade restrictions you are talking about.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5957ab83303445001056dd67' id='5957ab83303445001056dd67'>
<a href='#5957ab83303445001056dd67'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55aa9305d1205377d60005fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/67051c10afe3a3ce95545ea90f5252a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55aa9305d1205377d60005fd'>Terry Odell</a>
</div>
<a UTCms='1498917763000' class='quanto-date posted-at response-posted-at' href='#5957ab83303445001056dd67'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I agree with Larz. I have read somewhere on this thread that there are Java versions of this algo. To maximize its potential it needs to be run with real time volatility data. Does anyone want to sell it?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5957b8ebd27029000d5a23b5' id='5957b8ebd27029000d5a23b5'>
<a href='#5957b8ebd27029000d5a23b5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58b4f798ebd945000a31e648'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6b4a8987c841618b6c4d59f43e77abd2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58b4f798ebd945000a31e648'>Frank Gibbs</a>
</div>
<a UTCms='1498921195000' class='quanto-date posted-at response-posted-at' href='#5957b8ebd27029000d5a23b5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ive been working on a java version against IB. I was also of the mind that real-time volatility data would be interesting. The design includes a memory model that maintains all the ratios. As pricing data arrives for VIX, FRONT CONTRACT, BACK CONTRACT, etc the ratios are recalculated in real-time. I dont have handle on how many intra day trade signals would be generated given the current thresholds; especially if a ratio is oscillating around a particular threshold. I havent reverse engineered all 12 cases so perhaps this wont be an issue.</p>

<p>Initially I was thinking I could get intraday VIX futures prices data (5 MIN or 15 MIN  etc..) from IBs historic data farm. It seems that IB only has historic futures data for active futures contracts. Given that Im not sure how Id back test this approach with a significant date range. Im considering purchasing intraday VIX futures contract data.</p>

<p>Very open to suggestions and or discussing design approach.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5958e60bfeb93a000ddc59af' id='5958e60bfeb93a000ddc59af'>
<a href='#5958e60bfeb93a000ddc59af'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55aa9305d1205377d60005fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/67051c10afe3a3ce95545ea90f5252a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55aa9305d1205377d60005fd'>Terry Odell</a>
</div>
<a UTCms='1498998283000' class='quanto-date posted-at response-posted-at' href='#5958e60bfeb93a000ddc59af'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I stumbled upon IBridgePy  <a href="http://www.ibridgepy.com/introduction/">http://www.ibridgepy.com/introduction/</a>. It looks like a solution to full access to VOL data directly from IB. Has anyone used it?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59599e4cf2d4de675fcecf9b' id='59599e4cf2d4de675fcecf9b'>
<a href='#59599e4cf2d4de675fcecf9b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1499045452000' class='quanto-date posted-at response-posted-at' href='#59599e4cf2d4de675fcecf9b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Terry,<br>
nice find!<br>
I am putting that link in my Maybe folder.<br>
I currently am comfortable enough with Q and Robinhood, so not currently interested.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='595b295471a6de00109dea34' id='595b295471a6de00109dea34'>
<a href='#595b295471a6de00109dea34'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1499146580000' class='quanto-date posted-at response-posted-at' href='#595b295471a6de00109dea34'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Frank Gibbs  wrote &quot;It seems that IB only has historic futures data for active futures contracts&quot;<br>
Wrong, at least I&#39;m getting all VX futures pricing back at least 900 days...using IB API. Just have CFE  data subscription and set includeExpired in contract description.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59604b6a3d100a000dd1329b' id='59604b6a3d100a000dd1329b'>
<a href='#59604b6a3d100a000dd1329b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55aa9305d1205377d60005fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/67051c10afe3a3ce95545ea90f5252a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55aa9305d1205377d60005fd'>Terry Odell</a>
</div>
<a UTCms='1499482986000' class='quanto-date posted-at response-posted-at' href='#59604b6a3d100a000dd1329b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a little info on the Vix strategy. I finally got the nerve to fire it up on a live IB account. It started on 7-3 and picked XIV which lost some money. It rode XIV down until this morning when it sold XIV and placed an order for UVXY (I believe it was 520 shares). The order was rejected (which was fine with today&#39;s drop in Vol). I do not have the exact wording but it referred to only being able to trade in an IRA. This did not make sense because  it is a traditional IRA account. Does anyone know why it was rejected? I have not contacted IB yet about the rejection.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59736f19e30b81001018bef3' id='59736f19e30b81001018bef3'>
<a href='#59736f19e30b81001018bef3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ea6cd492f878000dcdbb0e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/997cdf93d3dc9c9bcaadd0af72342c91?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ea6cd492f878000dcdbb0e'>Jens De Pelsmaeker</a>
</div>
<a UTCms='1500737305000' class='quanto-date posted-at response-posted-at' href='#59736f19e30b81001018bef3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey,</p>

<p>Just found these in the freely available datasets:<br>
<a href="https://www.quantopian.com/data/quandl/cboe_vix">https://www.quantopian.com/data/quandl/cboe_vix</a><br>
<a href="https://www.quantopian.com/data/quandl/cboe_vxv">https://www.quantopian.com/data/quandl/cboe_vxv</a></p>

<p>What is the reason this wasn&#39;t used instead of the &#39;fetch_csv&#39; from CBOE? Or is this only available now?</p>

<p>Cheers,<br>
Jens  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5978f85600390d77662cda8f' id='5978f85600390d77662cda8f'>
<a href='#5978f85600390d77662cda8f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ecfecc6753e97d62172e1e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7e4169e64bcab57c806d529217e5d2e0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ecfecc6753e97d62172e1e'>Maxmillion McLaughlin</a>
</div>
<a UTCms='1501100118000' class='quanto-date posted-at response-posted-at' href='#5978f85600390d77662cda8f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jens Oh wow that&#39;s a new dataset. I&#39;ll spend some time tonight  modifying the algo to use that.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='599ad88c411e4d000da8659c' id='599ad88c411e4d000da8659c'>
<a href='#599ad88c411e4d000da8659c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57b1e440c6273b764800005e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/abd9a377e12bb57960ce3a41a01d55d0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57b1e440c6273b764800005e'>Kangrui Lim</a>
</div>
<a UTCms='1503320204000' class='quanto-date posted-at response-posted-at' href='#599ad88c411e4d000da8659c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I do believe that our algos are suffering severly from look ahead bias. If you change your     last_vix = data.current(&#39;v&#39;, &#39;VIX Close &#39;) to     last_vix = data.current(&#39;v&#39;, &#39;VIX Open&#39;) and likewise for other vix datapoints to opening prices, the algo breaks down.  Please correct me if I&#39;m mistaken.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='599ad94f13cb8a0010c6e756' id='599ad94f13cb8a0010c6e756'>
<a href='#599ad94f13cb8a0010c6e756'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57b1e440c6273b764800005e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/abd9a377e12bb57960ce3a41a01d55d0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57b1e440c6273b764800005e'>Kangrui Lim</a>
</div>
<a UTCms='1503320399000' class='quanto-date posted-at response-posted-at' href='#599ad94f13cb8a0010c6e756'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You can do the same for other algos here and our ever winning returns suddenly vanish. Refer to line 78 to 81 for the changes from &#39;close&#39; to &#39;open&#39;.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='599adebb3103e2000d7bfa00' id='599adebb3103e2000d7bfa00'>
<a href='#599adebb3103e2000d7bfa00'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1503321787000' class='quanto-date posted-at response-posted-at' href='#599adebb3103e2000d7bfa00'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That is logical as these dataset are fetcher datasets. which mean that it is retrieved in the night and is not live. If you look at the open you look ast the open of yesterday as the data is forward filled  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a437e5ffa586684fe69e66' id='59a437e5ffa586684fe69e66'>
<a href='#59a437e5ffa586684fe69e66'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1503934437000' class='quanto-date posted-at response-posted-at' href='#59a437e5ffa586684fe69e66'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I created a notebook that analyses the VIX, VXV , V1 and V2 data using machine learning and see if there is indeed alpha in those signals.  The inital intent was to replace the set of if-then-else by something machine learned with efficient parameters.  However, I could only conclude that the signals are not efficiently classifiable and little alpha can be extrated.  I have attached my notebook.  Please comments.  I am only hoping that I made a mistake and that algo actually works.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a44453769267000d31e176' id='59a44453769267000d31e176'>
<a href='#59a44453769267000d31e176'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1503937619000' class='quanto-date posted-at response-posted-at' href='#59a44453769267000d31e176'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Luc,<br>
I don&#39;t think you&#39;ve made a mistake, but even if you did: conclusion is absolutely right: Over fitted. Another, and simpler prove to this is: any small change to any  threshold, changes past performance dramatically and in absolutely in not linear way.  Also, absolutely no logic in calculation of front/back weights (not including times till expiration) makes  this algo logically incorrect. So, my conclusion: current settings corresponds to local min on over fitted model  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a45686c626f90010500aa0' id='59a45686c626f90010500aa0'>
<a href='#59a45686c626f90010500aa0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1503942278000' class='quanto-date posted-at response-posted-at' href='#59a45686c626f90010500aa0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Luc,</p>

<p>Thanks for doing this analysis. I also did some quick analysis in Excel a while back and, while it wasn&#39;t nearly as thorough as yours, I came to the same conclusion. There was simply nothing I could find that supported any kind of correlation.</p>

<p>However, I still have faith. I have a personal version of this algorithm that uses a points-based system to determine whether to long or short (rather than a cascade of if/else statements), and the outlook is great so far. It&#39;s more fair and it eliminates at least one big source of overfitting. To me, this is a superior way of handling the data.</p>

<p>and Igor,</p>

<p>I&#39;m not sure if you took part in the conversation, but if you look back a few months, I have some versions of the algorithm that take into account the time until expiration. It marginally improved results, but later I noticed it actually didn&#39;t have much of an effect at all besides noise. For now, I prefer to just use the raw futures prices for simplicity of calculation.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a45923084e5f000ddafc7c' id='59a45923084e5f000ddafc7c'>
<a href='#59a45923084e5f000ddafc7c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1503942947000' class='quanto-date posted-at response-posted-at' href='#59a45923084e5f000ddafc7c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John,<br>
Yes, I remember yours version. Again, proves the point: the more rational logic involved, the worse the performance =&gt; Overfit  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a45a74307fd76a1b888696' id='59a45a74307fd76a1b888696'>
<a href='#59a45a74307fd76a1b888696'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58836321da8572201a119795'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1020c44bb3ebd2ffc3767d65eb69e2a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58836321da8572201a119795'>John O&#39;Leary</a>
</div>
<a UTCms='1503943284000' class='quanto-date posted-at response-posted-at' href='#59a45a74307fd76a1b888696'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>To be fair, I haven&#39;t brought back in the last_ratio balancing into my newest algorithm. Might need to work on that.</p>

<p>Speaking naively faithful here, I&#39;d say the reason the weighting/balancing only introduced noise was because last_ratio only had so much of an effect on the algorithm, on so many days. And most days, the change to last_ratio was marginal anyway. Without back-calculated XIV/UVXY values, our sample size of days is small. No one can argue against that.</p>

<p>In my new version, last_ratio is referenced and taken into account <em>every</em> day. Would be interesting to see if it affects anything.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a461e6c626f92feb4ffb53' id='59a461e6c626f92feb4ffb53'>
<a href='#59a461e6c626f92feb4ffb53'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1503945190000' class='quanto-date posted-at response-posted-at' href='#59a461e6c626f92feb4ffb53'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Luc, great research! Just a few comments, let me know your thoughts...</p>

<p>Your ML implementation for this algo assumes that gains/losses will be proportional to the amount of times the algo correctly chooses an instrument (XIV, UVXY). </p>

<p>The algo monitors for extreme volatility conditions and bets on their continuance through the following day. Typically, this doesnt happen but when it does, its a rather large payday.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a46275084e5f2a14daed62' id='59a46275084e5f2a14daed62'>
<a href='#59a46275084e5f2a14daed62'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573df61937581555f7000207'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d66a91e250a09b5c346ac02a85373099?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573df61937581555f7000207'>Walker W.</a>
</div>
<a UTCms='1503945333000' class='quanto-date posted-at response-posted-at' href='#59a46275084e5f2a14daed62'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John,</p>

<p>Would you be willing to share a little bit on how you structured your points system? I have been playing around with something similar because I personally don&#39;t like the cascading if/else statements. Recently it seems that a few of the later cases should have taken precedence but were ignored because they were further down the waterfall. Are you using the same cases? Do you weight any of them differently? I am just curious.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a4ad20cd58cd0010211346' id='59a4ad20cd58cd0010211346'>
<a href='#59a4ad20cd58cd0010211346'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1503964448000' class='quanto-date posted-at response-posted-at' href='#59a4ad20cd58cd0010211346'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Josh,</p>

<p>I have tried including gain/loss amplitude into the ML. The conclusion is that if you train considering the gains/losses as sample weights, i.e. instructing the learner to put more weight on more significant samples. the ML concludes that one should simply stay in XIV all the time.  </p>

<p>I have modified the notebook such that we see the associated gain/loss by the size of the sample scatter dots.  The purples are XIV and white are UXVY. You can switch around which features are being used to plot the scatter.</p>

<p>Any other suggestion I can look into? </p>

<p>If you look atthe line where the &quot;fit&quot; method is being called, you can comment out/in the sample_weight parameter and see the difference.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a4afbe6a803b087f7e1030' id='59a4afbe6a803b087f7e1030'>
<a href='#59a4afbe6a803b087f7e1030'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1503965118000' class='quanto-date posted-at response-posted-at' href='#59a4afbe6a803b087f7e1030'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I had designed another notebook that uses google trend tas alpha signal for the DIA or SPY.  This one does show a small signal for alpha and we see that extremes are outiers.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a4ba00a14faa000d429350' id='59a4ba00a14faa000d429350'>
<a href='#59a4ba00a14faa000d429350'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1503967744000' class='quanto-date posted-at response-posted-at' href='#59a4ba00a14faa000d429350'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Algorithm doesn&#39;t take into any consideration methodology of calculating The S&amp;P 500 VIX Short-Term Futures Index described for example here:  <a href="http://www.velocitysharesetns.com/wp-content/uploads/2015/03/methodology-sp-vix-future-index_2015.pdf">http://www.velocitysharesetns.com/wp-content/uploads/2015/03/methodology-sp-vix-future-index_2015.pdf</a>, specifically Contract Re-balancing.<br>
What happens on Expiration day?: Jump in last_ratio? Then,  how could you expect it to work?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a5011691bfdd000db0e9e8' id='59a5011691bfdd000db0e9e8'>
<a href='#59a5011691bfdd000db0e9e8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1503985942000' class='quanto-date posted-at response-posted-at' href='#59a5011691bfdd000db0e9e8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Luc,</p>

<p>I think the problem would be better solved using regression as opposed to classification. Since there is continuity in the price changes, it shouldnt be treated as a binary yes/no. Ive attached a notebook that takes a stab at training a KNN regressor using SPYG percent change. Have a look and feel free to improve upon it. I havent yet played around with adding/removing features. But the preliminary R^2 values are &gt; .5  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a50421b35239000df3cd1d' id='59a50421b35239000df3cd1d'>
<a href='#59a50421b35239000df3cd1d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1503986721000' class='quanto-date posted-at response-posted-at' href='#59a50421b35239000df3cd1d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a more friendly scatter matrix image...<br>
<img src="https://image-proxy.quantopian.com/77a483e02a628691269953a3474a6b6e9568eee2/68747470733a2f2f646c2e64726f70626f7875736572636f6e74656e742e636f6d2f732f3033796c6268766a6b7a376a6136342f736361747465725f6d61747269782e706e67" />  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a57a2f2b87a3075ee6acb8' id='59a57a2f2b87a3075ee6acb8'>
<a href='#59a57a2f2b87a3075ee6acb8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1504016943000' class='quanto-date posted-at response-posted-at' href='#59a57a2f2b87a3075ee6acb8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Josh,</p>

<p>Awesome input.  Will work on it today.</p>

<p>/Luc</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a5849b53e1e7266de81de9' id='59a5849b53e1e7266de81de9'>
<a href='#59a5849b53e1e7266de81de9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ac8a5a53df3811c8157ea3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d4a0fde3781e0d018dc1d7424f57b1a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ac8a5a53df3811c8157ea3'>Igor Tebelev</a>
</div>
<a UTCms='1504019611000' class='quanto-date posted-at response-posted-at' href='#59a5849b53e1e7266de81de9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Josh,<br>
Anyway you can share vix_data_master.csv?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a585f87940a0000d839bf2' id='59a585f87940a0000d839bf2'>
<a href='#59a585f87940a0000d839bf2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1504019960000' class='quanto-date posted-at response-posted-at' href='#59a585f87940a0000d839bf2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vSUlM6JR7EvHaQPeBgdmcgxJylWbcLwNHaLCZjs1RP8cjONJKVY20rCU6fXeSRw-Ve8cr9rDP08_NGD/pub?gid=1825293090&amp;single=true&amp;output=csv">https://docs.google.com/spreadsheets/d/e/2PACX-1vSUlM6JR7EvHaQPeBgdmcgxJylWbcLwNHaLCZjs1RP8cjONJKVY20rCU6fXeSRw-Ve8cr9rDP08_NGD/pub?gid=1825293090&amp;single=true&amp;output=csv</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a588fa0e05b9000fd05b85' id='59a588fa0e05b9000fd05b85'>
<a href='#59a588fa0e05b9000fd05b85'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1504020730000' class='quanto-date posted-at response-posted-at' href='#59a588fa0e05b9000fd05b85'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Quick question Josh: Have you shifted the VIX data by one day to account for the fact that we are using the previous day&#39;s data to predict the current day SPYG?  I did in my notebook at I do not get the same results.I am wondering if I made a mistake.</p>

<p>/Luc</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a59a30b352395b95f3c612' id='59a59a30b352395b95f3c612'>
<a href='#59a59a30b352395b95f3c612'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1504025136000' class='quanto-date posted-at response-posted-at' href='#59a59a30b352395b95f3c612'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Luc, I definitely messed that up. It should be shifted as you mentioned. I will try to spend a little more time developing the notebook later today/tomorrow.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a5f9f35b2059000dfa7d30' id='59a5f9f35b2059000dfa7d30'>
<a href='#59a5f9f35b2059000dfa7d30'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1504049651000' class='quanto-date posted-at response-posted-at' href='#59a5f9f35b2059000dfa7d30'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is my last notebook.  I took your idea of regressing against the SPYG and I also tried again classification against the SPYG.  The regression idea is good, but intuitively, I always thought that trying to guess the direction (classification) is easier than guessing the amplitude.  Anyways, regardless of the model or hyperparams, I cannot have anything that works. ANy ideas I could follow?</p>

<p>For anyone wanting to use the notebook, the data is simply downloaded from quandl.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a6019ccd58cd461a2117fc' id='59a6019ccd58cd461a2117fc'>
<a href='#59a6019ccd58cd461a2117fc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5691a95ea8c19dd39f0004c2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0ba931b013e8e0d488be279d399f6040?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5691a95ea8c19dd39f0004c2'>Soy Alguien</a>
</div>
<a UTCms='1504051612000' class='quanto-date posted-at response-posted-at' href='#59a6019ccd58cd461a2117fc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Luc.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59bdf20e18dbfb001077e850' id='59bdf20e18dbfb001077e850'>
<a href='#59bdf20e18dbfb001077e850'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59bdf01818dbfb000d77e87e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e51f53eca6468c0176289519570be84e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59bdf01818dbfb000d77e87e'>Tony Hwang</a>
</div>
<a UTCms='1505620494000' class='quanto-date posted-at response-posted-at' href='#59bdf20e18dbfb001077e850'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi all, just want to say hi, this is my first post, and most of what is described here is beyond my current understanding! But I enjoy reading it. I&#39;m dabbling in ML, and my thinking from reading (skimming) this thread, is that it&#39;s impossible to predict external events, say North Korea firing a missle causing a spike in VXX/UVXY and a drop in XIV. If you train a system using historical, non-intraday data, it would try and accomodate these, and lose predictive power. Ideally you&#39;d want to train ignoring these events. Does this make senxse? - Tony  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59e9b2b531be8300066bd423' id='59e9b2b531be8300066bd423'>
<a href='#59e9b2b531be8300066bd423'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5985ab45c02015000debad47'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/df8d500834e21eadc92e8b51495f312d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5985ab45c02015000debad47'>Kamal Prasad</a>
</div>
<a UTCms='1508487861000' class='quanto-date posted-at response-posted-at' href='#59e9b2b531be8300066bd423'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>,</p>

<p>I cloned the algorithm above (2nd one) and I am getting this error when running full backtest. Do I need to get some userid from quandl.com to use the link?</p>

<p>thanks<br>
-kamal</p>

<hr>

<p>Something went wrong. Sorry for the inconvenience. Try using the built-in debugger to analyze your code. If you would like help, send us an email.<br>
Exception: Problem reaching <a href="https://www.quandl.com/api/v3/datasets/YAHOO/INDEX_VIX.csv">https://www.quandl.com/api/v3/datasets/YAHOO/INDEX_VIX.csv</a><br>
There was a runtime error on line 31.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59e9e5ed5d944d226817cc0a' id='59e9e5ed5d944d226817cc0a'>
<a href='#59e9e5ed5d944d226817cc0a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1508500973000' class='quanto-date posted-at response-posted-at' href='#59e9e5ed5d944d226817cc0a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Kamal That&#39;s because Quandl no longer provides the Yahoo database that the algo is trying to fetch.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59ea79ce1efe540009dabe2e' id='59ea79ce1efe540009dabe2e'>
<a href='#59ea79ce1efe540009dabe2e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1508538830000' class='quanto-date posted-at response-posted-at' href='#59ea79ce1efe540009dabe2e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I believe the VIX index is available here:<br>
<a href="http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vixcurrent.csv">http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vixcurrent.csv</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59eb635c01d65a00068dcc30' id='59eb635c01d65a00068dcc30'>
<a href='#59eb635c01d65a00068dcc30'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5985ab45c02015000debad47'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/df8d500834e21eadc92e8b51495f312d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5985ab45c02015000debad47'>Kamal Prasad</a>
</div>
<a UTCms='1508598620000' class='quanto-date posted-at response-posted-at' href='#59eb635c01d65a00068dcc30'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I will need some more fixes to get this algorithm working today.</p>

<p>thanks<br>
-kamal  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a7a231538eced0d262a37f0' id='5a7a231538eced0d262a37f0'>
<a href='#5a7a231538eced0d262a37f0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ec141b11962d8dc2000a9a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/dd3e4ddab1dea90d2aea7279bb042f55?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ec141b11962d8dc2000a9a'>josh nielsen</a>
</div>
<a UTCms='1517953813000' class='quanto-date posted-at response-posted-at' href='#5a7a231538eced0d262a37f0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So I guess replace XIV with SVXY and let it rip.<br>
<a href="https://www.marketwatch.com/story/credit-suisse-announces-plan-to-liquidate-xiv-inverse-volatility-etn-2018-02-06">https://www.marketwatch.com/story/credit-suisse-announces-plan-to-liquidate-xiv-inverse-volatility-etn-2018-02-06</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a7f6350770b770019d19952' id='5a7f6350770b770019d19952'>
<a href='#5a7f6350770b770019d19952'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e852d15b7c76e2f10008a1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/21fd495851075c3bb8b18d4c1c09b640?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e852d15b7c76e2f10008a1'>Darth Xanther</a>
</div>
<a UTCms='1518297936000' class='quanto-date posted-at response-posted-at' href='#5a7f6350770b770019d19952'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Unfortunately that one will be de-listed as well.  <a href="https://seekingalpha.com/news/3329965-fidelity-bars-purchases-inverse-vix-etf?uprof=45&dr=1#email_link">https://seekingalpha.com/news/3329965-fidelity-bars-purchases-inverse-vix-etf?uprof=45&amp;dr=1#email_link</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a9c40d8e2e61c000ff0487b' id='5a9c40d8e2e61c000ff0487b'>
<a href='#5a9c40d8e2e61c000ff0487b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56d36dd978924957910000c0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/37d666f96ca563bc857a45cb07b7edb5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56d36dd978924957910000c0'>Brandon Ros</a>
</div>
<a UTCms='1520189656000' class='quanto-date posted-at response-posted-at' href='#5a9c40d8e2e61c000ff0487b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is the algorithm updated to use SVXY. I tried ZIV but the returns were not nearly as good.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5da896d4ea44080050a543f3' id='5da896d4ea44080050a543f3'>
<a href='#5da896d4ea44080050a543f3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5da03793aec372003e54af2c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ca23aaec46221692d54e46dc0ab5aeae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5da03793aec372003e54af2c'>Interactive Financial</a>
</div>
<a UTCms='1571329748000' class='quanto-date posted-at response-posted-at' href='#5da896d4ea44080050a543f3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>XIV died.... what happened with this algo?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e9917a94b93b50041561c2e' id='5e9917a94b93b50041561c2e'>
<a href='#5e9917a94b93b50041561c2e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e950b730262d600445fd65e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/398ff654887a941a3da6c83d42484093?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e950b730262d600445fd65e'>Madoc Sherbrook</a>
</div>
<a UTCms='1587091369000' class='quanto-date posted-at response-posted-at' href='#5e9917a94b93b50041561c2e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can you still live trade this???  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e991e134b93b5004a561cf1' id='5e991e134b93b5004a561cf1'>
<a href='#5e991e134b93b5004a561cf1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1587093011000' class='quanto-date posted-at response-posted-at' href='#5e991e134b93b5004a561cf1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>XIV is dead, so no. but ... this is an algo that has been curve fitted so I would not trade it  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ea8169aee07a1003b7afc70' id='5ea8169aee07a1003b7afc70'>
<a href='#5ea8169aee07a1003b7afc70'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5ea7d4ffcf8604004097234c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/adbde3ce5b4596b69d1a22f04ee4b6a2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5ea7d4ffcf8604004097234c'>Sunny Nagam</a>
</div>
<a UTCms='1588074138000' class='quanto-date posted-at response-posted-at' href='#5ea8169aee07a1003b7afc70'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can we get an update? It&#39;s been 2ish years since the original algorithm was talked about here (past a decent iteration).</p>

<p>What have the results turned out being?</p>

<p>Has anyone actually tried going with this, how has your portfolio performed?  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/vix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/vix-trading-algorithm-return-150-percent-a-year-over-past-5-years-but-has-50-percent-drawdown-from-2015-meltdown'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#d6b0b3b3b2b4b7b5bd96a7a3b7b8a2b9a6bfb7b8f8b5b9bb">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
