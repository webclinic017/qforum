<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Why Does TA-Lib Method EMA Have the Same Result as SMA? It looks not right.
</title>
<meta content='Why does the TA-Lib method EMA return the same result as SMA?  It looks not right for EMA. See the following sample code to test EMA and SMA suing Apple daily price (3/01/2014 to 4/17/2014). All the three MAs have the same result. sma = ta.SMA(timeperiod=10)  ema = ta.EMA(timeperiod=10)  ma = ta.MA (timeperiod=10,matype = 1 )def initialize(context):      context.stock = sid(24) # Apple# Will be called on every trade event for the securities you specify.  def handle_data(context, data):     ...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="G3kpqoeM79bhByNteDMVqsbLPqVFPgvDCOwqj+sIEAVnH1/nJXo9NVgaelw33L3e/kUdzD/yHtiK4/HlQU1yvg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/why-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right' property='og:url'>
<meta content='Why Does TA-Lib Method EMA Have the Same Result as SMA? It looks not right.' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/why-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Why Does TA-Lib Method EMA Have the Same Result as SMA? It looks not right.' property='og:title'>
<meta content='Why does the TA-Lib method EMA return the same result as SMA?  It looks not right for EMA. See the following sample code to test EMA and SMA suing Apple daily price (3/01/2014 to 4/17/2014). All the three MAs have the same result. sma = ta.SMA(timeperiod=10)  ema = ta.EMA(timeperiod=10)  ma = ta.MA (timeperiod=10,matype = 1 )def initialize(context):      context.stock = sid(24) # Apple# Will be called on every trade event for the securities you specify.  def handle_data(context, data):     ...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/why-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5354315cff6bfd254d0000c7'>
<div class='post-container' data-post-id='5354315cff6bfd254d0000c7' id='5354315cff6bfd254d0000c7'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Why Does TA-Lib Method EMA Have the Same Result as SMA? It looks not right.</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/533ad5c5433d2df3b600030a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d45c2ac1dd43e80b9a395fcf6899cd3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/533ad5c5433d2df3b600030a'>Luke Li</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1398026588000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Why Does TA-Lib Method EMA Have the Same Result as SMA? It looks not right.&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fwhy-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right%3Futm_source%3Dwebsite_share%26utm_campaign%3Dwhy-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fwhy-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right%3Futm_source%3Dwebsite_share%26utm_campaign%3Dwhy-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right%26utm_medium%3Dlinkedin&amp;title=Why+Does+TA-Lib+Method+EMA+Have+the+Same+Result+as+SMA%3F+It+looks+not+right.+%28Luke+Li%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/why-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right?utm_source=website_share&amp;utm_campaign=why-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Luke Li" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Why does the TA-Lib method EMA return the same result as SMA?  It looks not right for EMA. See the following sample code to test EMA and SMA suing Apple daily price (3/01/2014 to 4/17/2014). All the three MAs have the same result. </p>

<pre><code>sma = ta.SMA(timeperiod=10)  
ema = ta.EMA(timeperiod=10)  
ma = ta.MA (timeperiod=10,matype = 1 )

def initialize(context):  
    context.stock = sid(24) # Apple

# Will be called on every trade event for the securities you specify.  
def handle_data(context, data):  
    stock = context.stock  
    ema_data = ema(data)  
    sma_data = sma(data)  
    ma_data = ma(data)  
    price = data[stock].price  
    curr_sma = sma_data[stock]  
    curr_ema = ema_data[stock]  
    curr_ma = ma_data[stock]

    log.info(&quot;price: &quot; + str(price) +&quot;  sma: &quot; + str(curr_sma) + &quot;  ema: &quot; + str(curr_ema) + &quot;  ma: &quot; + str(curr_ma) )  
    return  
</code></pre>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>20 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='535435061deb33b0190000f6' id='535435061deb33b0190000f6'>
<a href='#535435061deb33b0190000f6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/533ad5c5433d2df3b600030a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d45c2ac1dd43e80b9a395fcf6899cd3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/533ad5c5433d2df3b600030a'>Luke Li</a>
</div>
<a UTCms='1398027528000' class='quanto-date posted-at response-posted-at' href='#535435061deb33b0190000f6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Below is the output for the test code:</p>

<pre><code>014-03-03handle_data:24INFOprice: 527.75  sma: nan  ema: nan  ma: nan  
2014-03-04handle_data:24INFOprice: 531.24  sma: nan  ema: nan  ma: nan  
2014-03-05handle_data:24INFOprice: 532.36  sma: nan  ema: nan  ma: nan  
2014-03-06handle_data:24INFOprice: 530.82  sma: nan  ema: nan  ma: nan  
2014-03-07handle_data:24INFOprice: 530.43  sma: nan  ema: nan  ma: nan  
2014-03-10handle_data:24INFOprice: 530.92  sma: nan  ema: nan  ma: nan  
2014-03-11handle_data:24INFOprice: 536.1099  sma: nan  ema: nan  ma: nan  
2014-03-12handle_data:24INFOprice: 536.6  sma: nan  ema: nan  ma: nan  
2014-03-13handle_data:24INFOprice: 530.68  sma: nan  ema: nan  ma: nan  
2014-03-14handle_data:24INFOprice: 524.66  sma: 531.15699  ema: 531.15699  ma: 531.15699  
2014-03-17handle_data:24INFOprice: 526.54  sma: 531.03599  ema: 531.03599  ma: 531.03599  
2014-03-18handle_data:24INFOprice: 531.365  sma: 531.04849  ema: 531.04849  ma: 531.04849  
2014-03-19handle_data:24INFOprice: 531.26  sma: 530.93849  ema: 530.93849  ma: 530.93849  
2014-03-20handle_data:24INFOprice: 528.76  sma: 530.73249  ema: 530.73249  ma: 530.73249  
2014-03-21handle_data:24INFOprice: 531.63  sma: 530.85249  ema: 530.85249  ma: 530.85249  
2014-03-24handle_data:24INFOprice: 539.15  sma: 531.67549  ema: 531.67549  ma: 531.67549  
2014-03-25handle_data:24INFOprice: 545.0  sma: 532.5645  ema: 532.5645  ma: 532.5645  
2014-03-26handle_data:24INFOprice: 539.78  sma: 532.8825  ema: 532.8825  ma: 532.8825  
2014-03-27handle_data:24INFOprice: 537.425  sma: 533.557  ema: 533.557  ma: 533.557  
2014-03-28handle_data:24INFOprice: 536.86  sma: 534.777  ema: 534.777  ma: 534.777  
2014-03-31handle_data:24INFOprice: 536.74  sma: 535.797  ema: 535.797  ma: 535.797  
2014-04-01handle_data:24INFOprice: 541.74  sma: 536.8345  ema: 536.8345  ma: 536.8345  
2014-04-02handle_data:24INFOprice: 542.55  sma: 537.9635  ema: 537.9635  ma: 537.9635  
2014-04-03handle_data:24INFOprice: 538.825  sma: 538.97  ema: 538.97  ma: 538.97  
2014-04-04handle_data:24INFOprice: 531.83  sma: 538.99  ema: 538.99  ma: 538.99  
2014-04-07handle_data:24INFOprice: 523.548  sma: 537.4298  ema: 537.4298  ma: 537.4298  
2014-04-08handle_data:24INFOprice: 523.43  sma: 535.2728  ema: 535.2728  ma: 535.2728  
2014-04-09handle_data:24INFOprice: 530.31  sma: 534.3258  ema: 534.3258  ma: 534.3258  
2014-04-10handle_data:24INFOprice: 523.48  sma: 532.9313  ema: 532.9313  ma: 532.9313  
2014-04-11handle_data:24INFOprice: 519.64  sma: 531.2093  ema: 531.2093  ma: 531.2093  
2014-04-14handle_data:24INFOprice: 521.68  sma: 529.7033  ema: 529.7033  ma: 529.7033  
2014-04-15handle_data:24INFOprice: 517.9  sma: 527.3193  ema: 527.3193  ma: 527.3193  
2014-04-16handle_data:24INFOprice: 518.95  sma: 524.9593  ema: 524.9593  ma: 524.9593  
2014-04-17handle_data:24INFOprice: 524.99  sma: 523.5758  ema: 523.5758  ma: 523.5758  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5354e0a41deb33b019000218' id='5354e0a41deb33b019000218'>
<a href='#5354e0a41deb33b019000218'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1398071462000' class='quanto-date posted-at response-posted-at' href='#5354e0a41deb33b019000218'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>fyi a couple days ago i reported a bug to quantopian , that&#39;s perhaps related.    <strong>data[sid].mavg(7)</strong> gives the same result as <strong>data[sid].mavg(30)</strong></p>

<p>no reply from quantopian yet, but i submitted the bug report friday night  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5354e80aff6bfd254d00021b' id='5354e80aff6bfd254d00021b'>
<a href='#5354e80aff6bfd254d00021b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5305277263a9ab6bba000064'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9cfcb1ac63112707a37147a49bb33ece?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5305277263a9ab6bba000064'>SÃ©bastien Drouyer</a>
</div>
<a UTCms='1398073357000' class='quanto-date posted-at response-posted-at' href='#5354e80aff6bfd254d00021b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Indeed, I did noticed this error few months ago. It is not related to quantopian, but ta-lib (the c underlying library). I tried to contact them, but got no response.</p>

<p>See the issue I raised on the python ta-lib wrapper :<br>
<a href="https://github.com/mrjbq7/ta-lib/issues/52">https://github.com/mrjbq7/ta-lib/issues/52</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5354ec64619fcb5da9000232' id='5354ec64619fcb5da9000232'>
<a href='#5354ec64619fcb5da9000232'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1398074469000' class='quanto-date posted-at response-posted-at' href='#5354ec64619fcb5da9000232'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>fyi the mitigation to this bug is to compute the values manually, though you either need to use the history / batch transforms, or store the prices manually in an array.  (and use numpy)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5355107b23ff57eecd000010' id='5355107b23ff57eecd000010'>
<a href='#5355107b23ff57eecd000010'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/534d3f366de23bfe6c000004'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8c28c855eab0dcf2addd99bde466fc6e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/534d3f366de23bfe6c000004'>Brandon Goyette</a>
</div>
<a UTCms='1398083709000' class='quanto-date posted-at response-posted-at' href='#5355107b23ff57eecd000010'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Makes you concerned that if averages are wrong how much other underlying match is wrong.  I&#39;d hate to figure out some logic is incorrect as it takes a live portfolio and drives the equity to $0  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5355740cb8b77f71a3000121' id='5355740cb8b77f71a3000121'>
<a href='#5355740cb8b77f71a3000121'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/509be10d196e0e0200000003'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c37b418826347ea4216b068fa97649e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/509be10d196e0e0200000003'>Brent Groya</a>
</div>
<a UTCms='1398109198000' class='quanto-date posted-at response-posted-at' href='#5355740cb8b77f71a3000121'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I use the dotnet version of TA-LIB and the values are different.  </p>

<p>The example on github may not be the best example. It looks like the both the SMA and EMA on a linear series will converge to the same values. So a short MA period will converge fast and the values will be the same. I used a longer period (30) on a longer data series and the moving average values for SMA and EMA differ initially then converge to the same value.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5355b016746f39f1bd0001c4' id='5355b016746f39f1bd0001c4'>
<a href='#5355b016746f39f1bd0001c4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/533ad5c5433d2df3b600030a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d45c2ac1dd43e80b9a395fcf6899cd3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/533ad5c5433d2df3b600030a'>Luke Li</a>
</div>
<a UTCms='1398124568000' class='quanto-date posted-at response-posted-at' href='#5355b016746f39f1bd0001c4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>For the Python TA-Lib wrapper 0.4.8, the SMA and EMA are different (see below). I am wondering how Quantopain integrates TA-Lib into this platform. My big concern is how can we sure that all other TA indicators based EMA, i.e. MACD, have the CORRECT values.  </p>

<pre><code> SMA = [       nan        nan        nan        nan        nan        nan  
        nan        nan        nan  531.15699  531.03599  531.04849  
  530.93849  530.73249  530.85249  531.67549  532.5645   532.8825   533.557  
  534.777    535.797    536.8345   537.9635   538.97     538.99     537.4298  
  535.2728   534.3258   532.9313   531.2093   529.7033   527.3193   524.9593  
  523.5758 ]

EMA = [          nan           nan           nan           nan           nan  
           nan           nan           nan           nan  531.15699  
  530.31753727  530.50798504  530.64471503  530.30203957  530.54348692  
  532.10830748  534.45225158  535.42093311  535.78530891  535.98070729  
  536.11876051  537.14080405  538.12429422  538.25169527  537.08411432  
  534.62300262  532.58791124  532.17374556  530.59306455  528.60159827  
  527.34312585  525.62619388  524.41234045  524.51736946]  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5355be9cc6aae8dc060001d7' id='5355be9cc6aae8dc060001d7'>
<a href='#5355be9cc6aae8dc060001d7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1398128286000' class='quanto-date posted-at response-posted-at' href='#5355be9cc6aae8dc060001d7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>perhaps you should manually compute everything.</p>

<p>fyi i updated my framework&#39;s StandardTechnicalIndicators to manually compute.  you may consider doing something similar:  <a href="https://www.quantopian.com/posts/a-r-and-d-framework-for-quantopian">https://www.quantopian.com/posts/a-r-and-d-framework-for-quantopian</a></p>

<p><strong><em>also if one of the quantopian people read this,</em></strong>  I&#39;m pretty sure the <strong>data[sid].mavg()</strong> function worked properly a couple months ago.  so perhaps there&#39;s an older version of the codebase you could revert to.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53563b22b8b77f71a30002f9' id='53563b22b8b77f71a30002f9'>
<a href='#53563b22b8b77f71a30002f9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1398160164000' class='quanto-date posted-at response-posted-at' href='#53563b22b8b77f71a30002f9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Luke/Jason,</p>

<p>I&#39;m not so sure you should be so sceptical about TA-Lib (the library). It&#39;s very widely used and something as basic as a miscalculation of EMA would have been found years ago since ta_EMA.c dates from 2000 or earlier. The library is used by many commercial platforms - sometimes publicised as such and sometimes not - including Dukascopy&#39;s Forex platforms.</p>

<p>Here is a test in IPython:</p>

<pre><code>import datetime  
import numpy as np  
import pandas as pd  
import pandas.io.data  
import talib

aapl = pd.io.data.get_data_yahoo(&#39;AAPL&#39;,start=datetime.datetime(2006, 10, 1), end  =datetime.datetime(2006, 12, 31))  
print talib.SMA(np.array(aapl[&#39;Close&#39;]), 50)  
print talib.EMA(np.array(aapl[&#39;Close&#39;]), 50)  
</code></pre>

<p>The output is:</p>

<pre><code>[     nan      nan      nan      nan      nan      nan      nan      nan
      nan      nan      nan      nan      nan      nan      nan      nan  
      nan      nan      nan      nan      nan      nan      nan      nan  
      nan      nan      nan      nan      nan      nan      nan      nan  
      nan      nan      nan      nan      nan      nan      nan      nan  
      nan      nan      nan      nan      nan      nan      nan      nan  
      nan  82.332   82.5576  82.857   83.1204  83.3782  83.6032  83.8368  
  84.0558  84.2492  84.388   84.5178  84.6402  84.7718  84.978 ]

[         nan          nan          nan          nan          nan
          nan          nan          nan          nan          nan  
          nan          nan          nan          nan          nan  
          nan          nan          nan          nan          nan  
          nan          nan          nan          nan          nan  
          nan          nan          nan          nan          nan  
          nan          nan          nan          nan          nan  
          nan          nan          nan          nan          nan  
          nan          nan          nan          nan          nan  
          nan          nan          nan          nan  82.332       82.48133333  
  82.7389281   82.96681328  83.15321276  83.24406716  83.36429982  
  83.41903316  83.39867892  83.3516719   83.27944947  83.21045145  
  83.11866904  83.18617222]  
</code></pre>

<p>Another thought occurs to me specific - and uncommon - to the Quantopian implementation of TA-Lib (the library) in that it is implemented to avoid the &#39;memory effect&#39; of indicators like EMA (see <a href="http://ta-lib.org/d_api/ta_setunstableperiod.html">http://ta-lib.org/d_api/ta_setunstableperiod.html</a>). I don&#39;t know enough about this but it feels like this may be involved somehow.</p>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='535642dbc6aae8dc06000312' id='535642dbc6aae8dc06000312'>
<a href='#535642dbc6aae8dc06000312'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1398162141000' class='quanto-date posted-at response-posted-at' href='#535642dbc6aae8dc06000312'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Luke,</p>

<p>These are the results from IPython with the same data as your test i.e. Apple daily price (3/01/2014 to 4/17/2014):</p>

<pre><code>aapl = pd.io.data.get_data_yahoo(&#39;AAPL&#39;,start=datetime.datetime(2014, 03, 1), end  =datetime.datetime(2014, 04, 17)  
</code></pre>

<p>SMA<br>
[     nan      nan      nan      nan      nan      nan      nan      nan
      nan  531.151  531.049  531.065  530.955  530.75   530.993  531.82<br>
  532.71   533.027  533.708  534.925  535.925  536.95   538.079  539.088<br>
  538.983  537.411  535.256  534.31   532.912  531.187  529.681  527.312<br>
  524.958  523.573]</p>

<p>EMA<br>
[          nan           nan           nan           nan           nan
           nan           nan           nan           nan  531.151       530.349<br>
  530.54009091  530.67098347  530.31262284  530.77760051  532.30712769<br>
  534.61310447  535.55254002  535.89935093  536.07401439  536.19510269<br>
  537.1869022   538.16201089  538.27619073  537.10233787  534.62373098<br>
  532.59032535  532.17753892  530.59616821  528.59868308  527.3407407<br>
  525.63515148  524.43057849  524.52320058]</p>

<p>I&#39;m concluding that there is no issue with the EMA calculations in TA-Lib (the library) or introduced by talib (the wrapper). I&#39;m going to go a little further and say that the re-writing of TA-Lib (the library) functions is entirely wasted effort - unless of course someone is going to do ALL of them in which case I look forward to seeing the final results in several years time. Here is such an ongoing (stalled since 2012?) effort: <a href="https://code.google.com/p/ultra-finance/wiki/pyTaLib">https://code.google.com/p/ultra-finance/wiki/pyTaLib</a></p>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53564546b8b77fa5630002c1' id='53564546b8b77fa5630002c1'>
<a href='#53564546b8b77fa5630002c1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1398162759000' class='quanto-date posted-at response-posted-at' href='#53564546b8b77fa5630002c1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>OK, i did an experiment and I see that for my issue, it&#39;s me misunderstanding the data[sid].mavg() function.   it gives results for DAYS, not frames.    so on day 1 all mavg values will be the same.</p>

<p>this also may be the same thing with ta lib...   it gives mavg for days and not minutes?</p>

<p>here is my experiment:  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='535645f4746f39c5330002cc' id='535645f4746f39c5330002cc'>
<a href='#535645f4746f39c5330002cc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1398162934000' class='quanto-date posted-at response-posted-at' href='#535645f4746f39c5330002cc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>actually for the talib, you&#39;ll have the same results on timestep 0 and 1 anyway, because you only have 1 sample to average  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='535655af746f39c5330002de' id='535655af746f39c5330002de'>
<a href='#535655af746f39c5330002de'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1398166961000' class='quanto-date posted-at response-posted-at' href='#535655af746f39c5330002de'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Jason,</p>

<p>TA-Lib can be imported and applied to &#39;history&#39; data (see attached). I can&#39;t recall the status of the mavg() method - is this &#39;warmed up&#39; in live but not backtesting?</p>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5356b1ccc23ebefbe90000e3' id='5356b1ccc23ebefbe90000e3'>
<a href='#5356b1ccc23ebefbe90000e3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/533ad5c5433d2df3b600030a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d45c2ac1dd43e80b9a395fcf6899cd3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/533ad5c5433d2df3b600030a'>Luke Li</a>
</div>
<a UTCms='1398190541000' class='quanto-date posted-at response-posted-at' href='#5356b1ccc23ebefbe90000e3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Peter, </p>

<p>Thanks for your input. I totally agree with you about the reputation of the TA-Lib.  If you read my original post and follow-up replies, you will find out that I am not sceptical about TA-Lib itself. I am questioning about the Quantopain&#39;s implementation of the TA-Lib. The test result presented in the begin of this post clearly showed that the Quantopain&#39;s TA-lib EMA is not right. Since the EMA and SMA have the exactly same values, I don&#39;t think that undesired EMA result is caused by the  &#39;memory effect&#39; or the the 34-day fixed window length approach. </p>

<p>Because so many posts concern about the discrepancy of the some indicators, i.e. RSI, MACD,   from other systems, and all the explanations of the discrepancies on this website are due to the &#39;memory effect&#39; or the 34-day fixed window length algorithm implementation. This inspire me to check what the 34-day fixed window length algorithm of EMA  is and see how it effects other indicators derived from EMA. It was really surprise for me when I saw the Quantopain&#39;s TA-Lib implementation of SAM and EMA have the exact same result. I wish Quantopain can tell me why and help me to eliminate my doubt about other Indicators which are based on the EMA.</p>

<p>BTW, regarding the 34-day fixed window length algorithm for EMA, since there are so many ways to implement. For the clarification purpose,  could the people from Quantopain explain us what is  the exactly 34-day fixed window length algorithm of EMA you used in Quantopain system? </p>

<p>Thanks,  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5357fa35e544fd719d000016' id='5357fa35e544fd719d000016'>
<a href='#5357fa35e544fd719d000016'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51c391f34e36fe1ef60000e6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/de7be83429bd3ce068e32a9f8541a6af?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51c391f34e36fe1ef60000e6'>Colin Alexander</a>
</div>
<a UTCms='1398274615000' class='quanto-date posted-at response-posted-at' href='#5357fa35e544fd719d000016'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I noticed this issue a while ago when I first read the Common Usage: Using TA-Lib section of the Quantopian Overview.</p>

<p><strong>Bottom line:</strong>  Don&#39;t use history windows to generate exponential moving average calculations (e.g. EMA, MACD, etc)</p>

<p><a href="https://www.quantopian.com/help#ide-history"><strong>Common Usage: Using TA-Lib</strong></a>
Since history returns a pandas DataFrame, a Series can be extracted and then passed to TA-Lib.</p>

<p>An example EMA calculation:</p>

<pre><code># Python TA-Lib wrapper  
# https://github.com/mrjbq7/ta-lib  
import talib

def initialize(context):  
    context.my_sid = sid(24)

def handle_data(context, data):  
    price_history = history(bar_count=30, frequency=&#39;1d&#39;, field=&#39;price&#39;)  
    my_sid_series = price_history[context.my_sid]  
    ema_result = talib.EMA(my_sid_series)  
    record(ema=ema_result[-1])  
</code></pre>

<p>All exponential moving averages have permanent &#39;memory&#39;.  In order to calculate a 60 day EMA, for example, I only need the value of the current observations (e.g. closing price), the most recent EMA value (which contains the memory of all past values with exponentially decaying weights), and the decay factor alpha (e.g. 1 / 60 in this example). Although EMA values tend to converge over time (how quickly depends on the alpha parameter), users will obtain different EMA values depending on when they started their observations.  Today&#39;s observation of the 60-day EMA for SPY will be different if I use one year of SPY history for one example and two year&#39;s of history for the other.</p>

<p>The history implementation above, however, will have a subtle drift.  When the EMA figure is calculated in TA-Lib, you will get NA until you have enough observations (e.g. 60 data points in a 60 day EMA).  On the 60th day, TA-Lib gives you the simple average of these data points for the EMA.  This value is used to &#39;seed&#39; the EMA calculation for all values subsequently returned.  Note that the 60-day EMA and simple MA (SMA) will be identical on this initial data point of the 60th observation.</p>

<p>HOWEVER, If one were to use a 60-day history window to generate both the EMA and the SMA in the example above, then the values will be identical throughout the testing window.  This is because you are losing the memory properties of the EMA by using a sliding history window and just using the most recent values (which in the extreme simply gives you the simple moving average).</p>

<p>Hope this helps to clarify.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5479adcb174f32a67f0002ac' id='5479adcb174f32a67f0002ac'>
<a href='#5479adcb174f32a67f0002ac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52275dddb7f9fce9c6000260'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ce3e7802c882fca3f9160768f57ae116?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52275dddb7f9fce9c6000260'>Mete Atamel</a>
</div>
<a UTCms='1417260493000' class='quanto-date posted-at response-posted-at' href='#5479adcb174f32a67f0002ac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I still don&#39;t understand why SMA and EMA values below are identical, even when you run the algorithm for a backtesting window of 3 years. Surely that can&#39;t be right, no?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5479e923174f324d5e000333' id='5479e923174f324d5e000333'>
<a href='#5479e923174f324d5e000333'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4ec777fc345f20000e000008'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d1c340e13d187142fc34a5cff3a5eed5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4ec777fc345f20000e000008'>James Jack</a>
</div>
<a UTCms='1417275686000' class='quanto-date posted-at response-posted-at' href='#5479e923174f324d5e000333'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Mete,</p>

<p>An EMA of window 30 requires more than 30 days of data to be any different from an SMA.</p>

<p>EDIT: It seems if you don&#39;t specify &#39;timeperiod&#39;  then the default window for SMA and EMA is 30, so the algo in the help doc &quot;example EMA calculation&quot; is the same as an SMA because the history() function is being called with only 30 days.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5479f63e9176f5da50000b01' id='5479f63e9176f5da50000b01'>
<a href='#5479f63e9176f5da50000b01'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52275dddb7f9fce9c6000260'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ce3e7802c882fca3f9160768f57ae116?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52275dddb7f9fce9c6000260'>Mete Atamel</a>
</div>
<a UTCms='1417279041000' class='quanto-date posted-at response-posted-at' href='#5479f63e9176f5da50000b01'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi James, thanks for the nice example, SMA and EMA difference is clear now. I think the example EMA calculation in the help docs is quite misleading, as it&#39;s simply an SMA example, rather than EMA example. They should have used a different bar_count or a different window size for it to make sense as an EMA example.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5479f71a938b5ce21b000af3' id='5479f71a938b5ce21b000af3'>
<a href='#5479f71a938b5ce21b000af3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4ec777fc345f20000e000008'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d1c340e13d187142fc34a5cff3a5eed5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4ec777fc345f20000e000008'>James Jack</a>
</div>
<a UTCms='1417279260000' class='quanto-date posted-at response-posted-at' href='#5479f71a938b5ce21b000af3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Agreed - I&#39;ve emailed them about it  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54de65ea905bbff7ce00007e' id='54de65ea905bbff7ce00007e'>
<a href='#54de65ea905bbff7ce00007e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54dd6c929c0a14bd4400025c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/32e8e03124a29e8be8daa51289447deb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54dd6c929c0a14bd4400025c'>tiago tiago</a>
</div>
<a UTCms='1423861229000' class='quanto-date posted-at response-posted-at' href='#54de65ea905bbff7ce00007e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It&#39;s not a bug from TA-Lib. I&#39;m using TA-Lib with C# and I was experiencing same symptons. Checking the internet I was thinking it was a problem about the setunstableperiod method. But now I&#39;ve got it. I made a mistake about ordering the data. I was putting the newest on the first position but to works correctly you need to get the oldest as the first one. </p>

<p>List rates = (from Rate r in context.Rates<br>
                                where r.Security.Symbol == setup.Symbol &amp;&amp;<br>
                                      r.Timeframe == setup.Timeframe<br>
                                orderby r.DateTime <strong>ascending</strong><br>
                                select r).ToList();</p>

<p>it as descending  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/why-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/why-does-ta-lib-method-ema-have-the-same-result-as-sma-it-looks-not-right'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#4c2a2929282e2d2f270c3d392d2238233c252d22622f2321">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
