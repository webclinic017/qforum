<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
How to Get an Allocation: Writing an Algorithm for the Quantopian Investment Management Team
</title>
<meta content='An updated version of this post is now  here . This post was discussed in a webinar.  You can see the full webinar on  YouTube . Updated on 01/19/2017 to fix a bug with the  not_near_earnings_announcement  filter. The following notebook and backtest walk through the research and implementation of a market neutral strategy that trades a large, dynamically selected universe of stocks. Of course, not all market-neutral strategies will get an allocation. This notebook demonstrates the research...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="MOhUkTw+95l59XJW+sF2zt4MixtK3b+ufj7QI3Bq3iBMjiLcnsglesDoK2e1Lt665oKocjARqrX8MQtJ2i+8mw==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/how-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team' property='og:url'>
<meta content='How to Get an Allocation: Writing an Algorithm for the Quantopian Investment Management Team' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/how-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='How to Get an Allocation: Writing an Algorithm for the Quantopian Investment Management Team' property='og:title'>
<meta content='An updated version of this post is now  here . This post was discussed in a webinar.  You can see the full webinar on  YouTube . Updated on 01/19/2017 to fix a bug with the  not_near_earnings_announcement  filter. The following notebook and backtest walk through the research and implementation of a market neutral strategy that trades a large, dynamically selected universe of stocks. Of course, not all market-neutral strategies will get an allocation. This notebook demonstrates the research...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/how-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5873d586ffcd22000ac70d77'>
<div class='post-container' data-post-id='5873d586ffcd22000ac70d77' id='5873d586ffcd22000ac70d77'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>How to Get an Allocation: Writing an Algorithm for the Quantopian Investment Management Team</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55eefc2af269c592d80008a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8985b490c95e135c2bbcd7d1a0dce16b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55eefc2af269c592d80008a9'>Jamie McCorriston</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1528475684000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=How to Get an Allocation: Writing an Algorithm for the Quantopian Investment Management Team&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fhow-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team%3Futm_source%3Dwebsite_share%26utm_campaign%3Dhow-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fhow-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team%3Futm_source%3Dwebsite_share%26utm_campaign%3Dhow-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team%26utm_medium%3Dlinkedin&amp;title=How+to+Get+an+Allocation%3A+Writing+an+Algorithm+for+the+Quantopian+Investment+Management+Team+%28Jamie+McCorriston%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Using Data' data-tag-id='55c50e7d8d4710ec6e000008' href='/posts/tag/Using-Data/newest'>Using Data</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Market Neutral' data-tag-id='55d33f6e3f6ba10061000002' href='/posts/tag/Market-Neutral/newest'>Market Neutral</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Pipeline' data-tag-id='561525bcf252a59171000001' href='/posts/tag/Pipeline/newest'>Pipeline</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/how-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team?utm_source=website_share&amp;utm_campaign=how-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Jamie McCorriston" />
<div class='body-text'>
<div class='body-text-container post-body'><p><strong>An updated version of this post is now <a href="https://www.quantopian.com/posts/using-alternative-data-researching-and-implementing-a-market-neutral-strategy">here</a>. This post was discussed in a webinar.  You can see the full webinar on <a href="https://youtu.be/bvUdDFpsZ3o">YouTube</a>.</strong></p>

<hr>

<p><strong>Updated on 01/19/2017 to fix a bug with the <code>not_near_earnings_announcement</code> filter.</strong></p>

<p>The following notebook and backtest walk through the research and implementation of a market neutral strategy that trades a large, dynamically selected universe of stocks. Of course, not all market-neutral strategies will get an allocation. This notebook demonstrates the research and development of an algorithm meeting many of the criteria used by our investment management team during the allocation process.</p>

<p>The project uses the following tools:</p>

<ol>
<li><a href="http://blaze.pydata.org/">Blaze</a>, to study and interact with partner data.<br></li>
<li><a href="https://www.quantopian.com/tutorials/pipeline">Pipeline</a>, to dynamically select stocks to trade each day.<br></li>
<li><a href="https://www.quantopian.com/posts/alphalens-a-new-tool-for-analyzing-alpha-factors">Alphalens</a>, to analyze the predictive ability of an alpha factor.<br></li>
<li>The <a href="https://www.quantopian.com/algorithms">Interactive Development Environment (IDE)</a>, to backtest the strategy.<br></li>
<li><a href="https://www.quantopian.com/posts/new-feature-comprehensive-backtest-analysis">Pyfolio</a> to understand the performance and risk analysis of the backtest.</li>
</ol>

<p>This specific example also uses the <a href="https://www.quantopian.com/data/sentdex/sentiment">Sentdex Sentiment Analysis</a>, <a href="https://www.quantopian.com/data/eventvestor/earnings_calendar">EventVestor Earnings Calendar</a>, and <a href="https://www.quantopian.com/data/eventvestor/mergers_and_acquisitions">EventVestor Mergers &amp; Acquisitions</a> datasets.</p>

<p>The end result of this project was a long-short strategy with the following attributes preferred by the Quantopian Investment Management Team:<br>
- Large, dynamic universe.<br>
- <a href="https://www.quantopian.com/lectures#Long-Short-Equity">Equal long/short exposure</a>.<br>
- Only trades stocks in the <a href="https://www.quantopian.com/posts/the-q500us-and-q1500us">Q1500US</a>.<br>
- <a href="https://www.quantopian.com/lectures#Position-Concentration-Risk">Low position concentration</a>.<br>
- <a href="https://www.quantopian.com/lectures#Beta-Hedging">Beta is 0</a>.<br>
- Low volatility.<br>
- Daily turnover.</p>

<p>Clone the notebook, investigate other <a href="https://www.quantopian.com/data">datasets</a>, and make your own market neutral strategy with the above criteria.</p>
</div>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>50 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5873ed6909207b220904298d' id='5873ed6909207b220904298d'>
<a href='#5873ed6909207b220904298d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55eefc2af269c592d80008a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8985b490c95e135c2bbcd7d1a0dce16b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55eefc2af269c592d80008a9'>Jamie McCorriston</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1483992425000' class='quanto-date posted-at response-posted-at' href='#5873ed6909207b220904298d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>Updated on 01/19/2016 to fix a bug with the <code>not_near_earnings_announcement</code> filter.</strong></p>

<p>Here is the backtest.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5878cd14be4ba565e9b78080' id='5878cd14be4ba565e9b78080'>
<a href='#5878cd14be4ba565e9b78080'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5681c6d6df850a2632000401'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/00a3940c5b6f7dc635a6012e8c6c9e01?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5681c6d6df850a2632000401'>Christian Laner</a>
</div>
<a UTCms='1484311828000' class='quanto-date posted-at response-posted-at' href='#5878cd14be4ba565e9b78080'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I joined the webinar, it was very useful!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='587a6964ea51504155348b2f' id='587a6964ea51504155348b2f'>
<a href='#587a6964ea51504155348b2f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/539133a0ca9962c7a9000124'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/40fd36f74ef482a61e96f7be42763d65?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/539133a0ca9962c7a9000124'>Charles Pich√©</a>
</div>
<a UTCms='1484417380000' class='quanto-date posted-at response-posted-at' href='#587a6964ea51504155348b2f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the webinar, it answered a few questions I had about Alphalens.</p>

<p>What is missing now is the ability to backtest algos that are trading daily with &gt; 100 long/short positions over longer periods. I&#39;m hitting memory limit pretty fast (and &gt;4Gb in my browser) with an interesting alpha factor I&#39;m trying to test from 2004 to now. Running a tearsheet on them in research is also out of the question...</p>

<p>But all in all, this workflow is really promising! How about using output variables from alphalens to feed into the optimization API?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588121e77034c36f98a70a14' id='588121e77034c36f98a70a14'>
<a href='#588121e77034c36f98a70a14'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52be0a3790036d1fb800008e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/07c8485beb9e50c71df4a690b2e9906f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52be0a3790036d1fb800008e'>David Manz</a>
</div>
<a UTCms='1484857831000' class='quanto-date posted-at response-posted-at' href='#588121e77034c36f98a70a14'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the webinar--it was very informative.  I have a few comments:</p>

<p>I believe you have a bug in your not_near_earnings_announcement filter.  The &amp; should be a |.</p>

<p>Jess mentioned that the max drawdown on the strategy was quite low, but so was the annual return.  Shouldn&#39;t the max drawdown be evaluated relative to the annual return as well as the total capital?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58812a8d5989dd2db016316a' id='58812a8d5989dd2db016316a'>
<a href='#58812a8d5989dd2db016316a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55eefc2af269c592d80008a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8985b490c95e135c2bbcd7d1a0dce16b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55eefc2af269c592d80008a9'>Jamie McCorriston</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1484860045000' class='quanto-date posted-at response-posted-at' href='#58812a8d5989dd2db016316a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi David,</p>

<p>Nice catch. That should indeed be an <code>|</code> in the not_near_earnings_announcement filter. I&#39;ll fix the notebook and backtest, thanks.</p>

<p>Regarding max drawdown, it&#39;s certainly sensible to evaluate max drawdown relative to annual return. In fact, the <a href="http://www.investopedia.com/terms/c/calmarratio.asp">Calmar ratio</a> included in the Pyfolio table of metrics does just that.</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5882437c4fd27e1a157f2896' id='5882437c4fd27e1a157f2896'>
<a href='#5882437c4fd27e1a157f2896'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5552ad3f07123e200b00048e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/744a04046021fb83534df1d307751110?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5552ad3f07123e200b00048e'>Harrison Kinsley</a>
</div>
<a UTCms='1484931964000' class='quanto-date posted-at response-posted-at' href='#5882437c4fd27e1a157f2896'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jamie<br>
The Sentdex signals are actually generated already via moving average crossovers on the raw sentiment data, so further smoothing of the data is only lagging the signals more, which is probably a decent starting point for the such short forward predictive power. I would personally not smooth the signal at all, just go purely off of .latest. The initial Apple data is going to be very noisy, Apple was highly volatile initially, and the starting data will definitely be a mess because there aren&#39;t enough prior datapoints to properly compute those MAs that will be accounting for the crossovers. Yes, it&#39;s noisy, but, later, one of the main complaints against the data was that we weren&#39;t actually turning over and changing baskets frequently enough. This is why. </p>

<p>Through making the simple .latest change to the sentiment signal, I ended up facing a new error, so I am not sure on performance changes at the moment, will work on it. </p>

<p>For example, let&#39;s instead look at BAC (a much less-volatile sentiment company, but still high volume), and choose a time frame that is slightly after right when we start collecting data:</p>

<pre><code>date_mask = sentiment.asof_date.isin(  
    get_trading_days(pd.Timestamp(&#39;2014-06-01&#39;), pd.Timestamp(&#39;2014-12-01&#39;))  
</code></pre>

<p>Then run the rest the same. I am currently unable to share since there&#39;re updates being made to sharing, but here&#39;s an image of a completely un-smoothed BAC signal:<br>
<a href="https://i.gyazo.com/08898047f0705d1ab1510a581934f21e.png">https://i.gyazo.com/08898047f0705d1ab1510a581934f21e.png</a></p>

<p>Much smoother, and <em>most</em> companies are going to be more like this.</p>

<p>To put things in perspective, AAPL was the #1 most &quot;sentimented&quot; company for a very long time. Things have slowed down in the last year or two for them, but they were #1 and very volatile at the time, especially back in 2013. </p>

<p>@Vladimir<br>
My takeaway from the webcast was not that this specific strategy&#39;s performance is what will get you capital. Instead, it was that it&#39;s the level of research and confirmation into the strategy&#39;s thesis that&#39;s required. If anything, it appears they invalidated that specific strategy that solely used sentiment signals as being valid, and it was via alphalens that you&#39;re able to see <em>why</em> and <em>where</em> things went wrong.</p>

<p>edit: updated what happens when modifying to .latest rather than smoothing.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58824f62fee476000d7e9cbe' id='58824f62fee476000d7e9cbe'>
<a href='#58824f62fee476000d7e9cbe'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1484935010000' class='quanto-date posted-at response-posted-at' href='#58824f62fee476000d7e9cbe'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Harrison,</p>

<p>What is the look back period on the MA you use to generate the signal?</p>

<p>Edit: Also, is there a reason for the scale of -3 to 6?</p>

<p>Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588258c1963e0e41773772d3' id='588258c1963e0e41773772d3'>
<a href='#588258c1963e0e41773772d3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5552ad3f07123e200b00048e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/744a04046021fb83534df1d307751110?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5552ad3f07123e200b00048e'>Harrison Kinsley</a>
</div>
<a UTCms='1484937409000' class='quanto-date posted-at response-posted-at' href='#588258c1963e0e41773772d3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Frank</p>

<p><strong>Look back period</strong><br>
The MAs are not time-based, they are sentiment-update-based. The following moving averages are used to generate sentiment:<br>
100, 250, 500, and 5,000. These are applied to the raw sentiment values that come in from reading text. </p>

<p>Depending on how many sentiment updates a company gets, the 5000MA might account for the last 6 months, or it could account for the last week. I chose this as the most reasonable since, if there isn&#39;t much sentiment/reports on the company, then sentiment as a signal also reasonably wouldn&#39;t be changing much. </p>

<p><strong>The Scale</strong><br>
As for the scale of -3 to 6, it is important to note that -3 is just as &quot;negative&quot; as +6 is &quot;positive.&quot; </p>

<p>I did -3 to +6 because I found the differences between the negative numbers were not as meaningful, but the differences on the positive side were, so I just wanted a bit more granularity on the positive side than the negative side.</p>

<p>This signal was originally just created for my own uses with the Quantopian Fetcher to play with the signal data in a backtest, and I used it with the fetcher in a Quantopian tutorial series. From there, Quantopian suggested it could be added to the data here, so it was added. </p>

<p>Personally, I&#39;d rather the Sentdex data on here actually be the raw sentiment data, resampled daily as a mean with the accompanying sentiment volume resampled daily as sum to match, and then let the users decide what to do with it. The user could go with the sentiment ma crossover with a factor if they wanted...or something else entirely. Would certainly make it a more versatile dataset, as well as not be leaving out volume. </p>

<p>A perfect example with why you want the volume is why we want to avoid earnings announcements...etc. If suddenly volume jumps 4x, your strategy might not even be using the sentiment as predictive, but instead just the volume of sentiment to know some news likely just broke and you want to avoid for now til things calm down.</p>

<p>I think we were just trying to keep it as simple as possible to begin, plus we ran into a billion roadblocks along the way getting things working right. Maybe it&#39;s time we re-look into bringing in the raw values as described above.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58825994963e0e41773772dc' id='58825994963e0e41773772dc'>
<a href='#58825994963e0e41773772dc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1484937620000' class='quanto-date posted-at response-posted-at' href='#58825994963e0e41773772dc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very helpful as always. Thank You Harrison!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58825bca4fd27e1a157f29a3' id='58825bca4fd27e1a157f29a3'>
<a href='#58825bca4fd27e1a157f29a3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55eefc2af269c592d80008a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8985b490c95e135c2bbcd7d1a0dce16b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55eefc2af269c592d80008a9'>Jamie McCorriston</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1484938186000' class='quanto-date posted-at response-posted-at' href='#58825bca4fd27e1a157f29a3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Harrison,</p>

<p>That&#39;s great insight, thank you! As you mentioned, the webinar was meant to be more of a general overview of the workflow that takes advantage of all the tools on Quantopian as well as insight into the types of strategies that we&#39;re looking for. If I&#39;m being honest, I chose the Sentdex dataset because it was a signal-based dataset that I hadn&#39;t yet explored. Knowing what you&#39;ve shared here about the collection process, I probably would have done things differently!  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5882ade1f3a7ec2a6f09f7db' id='5882ade1f3a7ec2a6f09f7db'>
<a href='#5882ade1f3a7ec2a6f09f7db'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5552ad3f07123e200b00048e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/744a04046021fb83534df1d307751110?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5552ad3f07123e200b00048e'>Harrison Kinsley</a>
</div>
<a UTCms='1484959201000' class='quanto-date posted-at response-posted-at' href='#5882ade1f3a7ec2a6f09f7db'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s a notebook that better illustrates how I would first look into the signals.</p>

<p><strong>Main modifications:</strong></p>

<ul>
<li>Removal of SMA being applied to the signal, since the signal is<br>
already the return of SMA data.<br></li>
<li>Illustration of a different company (BAC) for a graph of raw sentiment signals, at a later date, to show both<br>
the general high-volatility of AAPL, but also avoiding the initial<br>
data, which, since it uses MAs to calc the signal, is going to be<br>
very noisy.<br></li>
<li>dates: This runs start_date=&#39;2015-01-01&#39;, end_date=&#39;2016-01-01&#39;. This<br>
a full year that contains a neutral market overall, but also includes<br>
ups and downs that give us some good environments to test in.<br></li>
<li>New backtest attached via PyFolio which works straight off signals<br>
(removing the SMA factor, and then also not working with buckets<br>
since we can&#39;t currently organize those right).</li>
</ul>

<p><strong>Further issues:</strong></p>

<ul>
<li>Currently, the quantiles in Quantopian&#39;s Alphalens tear sheet<br>
(.tears.create_factor_tear_sheet) is not lending itself to proper<br>
sorting, and we have an issue where an entire bucket can be filled<br>
and never change rank, since many companies may fall in there.<br>
Alphalens already has a new property for bins which lets you<br>
explicitly define their edges (rather than evenly dividing your<br>
data). This is absolutely necessary to properly test this, since we<br>
do not have an even spread of sentiment signals. That said, with<br>
these dates, we can at least get away with 3 buckets like was<br>
initially shown, but this isn&#39;t quite how you&#39;d trade this, and these<br>
buckets aren&#39;t really fairly divided.<br></li>
</ul>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5882ae10fdaa41000dfceee5' id='5882ae10fdaa41000dfceee5'>
<a href='#5882ae10fdaa41000dfceee5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5552ad3f07123e200b00048e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/744a04046021fb83534df1d307751110?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5552ad3f07123e200b00048e'>Harrison Kinsley</a>
</div>
<a UTCms='1484959248000' class='quanto-date posted-at response-posted-at' href='#5882ae10fdaa41000dfceee5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And the backtest that uses a strategy that more represents how one might want to use Sentdex. See above post for breakdown of changes.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5882d069da8572000d119988' id='5882d069da8572000d119988'>
<a href='#5882d069da8572000d119988'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5552ad3f07123e200b00048e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/744a04046021fb83534df1d307751110?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5552ad3f07123e200b00048e'>Harrison Kinsley</a>
</div>
<a UTCms='1484968041000' class='quanto-date posted-at response-posted-at' href='#5882d069da8572000d119988'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Vladimir<br>
I did not even notice  his algorithm here had commissions explicitly set to 0. They did address commissions in the webinar, did you follow along? </p>

<p>In the webinar, they set commissions to 0.001, no idea why he&#39;s set his shared algo here to 0.000, that&#39;s what I copied to start modifying.  I am guessing their actual Q Fund isn&#39;t paying the default IB rates that you might pay on a personal account, but maybe I am wrong.</p>

<p>Attached backtest with 
<code>
set_commission(commission.PerTrade(cost=0.001))  
</code> as per their video.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5882d09387ecff218f868a55' id='5882d09387ecff218f868a55'>
<a href='#5882d09387ecff218f868a55'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1484968083000' class='quanto-date posted-at response-posted-at' href='#5882d09387ecff218f868a55'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Harrison,</p>

<p>According to <a href="https://www.quantopian.com/open#important-rules">Important Rules</a> of Quantopian Open Contest (current way to choose managers)</p>

<p><em>algorithm must use the default commission model.</em></p>

<p>So the line 31 of your&#39;s code </p>

<pre><code>set_commission(commission.PerTrade(cost=0.000))  
</code></pre>

<p>should be commented or deleted.</p>

<p>&#39;
Here is backtest of your&#39;s latest algo from 2013-06-03 to 2016-12-21 with <strong>default commissions</strong>.<br>
Equity curve speaks for itself.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5882d3bbf3228e227dfa01a3' id='5882d3bbf3228e227dfa01a3'>
<a href='#5882d3bbf3228e227dfa01a3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5552ad3f07123e200b00048e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/744a04046021fb83534df1d307751110?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5552ad3f07123e200b00048e'>Harrison Kinsley</a>
</div>
<a UTCms='1484968891000' class='quanto-date posted-at response-posted-at' href='#5882d3bbf3228e227dfa01a3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Vladimir<br>
It&#39;s a strategy that is looking at a single factor to make decisions, doing nothing else and using almost no logic. It&#39;s already doing solid in sideways or dropping markets, and is on the way to being a fantastic hedge. Further improvements would be something along the lines of stop-loss and addressing possibly a strategy shift in a clearly up trending market, and reserving this for times of uncertainty.</p>

<p>I&#39;d also suggest having a filter in place to see if price has already moved and if you&#39;re too late with the sentiment signal. Sometimes sentiment comes first, or while price is rising, but sentiment boosts can also come about after the fact, based on on pricing having changed and people getting worked up about it. Given the massive spread we saw in sentiment and returns, we&#39;d definitely want to begin hunting down as many of those causes as possible.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5882e3fbf3a7ec2a6f09fa3b' id='5882e3fbf3a7ec2a6f09fa3b'>
<a href='#5882e3fbf3a7ec2a6f09fa3b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5552ad3f07123e200b00048e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/744a04046021fb83534df1d307751110?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5552ad3f07123e200b00048e'>Harrison Kinsley</a>
</div>
<a UTCms='1484973051000' class='quanto-date posted-at response-posted-at' href='#5882e3fbf3a7ec2a6f09fa3b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Vladimir</p>

<p>Also, I just noticed what you posted actually wasn&#39;t the same as above. You&#39;re using default commissions again. Again, I am not sure if the Q Fund actually pays the same commissions as a personal interactive brokers account would. The posted algo had 0.000 set comms, but in the webinar they used 0.001 commissions. Here&#39;s the above algo, with the dates you used, from  2013-06-03 to 2016-12-21, using 0.001 commissions as the webinar suggested.</p>

<p>Of further interest would be why the trades appear to basically cease around Jan 2016.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5882ebb1ea1653000a3e330c' id='5882ebb1ea1653000a3e330c'>
<a href='#5882ebb1ea1653000a3e330c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1484975025000' class='quanto-date posted-at response-posted-at' href='#5882ebb1ea1653000a3e330c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Harrison</p>

<p>In backtest below I compared it to SHV - Barclays Short-Term Treasury Bill ETF with default commissions..  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5882ec03801d3c000d41fe0d' id='5882ec03801d3c000d41fe0d'>
<a href='#5882ec03801d3c000d41fe0d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1484975107000' class='quanto-date posted-at response-posted-at' href='#5882ec03801d3c000d41fe0d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jamie,<br>
In <em>attributes preferred by the Quantopian Investment Management Team</em>  I do not see any related to profitability.<br>
Is that correct?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5882f53ff3228e227dfa0341' id='5882f53ff3228e227dfa0341'>
<a href='#5882f53ff3228e227dfa0341'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5552ad3f07123e200b00048e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/744a04046021fb83534df1d307751110?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5552ad3f07123e200b00048e'>Harrison Kinsley</a>
</div>
<a UTCms='1484977471000' class='quanto-date posted-at response-posted-at' href='#5882f53ff3228e227dfa0341'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Vladimir<br>
The webinar&#39;s attempt was to show you what you need to research and consider in order to get an allocation, not to show you an actual strategy that would necessarily get you funded. This was stated within the first few minutes of the webinar.</p>

<p>Next, the question on commissions was also addressed in the webinar. You&#39;re consistently ignoring me here, and I am not sure why. Your latest back test again leaves in that default IB personal account commission rate. Again, it&#39;s unclear with 0.000 vs 0.001 vs going with an Interactive Broker&#39;s personal account defaults for commissions. Trade friction-less first to validate a strategy, and then work on dealing with the friction. </p>

<p>As seen in the notebook, and noted in the webinar, there&#39;s a large spread still on the signals in terms of cumulative returns and predictive power. While the mean is positive, there&#39;s plenty in the negative pulling the strategy down. Being wrong there, especially on the shorts, is detrimental, especially in a 2013-2016 bullish market range. </p>

<p>Other factors and filters will almost certainly need to be added to this specific strategy to get profitability where you want it, but yes, you want to retain the low beta and low volatility. </p>

<p>In the end, the whole point I received from the webinar is that you want to be analyzing your strategy far beyond, and ideally also far before you&#39;re worried about, the % return at the end of a back test.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5884b48ad652fd000a64655f' id='5884b48ad652fd000a64655f'>
<a href='#5884b48ad652fd000a64655f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1485091978000' class='quanto-date posted-at response-posted-at' href='#5884b48ad652fd000a64655f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jamie &amp; Jess -</p>

<p>Here&#39;s an algo to consider.  I will post the tear sheet, as well.  It looks to me to be reasonably attractive for your fund; it would be interesting to hear your perspective.</p>

<p>I do not have any out-of-sample results yet, but I don&#39;t think there is any gross over-fitting at play here.</p>

<p>Grant</p>

<p>Ref.: <a href="https://www.quantopian.com/algorithms/5883523a801d3c438641fed3/5884a39bb07bf961362be5f6">https://www.quantopian.com/algorithms/5883523a801d3c438641fed3/5884a39bb07bf961362be5f6</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5884b536406a8d000d0e7633' id='5884b536406a8d000d0e7633'>
<a href='#5884b536406a8d000d0e7633'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1485092150000' class='quanto-date posted-at response-posted-at' href='#5884b536406a8d000d0e7633'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s the tear sheet.  --Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5884bca7b945dd000a39375f' id='5884bca7b945dd000a39375f'>
<a href='#5884bca7b945dd000a39375f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5552ad3f07123e200b00048e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/744a04046021fb83534df1d307751110?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5552ad3f07123e200b00048e'>Harrison Kinsley</a>
</div>
<a UTCms='1485094055000' class='quanto-date posted-at response-posted-at' href='#5884bca7b945dd000a39375f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;d also be very interested to hear what we&#39;re to be looking out for with convex optimization specifically in a strategy. Seems like the optimization API is relatively easy to produce very appealing results.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5884e482b945dd000a393949' id='5884e482b945dd000a393949'>
<a href='#5884e482b945dd000a393949'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1485104258000' class='quanto-date posted-at response-posted-at' href='#5884e482b945dd000a393949'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Harrison,</p>

<p>At some point, I could start a separate thread, so as not to hijack the main thrust here, which is to talk about workflow, tools, and algo evaluation process at a higher level.  One interesting thing would be to sort out how to circle back and generate an input to alphalens using the signal in the algo.  As I&#39;ve been told, this should be doable, and might provide some insight, since alphalens is not restricted to daily bars (but maybe daily signals, due to memory limitations).  Before getting too excited, it would be nice to get some &quot;warm fuzzy&quot; feedback regarding the potential for fundability, since maybe there is a fatal flaw, relative to the requirements.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588513fc406a8d000d0e7b56' id='588513fc406a8d000d0e7b56'>
<a href='#588513fc406a8d000d0e7b56'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5552ad3f07123e200b00048e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/744a04046021fb83534df1d307751110?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5552ad3f07123e200b00048e'>Harrison Kinsley</a>
</div>
<a UTCms='1485116412000' class='quanto-date posted-at response-posted-at' href='#588513fc406a8d000d0e7b56'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant<br>
I think probably both a separate thread and this question remaining here makes sense. </p>

<p>Here, I would like to hear what to look for within alphalens and pyfolio with regards to convex optimization in a strategy and how to validate/invalidate it. From what I can tell, with your submission for example, it seems to hitting all the right notes, but I too would like to see a green light from high command that suggests it&#39;s an acceptable approach. I would hope the optimization API is at least a slight nod toward people using it for fund-ability.</p>

<p>I&#39;d also be interested in a new thread dedicated more generally to convex optimization applied to Quantopian. When I was poking around the optimization API threads, it looks like you&#39;ve been playing with this topic for a while. I&#39;d love to hear what you&#39;ve learned if you&#39;re happy to share.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5885dbb7c2175b2325f8dd61' id='5885dbb7c2175b2325f8dd61'>
<a href='#5885dbb7c2175b2325f8dd61'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1485167543000' class='quanto-date posted-at response-posted-at' href='#5885dbb7c2175b2325f8dd61'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Harrison,</p>

<p>I suggest any discussion of minutiae of the <a href="https://www.quantopian.com/posts/how-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team#5884b48ad652fd000a64655f">CVXPY-based code I posted above</a> be done on:</p>

<p><a href="https://www.quantopian.com/posts/long-short-algo-w-slash-cvxpy">https://www.quantopian.com/posts/long-short-algo-w-slash-cvxpy</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5886b9e781b1843ec567c3ca' id='5886b9e781b1843ec567c3ca'>
<a href='#5886b9e781b1843ec567c3ca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1485224423000' class='quanto-date posted-at response-posted-at' href='#5886b9e781b1843ec567c3ca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Harrison,</p>

<p>We&#39;re about to be releasing a template algorithm for the lecture series that uses the optimization API in addition to implementing a multi-factor model. It may provide some context/answers for your questions.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5887512a92772f165b5bf205' id='5887512a92772f165b5bf205'>
<a href='#5887512a92772f165b5bf205'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1485263146000' class='quanto-date posted-at response-posted-at' href='#5887512a92772f165b5bf205'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Delaney -</p>

<p>I suppose this is not the forum to go into any depth, but I&#39;d be interested in the following topics:</p>

<ul>
<li>How best to combine factors based on daily bars (e.g those defined within pipeline), with ones that run on minute bars (e.g. the example I posted above).<br></li>
<li>How to run the Quantopian optimization API over an expanding window, for smoothing (e.g the example I posted above).  I think this entails running the factors over a series of look-back windows, combining them, running the optimization for each look-back window, and then combining the results (e.g. in the example I show, a weighted average of the portfolios is performed).<br></li>
</ul>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58888fc08659ea2307e8cdc4' id='58888fc08659ea2307e8cdc4'>
<a href='#58888fc08659ea2307e8cdc4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1485344704000' class='quanto-date posted-at response-posted-at' href='#58888fc08659ea2307e8cdc4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Jamie &amp; Jess -</p>

<p>I posted another example for you to analyze, if you care to:</p>

<p><a href="https://www.quantopian.com/posts/contest-algo">https://www.quantopian.com/posts/contest-algo</a></p>

<p>It ran in the Q contest, under <a href="https://www.quantopian.com/live_algorithms/574e1c554ac0dc970700023e">https://www.quantopian.com/live_algorithms/574e1c554ac0dc970700023e</a> (note that for the posted example, I simply changed to 
<code>context.leverage = 1.0</code>).  It might be a nice example for you to discuss with the &quot;crowd&quot; since there are in-sample and out-of-sample data.  On the surface, it would appear to meet the basic criteria, but must have fallen short in the details (e.g. too few stocks, NASDAQ only, hedging instrument, etc.).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588af6f398611e19156b4b36' id='588af6f398611e19156b4b36'>
<a href='#588af6f398611e19156b4b36'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56990262be2416509000011c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cccbbae7e2a982659980bd3c4d0a6eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56990262be2416509000011c'>Richard Jamieson</a>
</div>
<a UTCms='1485502195000' class='quanto-date posted-at response-posted-at' href='#588af6f398611e19156b4b36'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Jamie &amp; Jess,<br>
Great webinar in terms of explaining the typical workflow and how to use and interpret the results of alphalens - thanks!<br>
I&#39;m just battling to get this example to run over a longer time period. As soon as I increase the time span from 1 to 2 years the notebook just hangs on the run_pipeline stage. For example, at the moment I&#39;ve set it to run 2014-2016 and have left it for over an hour and no results yet. Could this be an issue with internet speed or processing power on my side, or is it more likely to be processing power / memory on your server?<br>
Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588b976642b73d255d347920' id='588b976642b73d255d347920'>
<a href='#588b976642b73d255d347920'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55eefc2af269c592d80008a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8985b490c95e135c2bbcd7d1a0dce16b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55eefc2af269c592d80008a9'>Jamie McCorriston</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1485543270000' class='quanto-date posted-at response-posted-at' href='#588b976642b73d255d347920'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Richard,</p>

<p>That definitely sounds odd. Did it work for the same period as the backtest posted here? I would recommend emailing in to <a href="/cdn-cgi/l/email-protection#76101313121417151d36070317180219061f17185815191b"><span class="__cf_email__" data-cfemail="ef898a8a8b8d8e8c84af9e9a8e819b809f868e81c18c8082">[email&#160;protected]</span></a> so that our support team can help sort things out.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='58aa1061e8f8de50ef8a099e' id='58aa1061e8f8de50ef8a099e'>
<a href='#58aa1061e8f8de50ef8a099e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5681c6d6df850a2632000401'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/00a3940c5b6f7dc635a6012e8c6c9e01?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5681c6d6df850a2632000401'>Christian Laner</a>
</div>
<a UTCms='1487540321000' class='quanto-date posted-at response-posted-at' href='#58aa1061e8f8de50ef8a099e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, could someone explain to me why the return in the backtest (2%) does not match the spread between top and bottom quantiles computed by alphalens? Looking at the cumulative returns of the top and bottom quantiles the return should be about 3%+3%=6%. Where does this inconsistency between alphalens and the backtest come from? I tried setting the commissions and slippage to 0 and rebalancing as close as possible to the open, but it&#39;s still nowhere near 6%. Am I missing something?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58aa137a507aa25ff4eaecac' id='58aa137a507aa25ff4eaecac'>
<a href='#58aa137a507aa25ff4eaecac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1487541114000' class='quanto-date posted-at response-posted-at' href='#58aa137a507aa25ff4eaecac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Christian,</p>

<p>Great question. In practice backtests are the final step of the quant process, and are used to determine whether the theoretical returns of an alpha factor can survive the messy conditions of the real market. Two of the big factors that will reduce returns are slippage and commissions as you mentioned. Another one is liquidity. Alphalens makes no assumptions about ability to buy/sell, so sometimes you may not be able to fill orders in the backtest. I would also ensure rebalancing frequency matches alphalens, and in general that the way you&#39;re ordering stocks is the same. Does alphalens weight securities or assign equal weighted positions? Etc.</p>

<p>We&#39;re hoping to release documentation and template algorithms using our optimize API soon. Those will also have another source of mismatch from alphalens as the optimizer will be deciding position weights based on a set of constraints. Alphalens has no sense of a risk model so will not be able to model this.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='58aa1eba507aa2000deaf152' id='58aa1eba507aa2000deaf152'>
<a href='#58aa1eba507aa2000deaf152'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5681c6d6df850a2632000401'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/00a3940c5b6f7dc635a6012e8c6c9e01?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5681c6d6df850a2632000401'>Christian Laner</a>
</div>
<a UTCms='1487543994000' class='quanto-date posted-at response-posted-at' href='#58aa1eba507aa2000deaf152'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Delaney,</p>

<p>Thank you for your reply. From what I can tell, alphalens is rebalancing and weighting positions in the same way as the backtest. So I guess most of the difference is caused by liquidity issues as you suggested. I see a few warning messages saying &quot;your order failed to fill by the end of day and was canceled&quot;. What exactly is causing this?. Do you know where I can find out more about the modelling of liquidity in quantopian/zipline? Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ac732163f7e2355281090a' id='58ac732163f7e2355281090a'>
<a href='#58ac732163f7e2355281090a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/583340ea732ecc70cc0003cc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/32705daeb665b5cb5718e37bb2649ace?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/583340ea732ecc70cc0003cc'>Ernesto Perez</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1487696673000' class='quanto-date posted-at response-posted-at' href='#58ac732163f7e2355281090a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Christian, </p>

<p>The warning you see is most likely due to the liquidity of the security you are trying to trade. Orders will remain open until there is enough volume in a minute-bar to fill them, and orders that remain open until the end of the day are automatically canceled. </p>

<p>The amount of volume that your algorithm can take per minute-bar is set by the slippage model you are using. If you don&#39;t specify a slippage model, the backtester will use the default. You can learn more about the slippage and commissions models in lessons 9 &amp; 10 from the <a href="https://www.quantopian.com/tutorials/getting-started#lesson9">Getting Started</a> tutorial, as well as the documentation in our <a href="https://www.quantopian.com/help#ide-slippage">Help page</a>. </p>

<p>Additionally, If you are interested in a more in-depth explanation of the default slippage model I would suggest going through this <a href="https://blog.quantopian.com/accurate-slippage-model-comparing-real-simulated-transaction-costs/">blog post</a>.</p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='596f2580c127057ea3b4ff43' id='596f2580c127057ea3b4ff43'>
<a href='#596f2580c127057ea3b4ff43'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1500456320000' class='quanto-date posted-at response-posted-at' href='#596f2580c127057ea3b4ff43'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A question about the allocation criteria, if I may. Suppose an algo has a relatively low beta (0.01-0,.2), but is not perfectly hedged (60/40 or 70/30, instead of 50/50). Would it still be eligible for allocation, if furnnishing good retruns and low volatility?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596f497550f6b834675abea4' id='596f497550f6b834675abea4'>
<a href='#596f497550f6b834675abea4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5630c59769cd63066900041f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9338255445e838bf0a49a64e66d90aed?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5630c59769cd63066900041f'>Stephen Hanly</a>
</div>
<a UTCms='1500465525000' class='quanto-date posted-at response-posted-at' href='#596f497550f6b834675abea4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I second that question. I&#39;m using the Optimization API and currently specifying a dollar neutral tolerance of 0.1. Does the team look for a tighter dollar neutral strategy?</p>

<p>I started paper trading the same strategy with a tighter 0.01 tolerance so that I may be able to use that out-of-sample performance in an effort to get an allocation. But in the case of the contest, the strategy has better performance metrics (volatility, beta, sharpe etc.) when it isn&#39;t perfectly hedged. I&#39;m curious if it&#39;s such an important characteristic of an algorithm you&#39;d consider for allocation, why is it not included in the contest scoring/badge process?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596f59080fdf6f000d0a7653' id='596f59080fdf6f000d0a7653'>
<a href='#596f59080fdf6f000d0a7653'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1500469512000' class='quanto-date posted-at response-posted-at' href='#596f59080fdf6f000d0a7653'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jessica Stauth covers this topic in her QuantCon talk. It was published on the Quantopian blog recently: <a href="https://blog.quantopian.com/making-grade-look-inside-algorithm-evaluation-process-quantcon-2017/">https://blog.quantopian.com/making-grade-look-inside-algorithm-evaluation-process-quantcon-2017/</a>  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='596f653bb40829000d22bf44' id='596f653bb40829000d22bf44'>
<a href='#596f653bb40829000d22bf44'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1500472635000' class='quanto-date posted-at response-posted-at' href='#596f653bb40829000d22bf44'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am sorry, Josh, but Jesicca&#39;s talk does not really provide a (specific enough) answer to my question.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596f73ca0fdf6f00100a791d' id='596f73ca0fdf6f00100a791d'>
<a href='#596f73ca0fdf6f00100a791d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5630c59769cd63066900041f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9338255445e838bf0a49a64e66d90aed?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5630c59769cd63066900041f'>Stephen Hanly</a>
</div>
<a UTCms='1500476362000' class='quanto-date posted-at response-posted-at' href='#596f73ca0fdf6f00100a791d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>We know they want dollar neutrality, the question is <strong><em>how tight of a tolerance</em></strong> do they require? Is 55/45 long/short ok, even 60/40?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596f84fd576e4626ad14b6b1' id='596f84fd576e4626ad14b6b1'>
<a href='#596f84fd576e4626ad14b6b1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5630c59769cd63066900041f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9338255445e838bf0a49a64e66d90aed?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5630c59769cd63066900041f'>Stephen Hanly</a>
</div>
<a UTCms='1500480765000' class='quanto-date posted-at response-posted-at' href='#596f84fd576e4626ad14b6b1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Antony, dollar neutrality and a beta of 0 are not necessarily the same thing.  A beta above 0 indicates a bias to being long the market, not necessarily holding more longs than shorts... if the factor construction has a low beta characteristic.</p>

<p>Many factors (such as most fundamentals, low-volatility, etc.) will prefer stocks with a low inherent beta. When built into a market neutral strategy this will require more longs than shorts in order to have a beta of 0.  Tim and I (and many others) can make a perfect 50/50 long/short portfolio based off of the factors we&#39;ve developed but this may come at the cost of having a negative beta - which may be worse than having a slightly net positive exposure.</p>

<p>This is what we want Quantopian to directly answer (and something that has been <a href="https://www.quantopian.com/posts/getting-an-allocation-june-2017-update">asked about in other posts</a>), in addition to a beta target of 0, what type of dollar neutrality tolerance (if any) is allowable?</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596ff9ea47fb460010c75b86' id='596ff9ea47fb460010c75b86'>
<a href='#596ff9ea47fb460010c75b86'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50f97faeaa4b3d78fd0000ee'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f18d32ae5bfc439c5b75bfa9f29e953a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50f97faeaa4b3d78fd0000ee'>Jessica Stauth</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1500510698000' class='quanto-date posted-at response-posted-at' href='#596ff9ea47fb460010c75b86'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks to Dan Dunn for pointing me to this thread!</p>

<p>I know that we haven&#39;t put out specific and complete cut-off threshold values for all the metrics we consider in our algorithm selection -- apologies if that has been frustrating, which is not our intention!</p>

<p>Today a good indicator that I&#39;ll see your algo (if it holds up in 6 months of out of sample) is that your algo&#39;s trailing 6 and 12 month beta to SPY is less than 0.3 (ideally less than 0.10 is what I like to use today). We prefer as close to 0 net exposure as possible as well, let&#39;s say same order of magnitude, but again &quot;today&quot; I&#39;m not filtering on net exposure. That said, if we select your algorithm for our diligence process, you can be sure that we&#39;ll ask you if you&#39;ve tried optimizing to a tolerance of less than 10% net exposure, and if you can see how that looks - so might as well try now!</p>

<p>We think of both market beta and dollar exposure as forms of model risk and as such we give preference to algos that minimize both, while its certainly true that you can do one without the other and vice versa, either intentionally or because you aren&#39;t explicitly matching the beta exposure of your long and short books. </p>

<p>Please let me know if that is helpful guidance or what other questions you might have about the selection process.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5970107d8294334b65305a14' id='5970107d8294334b65305a14'>
<a href='#5970107d8294334b65305a14'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5630c59769cd63066900041f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9338255445e838bf0a49a64e66d90aed?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5630c59769cd63066900041f'>Stephen Hanly</a>
</div>
<a UTCms='1500516477000' class='quanto-date posted-at response-posted-at' href='#5970107d8294334b65305a14'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Jessica, that&#39;s helpful - special thanks for giving us a number at 10%!</p>

<p>I&#39;ll keep the 
<code>
market_neutral = opt.DollarNeutral(tolerance=0.1)  
</code> for the contest entries because it does a better job tracking a beta of 0, and I&#39;ll keep a paper trading version at a tolerance of 0.01.</p>

<p>Hopefully we&#39;ll be talking in ~6 months as part of your due diligence!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59705bf73caa441680db0c85' id='59705bf73caa441680db0c85'>
<a href='#59705bf73caa441680db0c85'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1500535799000' class='quanto-date posted-at response-posted-at' href='#59705bf73caa441680db0c85'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very helpful discussion, thanks a lot, everyone!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5970c6316747ff2318283e61' id='5970c6316747ff2318283e61'>
<a href='#5970c6316747ff2318283e61'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5929c5f4a76c22000d329d92'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5ec18483d35ccb497ca800f820998851?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5929c5f4a76c22000d329d92'>Leo M</a>
<span class='badge medal'></span>
</div>
<a UTCms='1500562993000' class='quanto-date posted-at response-posted-at' href='#5970c6316747ff2318283e61'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is it possible to get some quick feedback before waiting for the 6 month period. If the algo is not going to make the cut because it violates some important criteria, getting to know that ASAP will cut down on iteration time (6Month * N) and help us refocus to fit the criteria. Since the algorithm selection process is somewhat automated, making some of that scoring visible to the algo developer will make a day/night difference in visibility on what to improve in an algo in a timely manner. It benefits both Quantopian and the developer if we can recalibrate and refocus at the earliest.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5970d9dbe62c230cbcc66a40' id='5970d9dbe62c230cbcc66a40'>
<a href='#5970d9dbe62c230cbcc66a40'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1500568027000' class='quanto-date posted-at response-posted-at' href='#5970d9dbe62c230cbcc66a40'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Coyote,</p>

<p>You&#39;re totally right, optimizers are meant to tweak the weights to be within risk constraints while preserving the objective alpha. If the objective alpha was not built with the constraints in mind and has heavy biases, the optimizer will either not be able to do much, or distort the alpha beyond all profitability. If you find your alpha to have large exposures, it&#39;s often better to think about a better alpha design than to try to fit a square peg in a round hole. The optimizer is a final step once you have a combination of alphas that average out to fairly low exposures.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5970dd75197e6824e6916ddf' id='5970dd75197e6824e6916ddf'>
<a href='#5970dd75197e6824e6916ddf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e602a002dd2432b00001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/706508819421d25d2dfb273421dc6887?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e602a002dd2432b00001d2'>Burrito Dan</a>
</div>
<a UTCms='1500568949000' class='quanto-date posted-at response-posted-at' href='#5970dd75197e6824e6916ddf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One objective measure of &quot;square peg round hole&quot; is to look at the alphas chosen by the optimizer versus what was available. A perfectly constructed alpha should result in N from the top, and N from the bottom of the ranking being chosen by the Optimizer.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59710c688ceae6052b82f5ee' id='59710c688ceae6052b82f5ee'>
<a href='#59710c688ceae6052b82f5ee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1500580968000' class='quanto-date posted-at response-posted-at' href='#59710c688ceae6052b82f5ee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Actually this is known as the transfer coefficient, basically how much of your alpha (strength measured in information coefficient &#39;IC&#39;) transfer to the actual positions. <a href="http://www.institutionalinvestor.com/article/1027267/the-cost-of-constraint.html#.WXEL9hPyvUI">http://www.institutionalinvestor.com/article/1027267/the-cost-of-constraint.html#.WXEL9hPyvUI</a></p>

<p>The higher the transfer coefficient the less your constraints are warping your alpha. I think it&#39;s canonically measured via Spearman Rank Correlation (<a href="https://www.quantopian.com/lectures/spearman-rank-correlation">https://www.quantopian.com/lectures/spearman-rank-correlation</a>), but you could also use something like MSE to estimate. Basically a distance metric between vectors should get at the same idea.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5a120987837b94001c0205dc' id='5a120987837b94001c0205dc'>
<a href='#5a120987837b94001c0205dc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59f0401ce1a0730006e2ed50'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4dc0fe59094ccbe2c02c999211b7e433?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59f0401ce1a0730006e2ed50'>Andres Soto</a>
</div>
<a UTCms='1511131527000' class='quanto-date posted-at response-posted-at' href='#5a120987837b94001c0205dc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi. I just copied and pasted the lines one by one in a notebook and I get the following error with this line:</p>

<p>sentiment_2014_df = bz.compute(sentiment_2014_expr)</p>

<p>ValueErrorTraceback (most recent call last)<br>
 in ()<br>
----&gt; 1 sentiment_2014_df = bz.compute(sentiment_2014_expr)</p>

<p>/usr/local/lib/python2.7/dist-packages/multipledispatch/dispatcher.pyc in <strong>call</strong>(self, *args, **kwargs)
    162             self._cache[types] = func<br>
    163         try:<br>
--&gt; 164             return func(*args, **kwargs)<br>
    165<br>
    166         except MDNotImplementedError:</p>

<p>/build/src/qexec_repo/src/blaze/blaze/interactive.pyc in compute(expr, **kwargs)
    203         raise ValueError(&quot;No data resources found&quot;)<br>
    204     else:<br>
--&gt; 205         return compute(expr, resources, **kwargs)<br>
    206<br>
    207 </p>

<p>/usr/local/lib/python2.7/dist-packages/multipledispatch/dispatcher.pyc in <strong>call</strong>(self, *args, **kwargs)
    162             self._cache[types] = func<br>
    163         try:<br>
--&gt; 164             return func(*args, **kwargs)<br>
    165<br>
    166         except MDNotImplementedError:</p>

<p>/build/src/qexec_repo/src/blaze/blaze/compute/core.pyc in compute(expr, d, return_type, **kwargs)
    410         d4 = d3<br>
    411<br>
--&gt; 412     result = top_then_bottom_then_top_again_etc(expr3, d4, **kwargs)<br>
    413     if post_compute_:<br>
    414         result = post_compute_(expr3, result, scope=d4)</p>

<p>/build/src/qexec_repo/src/blaze/blaze/compute/core.pyc in top_then_bottom_then_top_again_etc(expr, scope, **kwargs)
    151     # 1. See if we have a direct computation path with compute_down<br>
    152     try:<br>
--&gt; 153         return compute_down(expr, *leaf_data, **kwargs)<br>
    154     except NotImplementedError:<br>
    155         pass</p>

<p>/usr/local/lib/python2.7/dist-packages/multipledispatch/dispatcher.pyc in <strong>call</strong>(self, *args, **kwargs)
    162             self._cache[types] = func<br>
    163         try:<br>
--&gt; 164             return func(*args, **kwargs)<br>
    165<br>
    166         except MDNotImplementedError:</p>

<p>/build/src/qexec_repo/src/blaze/blaze/server/client.pyc in compute_down(expr, ec, profiler_output, compute_kwargs, odo_kwargs, **kwargs)
    240<br>
    241     if not ok(r):<br>
--&gt; 242         raise ValueError(&quot;Bad response: %s&quot; % reason(r))<br>
    243     response = serial.loads(content(r))<br>
    244     if profiler_output is not None:</p>

<p>ValueError: Bad response: Computation failed with message:<br>
AttributeError: &#39;frozenset&#39; object has no attribute &#39;<em>resources&#39;<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/server/server.py&quot;, line 647, in compserver<br>
    **compute_kwargs),<br>
  File &quot;/home/databazaar/.venv/lib/python3.5/site-packages/multipledispatch/dispatcher.py&quot;, line 164, in __call</em>_<br>
    return func(*args, **kwargs)<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/compute/core.py&quot;, line 424, in compute<br>
    d2 = swap_resources_into_scope(expr, d)<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/compute/core.py&quot;, line 367, in swap_resources_into_scope<br>
    return toolz.merge(expr._resources(), scope)<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/expr/core.py&quot;, line 239, in _resources<br>
    return toolz.merge(arg._resources() for arg in self._inputs)<br>
  File &quot;/home/databazaar/.venv/src/toolz/toolz/dicttoolz.py&quot;, line 38, in merge<br>
    for d in dicts:<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/expr/core.py&quot;, line 239, in<br>
    return toolz.merge(arg._resources() for arg in self._inputs)<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/expr/core.py&quot;, line 239, in _resources<br>
    return toolz.merge(arg._resources() for arg in self._inputs)<br>
  File &quot;/home/databazaar/.venv/src/toolz/toolz/dicttoolz.py&quot;, line 38, in merge<br>
    for d in dicts:<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/expr/core.py&quot;, line 239, in<br>
    return toolz.merge(arg._resources() for arg in self._inputs)<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/expr/core.py&quot;, line 239, in _resources<br>
    return toolz.merge(arg._resources() for arg in self._inputs)<br>
  File &quot;/home/databazaar/.venv/src/toolz/toolz/dicttoolz.py&quot;, line 38, in merge<br>
    for d in dicts:<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/expr/core.py&quot;, line 239, in<br>
    return toolz.merge(arg._resources() for arg in self._inputs)<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/expr/core.py&quot;, line 239, in _resources<br>
    return toolz.merge(arg._resources() for arg in self._inputs)<br>
  File &quot;/home/databazaar/.venv/src/toolz/toolz/dicttoolz.py&quot;, line 38, in merge<br>
    for d in dicts:<br>
  File &quot;/home/databazaar/databazaar-clone/submodules/blaze/blaze/expr/core.py&quot;, line 239, in<br>
    return toolz.merge(arg._resources() for arg in self._inputs)</p>

<p>Don&#39;t know if anybodyelse has had it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a9822ea0fab3241239c5c50' id='5a9822ea0fab3241239c5c50'>
<a href='#5a9822ea0fab3241239c5c50'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a7f0b851bd2a000107012f5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2ac867dafb84fb456bbbecf27778b309?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a7f0b851bd2a000107012f5'>John Strong</a>
</div>
<a UTCms='1519919850000' class='quanto-date posted-at response-posted-at' href='#5a9822ea0fab3241239c5c50'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m getting the same error message:</p>

<pre><code>ValueError: Bad response: Computation failed with message:  
AttributeError: &#39;frozenset&#39; object has no attribute &#39;resources&#39;

</code></pre>

<p>Happens in the original notebook when I try to execute:</p>

<pre><code>sentiment_2014_df = bz.compute(sentiment_2014_expr)  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b9af78aa19c4e003e23aed7' id='5b9af78aa19c4e003e23aed7'>
<a href='#5b9af78aa19c4e003e23aed7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1536882570000' class='quanto-date posted-at response-posted-at' href='#5b9af78aa19c4e003e23aed7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jamie,</p>

<p>I get the same errors when cloning the notebook and running all cells without making any changes. Would you be able to have a look?</p>

<p>Also, in the notebook you say:</p>

<blockquote>
<p>Let&#39;s see how many securities are covered by this dataset between<br>
12/2013 and 12/2014.</p>
</blockquote>

<p>However, I don&#39;t see this timeframe defined in the next or earlier cells. Am I missing something?</p>

<p>Thanks for a super useful video/webinar (more of this please). I just wish I could run the NB as well. Perhaps the NB was updated to use a different dataset due to this problem?  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/how-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/how-to-get-an-allocation-writing-an-algorithm-for-the-quantopian-investment-management-team'>join Quantopian</a> to
post a reply.
</div>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#7d1b1818191f1c1e163d0c081c1309120d141c13531e1210">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
