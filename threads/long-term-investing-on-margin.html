<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Long-term investing on margin
</title>
<meta content='BACKGROUND I invest a fixed dollar amount each month in a pre-defined basket of holdings. I set out to find whether incorporating some level of margin would help me be more profitable in the long run while staying within my risk tolerance. RESEARCH Margin investing would be out of the question for me if it weren&#39;t for Interactive Brokers&#39; incredibly low rates (currently 2.16 %). I&#39;ve spent dozens of hours reading and writing algorithms to backtest margin investing in the broad market and have...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="gWIcPRptuJicNQDHN9DG0BwlgQJfOSnBYDZQD7t1zij9BGpwuJtqeyUoWfZ4P26kJKuiayX1PNriOYtlETCskw==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/long-term-investing-on-margin' property='og:url'>
<meta content='Long-term investing on margin' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/long-term-investing-on-margin' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Long-term investing on margin' property='og:title'>
<meta content='BACKGROUND I invest a fixed dollar amount each month in a pre-defined basket of holdings. I set out to find whether incorporating some level of margin would help me be more profitable in the long run while staying within my risk tolerance. RESEARCH Margin investing would be out of the question for me if it weren&#39;t for Interactive Brokers&#39; incredibly low rates (currently 2.16 %). I&#39;ve spent dozens of hours reading and writing algorithms to backtest margin investing in the broad market and have...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/long-term-investing-on-margin">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='587968037481ad000ad14a14'>
<div class='post-container' data-post-id='587968037481ad000ad14a14' id='587968037481ad000ad14a14'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Long-term investing on margin</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1586819977000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Long-term investing on margin&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Flong-term-investing-on-margin%3Futm_source%3Dwebsite_share%26utm_campaign%3Ddollar-cost-averaging-on-margin%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Flong-term-investing-on-margin%3Futm_source%3Dwebsite_share%26utm_campaign%3Ddollar-cost-averaging-on-margin%26utm_medium%3Dlinkedin&amp;title=Long-term+investing+on+margin+%28Blue+Albatross%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/long-term-investing-on-margin?utm_source=website_share&amp;utm_campaign=dollar-cost-averaging-on-margin&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Blue Albatross" />
<div class='body-text'>
<div class='body-text-container post-body'><p>BACKGROUND<br>
I invest a fixed dollar amount each month in a pre-defined basket of holdings. I set out to find whether incorporating some level of margin would help me be more profitable in the long run while staying within my risk tolerance.</p>

<p>RESEARCH<br>
Margin investing would be out of the question for me if it weren&#39;t for Interactive Brokers&#39; incredibly low rates (currently 2.16 %). I&#39;ve spent dozens of hours reading and writing algorithms to backtest margin investing in the broad market and have decided on a portfolio and set of limits suitable for my risk tolerance. PortfolioCharts.com was a particularly useful research tool for me.</p>

<p>ALGORITHM<br>
This algorithm keeps me balanced across my target allocations within configured leverage limits. It is a contrarian strategy, as it sells securities which are over-performing in order to invest in other securities in the basket which are under-performing. This algorithm always invests first in the security which is farthest from its target allocation.</p>

<p>UPDATE<br>
I updated this first post to reflect suggestions made later in the thread. The version of the algorithm that I am live-trading is attached.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>33 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='588d7a2039ce8e000d23f99e' id='588d7a2039ce8e000d23f99e'>
<a href='#588d7a2039ce8e000d23f99e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1485666848000' class='quanto-date posted-at response-posted-at' href='#588d7a2039ce8e000d23f99e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><em>Long-term buy-and-hold on margin</em> works much better by any metrics on <strong>balanced</strong> portfolio.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588d85f2030e6f000d99f971' id='588d85f2030e6f000d99f971'>
<a href='#588d85f2030e6f000d99f971'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1485669874000' class='quanto-date posted-at response-posted-at' href='#588d85f2030e6f000d99f971'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Completely simplified version.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588d8ab92fce7d57202a7a80' id='588d8ab92fce7d57202a7a80'>
<a href='#588d8ab92fce7d57202a7a80'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1485671097000' class='quanto-date posted-at response-posted-at' href='#588d8ab92fce7d57202a7a80'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well, it&#39;s all about the time horizon right? A heavy bond allocation  would certainly have helped the backtest through the financial crisis. I&#39;m looking at a 30 year time horizon myself. My goal with investing on margin is to take on more risk while I&#39;m young. While I value diversification across sectors and market caps, I think that diversifying into bonds this early would only limit the portfolio&#39;s growth in the long term.</p>

<p>Nice job on the simplified version! 
<code>order_target_percent</code> is what I started with, but it&#39;s missing a few features that I needed:</p>

<ul>
<li>It does not come with a built-in tolerance on the target percentages (e.g. 25% Â± 3%) and therefore racks up commissioning fees on unnecessary rebalancing.<br></li>
<li>It can leave some of your cash uninvested even though there&#39;s enough to buy at least one more share.<br></li>
<li>Using it to rebalance to a target leverage will destroy your portfolio in a bear market because it causes you to sell the whole way down.<br>

<ul>
<li>If you&#39;re trading on margin, you want to let your leverage increase so that you can ride out the downturn. The ability to increase leverage is what makes a Portfolio Margin account so attractive.</li>
</ul></li>
</ul>

<p>I think <code>order_target_percent</code> is great if you don&#39;t invest on margin, have a Robinhood account (to avoid commissioning fees), and don&#39;t mind leaving a bit of your cash uninvested.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588d9021174c47000d12b305' id='588d9021174c47000d12b305'>
<a href='#588d9021174c47000d12b305'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1485672481000' class='quanto-date posted-at response-posted-at' href='#588d9021174c47000d12b305'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>VY code posted today. The 143% is better than anything I tried ...<br>
2017-01-11 06:31 <em>pvr</em>:191 INFO PvRp 0.0566 %/day     2007-01-03 to 2017-01-11  $10000  2017-01-29 00:30 US/Eastern<br>
2017-01-11 06:31 <em>pvr</em>:192 INFO   Profited 22936 on 16043 activated/transacted for PvR of 143.0%<br>
2017-01-11 06:31 <em>pvr</em>:193 INFO   QRet 229.36 PvR 142.96 CshLw -17448 MxLv 1.60 RskHi 16043 Shrts 0<br>
2017-01-11 06:31 pvr:288 INFO<br>
Runtime 0 hr 10.3 min    End: 2017-01-29 00:40 US/Eastern  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588deaf66040000cf2cec4c4' id='588deaf66040000cf2cec4c4'>
<a href='#588deaf66040000cf2cec4c4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1485695734000' class='quanto-date posted-at response-posted-at' href='#588deaf66040000cf2cec4c4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Blue<br>
Gary, Thank you for analyzing that simple 10 liner 25-25-25-25 trading strategy and especially for pleasant conclusion.<br>
Is it really  better than anything you tried ?<br>
@Jake<br>
If you are <em>looking at a 30 year time horizon</em>  then it would be nice to look back for 30 year.<br>
Financial crisis was not only in 2008 but in 2000 and 1987 and a lot of 15-20% corrections<br>
Learn about market cycles, margin calls...<br>
<em>Diversification across sectors and market caps</em> dose not work any more as before because they are highly correlated lately.<br>
Believe me or not but diversification only have sense between negatively correlated asset classes.<br>
In yours portfolio all instruments belong to the same asset class- equity.<br>
Backtest below is for period of almost  half  what you are looking forward.<br>
For fourteen years this strategy never been under water (below initial capital).<br>
Do not forget simple stock market math: If you lost 50% of yours capital you need to make 100% just to be equal.<br>
Look at chart of strategy you follow. It took 5 years to recover what it lost in 3 month.<br>
Think it over.<br>
Good luck.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588e1090d0cc94000d7805c7' id='588e1090d0cc94000d7805c7'>
<a href='#588e1090d0cc94000d7805c7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571d1bab2616ef09ce0002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a69e9457dd2832a76875bcae334d5baf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571d1bab2616ef09ce0002b6'>Dan Whitnable</a>
</div>
<a UTCms='1485705360000' class='quanto-date posted-at response-posted-at' href='#588e1090d0cc94000d7805c7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jake, you hit on two basic &#39;tools&#39; of quant investing - rebalancing and leverage. It&#39;s probably a misnomer calling your approach &#39;buy-and-hold&#39;. You are actually rebalancing along the way. Rebalancing perhaps seems like simple account maintenance however it has it&#39;s roots in some fundamental math and is actually a very effective tool for increasing returns. Attached is Vladimir&#39;s strategy but only buying once at the beginning (and holding until the end). The pyfolio analysis shows an annual return of 10% for the buy and hold vs 13% for the rebalanced version. There are a couple of things going on, and of course there are caveats,  but basically, simple rebalancing can increase returns 30%. Rebalancing is the first &#39;go to&#39; tool in a quant investors toolbox.</p>

<p>I&#39;d side with Vladimir and caution your approach <em>&quot;I think that diversifying into bonds this early would only limit the portfolio&#39;s growth in the long term.&quot;</em>.  That is not necessarily correct (though it&#39;s what the &#39;Target Retirement&#39; mutual funds want you to believe). It&#39;s also one dimensional thinking. Don&#39;t get fixated on returns. There are other dimensions one should focus on first... namely volatility and drawdown. If one could get volatility to zero that implies it&#39;s virtually risk free. If one has virtually a risk free strategy then add leverage to achieve whatever desired return you wish. There is a cost to borrowing and other risks, but that&#39;s the basic logic and approach I&#39;d suggest for crafting an investment strategy. First, spend time getting volatility down well below your &#39;rollercoaster tolerance&#39; (spend the majority of time here). Second, work on improving alpha and maintaining a low positive beta (ie now and only now work on returns). Finally, add leverage until the volatility equals your &#39;rollercoaster tolerance&#39;. Note that as you add leverage volatility will increase proportionally. Returns, however, will magically go up a bit more because of compounding. Returns compound while volatility does not.</p>

<p>The reason you want to invest in bonds is to decrease volatility by increasing diversification. While this may have the effect of lowering initial returns, you now pull out the second tool in your toolbox (remember the first one was rebalancing) and add leverage to get returns where you want them. One advantage an investor has over the &#39;mutual fund crowd&#39; is leverage. Mutual funds cannot use leverage so they invented the &#39;Target Retirement&#39; funds which hold more stocks up front in a bet that stocks will give higher returns than bonds. As an individual &#39;quant&#39; investor you aren&#39;t tied to that restriction. You don&#39;t need to &#39;bet&#39; that stocks will go up. Use basic math principles instead. Mathematically, volatility will go down by combining uncorrelated variances. Returns will go up by multiplying leverage. No need to &#39;bet&#39; on stocks. Bet on the math instead.</p>

<p>@Vladimir, I&#39;ve seen you post variations of your strategy other times in the forums here and want to say thank you. It focused me on the basics of quant investing. Rather than benchmarking against SPY I benchmark now against the numbers for a balanced portfolio such as this.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588e21fd8fd5a949c7cc799a' id='588e21fd8fd5a949c7cc799a'>
<a href='#588e21fd8fd5a949c7cc799a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1485709821000' class='quanto-date posted-at response-posted-at' href='#588e21fd8fd5a949c7cc799a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Excellent post Dan.</p>

<p>Jake, I&#39;d recommend checking out the asset allocations discussed at <a href="https://portfoliocharts.com">https://portfoliocharts.com</a>.  In particular I like the Permanent Portfolio and its variation the Golden Butterfly.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588e22048fd5a90e56cc758c' id='588e22048fd5a90e56cc758c'>
<a href='#588e22048fd5a90e56cc758c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571d1bab2616ef09ce0002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a69e9457dd2832a76875bcae334d5baf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571d1bab2616ef09ce0002b6'>Dan Whitnable</a>
</div>
<a UTCms='1485709828000' class='quanto-date posted-at response-posted-at' href='#588e22048fd5a90e56cc758c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Portfolio rebalancing works great as long as the assets tend to revert to a mean or are increasing. As Antony points out you are consistently taking profits and re-investing them in under-performing assets.</p>

<p>The dark side of portfolio rebalancing is in the case of one poorly performing asset. Consider a 100 stock portfolio.  All are flat and one goes to zero. If one were to buy-and-hold, the loss would be capped at 1% (the one stock that went bust). However, if consistently rebalanced, the portfolio would go to $0. The strategy would constantly double down on the dog and that single asset would sink the entire portfolio. </p>

<p>The above scenario is typically mitigated in manual trading because human nature steps in and says &quot;better get out of Dodge&quot;. However, an algorithm has no such qualms and will loose it all unless some sort of exit logic is included. In reality though, trading market indexed ETFs would not see this happen.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588e2bed5bb0ac000d3ef26d' id='588e2bed5bb0ac000d3ef26d'>
<a href='#588e2bed5bb0ac000d3ef26d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1485712365000' class='quanto-date posted-at response-posted-at' href='#588e2bed5bb0ac000d3ef26d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Vladimir:</p>

<blockquote>
<p>Diversification across sectors and market caps dose not work any more because they are highly correlated.</p>
</blockquote>

<p>I would argue that diversification across sectors and market caps does provide value to the risk-averse investor. See the following:</p>

<ul>
<li><a href="http://www.sectorspdr.com/sectorspdr/Pdf/All%20Funds%20Documents/Document%20Resources/10%20Year%20Sector%20Returns">http://www.sectorspdr.com/sectorspdr/Pdf/All%20Funds%20Documents/Document%20Resources/10%20Year%20Sector%20Returns</a><br></li>
<li><a href="https://portfoliocharts.com/portfolio/annual-returns/">https://portfoliocharts.com/portfolio/annual-returns/</a></li>
</ul>

<p>Thank you though for your advice.</p>

<p>@Dan: Thank you for the insight into how to build a leveraged portfolio. I&#39;ll certainly do some research using this methodology.</p>

<p>@Anthony: I should have familiarized myself more with the formal definitions of common strategies before advertising this one as buy-and-hold. :) Thank you.</p>

<p>@Stephen: Great website! I can&#39;t believe I hadn&#39;t come across it already. Bookmarked.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588e44eb5bb0ac000d3ef3e0' id='588e44eb5bb0ac000d3ef3e0'>
<a href='#588e44eb5bb0ac000d3ef3e0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1485718763000' class='quanto-date posted-at response-posted-at' href='#588e44eb5bb0ac000d3ef3e0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you again for your link to that site, Stephen. It&#39;s helped me realize that I&#39;ve fallen for some common misconceptions about long-term investment planning. This article in particular was a great argument for diversifying across asset classes instead of only in equities, even during the accumulation phase. As you all pointed out, a minimal drawdown rate is especially important when trading on margin.</p>

<p><a href="https://portfoliocharts.com/2016/07/25/thinking-beyond-stocks-can-fortify-your-accumulation-plan/">https://portfoliocharts.com/2016/07/25/thinking-beyond-stocks-can-fortify-your-accumulation-plan/</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588e5486174c47000a12bc28' id='588e5486174c47000a12bc28'>
<a href='#588e5486174c47000a12bc28'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571d1bab2616ef09ce0002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a69e9457dd2832a76875bcae334d5baf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571d1bab2616ef09ce0002b6'>Dan Whitnable</a>
</div>
<a UTCms='1485722758000' class='quanto-date posted-at response-posted-at' href='#588e5486174c47000a12bc28'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One problem with trying to diversify is the lack of uncorrelated asset classes available to retail traders (Vladimir alluded to this). Something to consider adding to your mix are inverse ETFs. Don&#39;t think of these as strategies to increase return by &#39;betting against the market&#39; . Think of them as just other asset classes to diversify into. Because they have negative correlations to their standard counterparts, inverse ETFs are powerful levers you have to reduce beta and volatility. It doesn&#39;t take much to swing beta in the negative direction. Specifically, I like the inverse emerging market ETFs. They provide enough inverse correlation to US equities so to cancel out a lot of variance. However, they move enough on their own as to not also exactly cancel any US equity returns in the process. </p>

<p>Try Vladimir&#39;s algo but replace IEF with EUM. EUM is a Powershares -1x emerging market ETF.</p>

<pre><code>    stocks = [symbol(&#39;QQQ&#39;), symbol(&#39;XLP&#39;),symbol(&#39;TLT&#39;),symbol(&#39;EUM&#39;),]  
    proportion = [0.25, 0.25, 0.35, 0.15,]

</code></pre>

<p>Notice the proportions can be changed a bit. Because EUM has a high negative correlation with QQQ and XLP, a 25% share drags the portfolio beta below 0. Reducing the percent (offsetting with TLT) brings the beta more in line with original stock/bond version while having a little less drawdown and volatility with about the same returns. Moreover, it may be a little more emotionally appealing being more diversified (global equities) and less dependent on bonds (which may not be realizing the same high recent returns).</p>

<p>Anyway, do look at inverse ETFs and consider them almost additional &#39;asset classes&#39;.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588e6d0a174c47000d12bdf7' id='588e6d0a174c47000d12bdf7'>
<a href='#588e6d0a174c47000d12bdf7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1485729034000' class='quanto-date posted-at response-posted-at' href='#588e6d0a174c47000d12bdf7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a backtest using a version of the Golden Butterfly portfolio on margin. The equities are actually Guggenheim, not iShares as the code states.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588e6d552fce7d34ad2a7a35' id='588e6d552fce7d34ad2a7a35'>
<a href='#588e6d552fce7d34ad2a7a35'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571d1bab2616ef09ce0002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a69e9457dd2832a76875bcae334d5baf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571d1bab2616ef09ce0002b6'>Dan Whitnable</a>
</div>
<a UTCms='1485729109000' class='quanto-date posted-at response-posted-at' href='#588e6d552fce7d34ad2a7a35'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ouch. 45% drawdown. 18% volatility. Pretty high beta of .79 and .06 alpha. Most of the returns are because the market went up and not intrinsic to the strategy. Sharpe ratio of .73 implies risk without associated return. </p>

<p>Not sure what your tolerance to volatility is but maybe shoot for:<br>
-less than 25% drawdown during the 2008 crisis / less than 15% afterwards<br>
-volatility less than 12% (ideally single digits)<br>
-beta between 0 and .3<br>
-sharpe ratio above 1 / sortino ratio above 1.5<br>
-annual average return above 14%  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588e7035d64b4e000dfecc03' id='588e7035d64b4e000dfecc03'>
<a href='#588e7035d64b4e000dfecc03'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1485729845000' class='quanto-date posted-at response-posted-at' href='#588e7035d64b4e000dfecc03'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for listing those ideal performance metrics. I posted a backtest of a highly popular portfolio. If you have any suggestions on another portfolio to try, please do share.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588e81cb45c072000a68ac18' id='588e81cb45c072000a68ac18'>
<a href='#588e81cb45c072000a68ac18'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58715175d739e95500ac4fca'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26d0d584d35e41049fa95cdeb51a6c2b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58715175d739e95500ac4fca'>Stephen Kearney</a>
</div>
<a UTCms='1485734347000' class='quanto-date posted-at response-posted-at' href='#588e81cb45c072000a68ac18'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve been experimenting with a cashless Golden Butterfly portfolio (VTI, VBR, GLD, TLT in equal proportions) that also incorporates time-out periods when the portfolio&#39;s total price (indexed daily) is more than 1% below its 200 SMA.  The time-outs don&#39;t really improve returns but they do reduce draw-downs and the angst that accompanies them.  For backtesting I&#39;m using 1x leverage and the performance numbers for 1/3/2005 - 1/27/2017 are: returns 158%, alpha 0.06, beta 0.23, sharpe  0.97, sortino 1.40, volatility 0.08, max draw-down -10%.  During the 12 year period there were four out-of-market breaks while the portfolio was below the 200 SMA.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588ee9c2d62864000a3c6a81' id='588ee9c2d62864000a3c6a81'>
<a href='#588ee9c2d62864000a3c6a81'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1485760962000' class='quanto-date posted-at response-posted-at' href='#588ee9c2d62864000a3c6a81'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A different way of keeping track of orders added to the JR Golden Butterfly code above. The first column is minute of the trading day 390.</p>

<pre><code>2007-01-03 06:31 pvr:394 INFO 2007-01-03 to 2017-01-27  $10000  2017-01-30 01:43 US/Eastern  
2007-01-10 07:30 _orders:298 INFO   60   Buy 63 IAU at 60.25   cash 10000  
2007-01-10 07:30 _orders:298 INFO   60   Buy 53 RPG at 35.75   cash 10000  
2007-01-10 07:30 _orders:298 INFO   60   Buy 58 RPV at 33.53   cash 10000  
2007-01-10 07:30 _orders:298 INFO   60   Buy 48 RZG at 39.82   cash 10000  
2007-01-10 07:30 _orders:298 INFO   60   Buy 46 RZV at 41.17   cash 10000  
2007-01-10 07:30 _orders:298 INFO   60   Buy 85 TLT at 88.92   cash 10000  
2007-01-10 07:31 _orders:298 INFO   61      Bot 40/63 IAU at 60.27   cash 7588  
2007-01-10 07:31 _orders:298 INFO   61         RPG 53 unfilled  
2007-01-10 07:31 _orders:298 INFO   61         TLT 85 unfilled  
2007-01-10 07:31 _orders:298 INFO   61         RZG 48 unfilled  
2007-01-10 07:31 _orders:298 INFO   61         RZV 46 unfilled  
2007-01-10 07:31 _orders:298 INFO   61         RPV 58 unfilled  
2007-01-10 07:32 _orders:298 INFO   62         RPG 53 unfilled  
2007-01-10 07:32 _orders:298 INFO   62         TLT 85 unfilled  
2007-01-10 07:32 _orders:298 INFO   62         RZG 48 unfilled  
2007-01-10 07:32 _orders:298 INFO   62         RZV 46 unfilled  
2007-01-10 07:32 _orders:298 INFO   62         RPV 58 unfilled  
2007-01-10 07:33 _orders:298 INFO   63         RPV 58 unfilled  
2007-01-10 07:33 _orders:298 INFO   63         RZG 48 unfilled  
2007-01-10 07:33 _orders:298 INFO   63         RPG 53 unfilled  
2007-01-10 07:33 _orders:298 INFO   63         RZV 46 unfilled  
2007-01-10 07:33 _orders:298 INFO   63      Bot 67/85 TLT at 88.94   cash 244  
 .........  
</code></pre>

<p>Since there are so many unfilled I added an option for logging those and turned it off. Also updated the <a href="https://www.quantopian.com/posts/track-orders">source of track_orders()</a>. So the output then looks like ...</p>

<pre><code>2007-01-10 07:30 _orders:290 INFO   60   Buy 63 IAU at 60.25   cash 10000  
2007-01-10 07:30 _orders:290 INFO   60   Buy 53 RPG at 35.75   cash 10000  
2007-01-10 07:30 _orders:290 INFO   60   Buy 58 RPV at 33.53   cash 10000  
2007-01-10 07:30 _orders:290 INFO   60   Buy 48 RZG at 39.82   cash 10000  
2007-01-10 07:30 _orders:290 INFO   60   Buy 46 RZV at 41.17   cash 10000  
2007-01-10 07:30 _orders:290 INFO   60   Buy 85 TLT at 88.92   cash 10000  
2007-01-10 07:31 _orders:290 INFO   61      Bot 40/63 IAU at 60.27   cash 7588  
2007-01-10 07:33 _orders:290 INFO   63      Bot 67/85 TLT at 88.94   cash 244  
2007-01-10 07:45 _orders:290 INFO   75      Bot 12/58 RPV at 33.51   cash -1760  
2007-01-10 07:54 _orders:290 INFO   84      Bot 12/46 RZV at 41.28   cash -2256  
2007-01-10 08:11 _orders:290 INFO  101      Bot 5/53 RPG at 35.71   cash -2436  
2007-01-10 08:39 _orders:290 INFO  129      Bot 5/48 RZG at 39.57   cash -4035  
.........
</code></pre>

<p>You can keep an eye on any <strong>intraday</strong> margin-leverage using <a href="https://www.quantopian.com/posts/pvr">PvR</a>, this algo is ok along that line. You expected just 2 and achieved it. Meanwhile cash did dip below zero to -$47,063. Return with margin accounted for is 189%. </p>

<p>@VY from above: Yes, I tried different scheduling, separating buy/sell and many things, couldn&#39;t beat your result.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589371e45aa1af000d543ee5' id='589371e45aa1af000d543ee5'>
<a href='#589371e45aa1af000d543ee5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1486057956000' class='quanto-date posted-at response-posted-at' href='#589371e45aa1af000d543ee5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have updated the first post with suggestions made in this thread. Thanks to everyone for your constructive feedback.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58945e1b09daaa68e9ccc92b' id='58945e1b09daaa68e9ccc92b'>
<a href='#58945e1b09daaa68e9ccc92b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1486118427000' class='quanto-date posted-at response-posted-at' href='#58945e1b09daaa68e9ccc92b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Jake,</p>

<p>Presumably, by &quot;long-term&quot; you mean retirement savings?  Or maybe to pay for your kids&#39; college expenses?  Or a nest egg, so you can have an &quot;encore career&quot; at 55?</p>

<p>As a baseline, you might consider what things would look like if you simply plunked your cash into one of the <a href="https://investor.vanguard.com/mutual-funds/target-retirement/#/">Vanguard Target Retirement Funds</a>, and forgot about it (apparently, you have &gt; $25K, since you are talking about margin, which is more savings than most folks).</p>

<p>I guess I&#39;m pretty skeptical that there would be any long-term advantage to margin and the present &quot;incredibly low rates (currently 2.16 %).&quot;  For one thing, it appears that you can&#39;t use margin in an IRA (see <a href="http://www.fool.com/knowledge-center/can-you-trade-on-margin-in-an-ira.aspx">http://www.fool.com/knowledge-center/can-you-trade-on-margin-in-an-ira.aspx</a> ).  So, you lose the tax advantage, which could be a pretty big hit over time.  Secondly, your 2% loan is collateralized, and the risk is managed dynamically.  So, over 40 years (or whatever your &quot;long-term&quot; time horizon), you need to take into account that you may need to return some or all of the the loan principal.  The other issue is that you need a model for the margin interest versus time.  If the current rate is &quot;incredibly low&quot; then it will go up, right?</p>

<p>The other angle is that the typical advice is to have at least 6 months of your current salary, if not more, of your savings set aside as emergency funds.  The risk is, if you don&#39;t, then you&#39;ll end up dipping into your long-term investments when &quot;life happens&quot; (e.g. when you lose your job, due to a big downturn in the economy, when your investments will be down, too...double whammy).  So, you have to cover the risk of needing to pull out of your investment.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5894b1ca09daaa62afccc881' id='5894b1ca09daaa62afccc881'>
<a href='#5894b1ca09daaa62afccc881'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1486139850000' class='quanto-date posted-at response-posted-at' href='#5894b1ca09daaa62afccc881'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for your thoughts, Grant!</p>

<p>This strategy is being used in a joint brokerage account whose funds will not be withdrawn until retirement. Any extra savings we have, we stash away in this account.</p>

<p>To address your concerns:</p>

<ol>
<li>We are already maxing out our 401(k)s and IRAs and are using this account as a means to put back more for retirement. So, we can&#39;t help that these investments aren&#39;t in a tax-advantaged account, but given the minimal selling involved in this strategy, most capital gains will be taxed at the long-term rate.<br></li>
<li>The loan has to be repaid at some point, yes. I have counted on repayment being when we are ready for retirement--that&#39;s when we&#39;ll invest free of margin. In the years leading up to retirement we plan to wean ourselves off of margin.<br></li>
<li>I have factored increasing margin rates in other algorithms to help see a picture of the real costs of borrowing and its effects on the portfolio. Simulated margin rate logic is not included in this algorithm because this is the version I&#39;m live-trading.<br></li>
<li>We have an emergency fund set aside in our checking account. I agree 100% though, a sizable emergency fund should be established before considering an aggressive investment strategy.</li>
</ol>

<p>You reference my note of today&#39;s low rates a couple times... I do think the rates are very reasonable and worth considering at 2.16%. Myself, 3.5% would be about the maximum I would feel comfortable using for long-term investing. If rates shoot up past my threshold I&#39;ll be running to a Robinhood account, because if I&#39;m not using leverage, what&#39;s the point in tolerating IB&#39;s commissions? I don&#39;t need any of their research or trading tools, just a place to invest. Just my $0.02.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e94602f0262d600445fcfca' id='5e94602f0262d600445fcfca'>
<a href='#5e94602f0262d600445fcfca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1586782255000' class='quanto-date posted-at response-posted-at' href='#5e94602f0262d600445fcfca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>My simple rebalanced portfolio(above) 3 year later.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e946b05c4d2481bd4183cc4' id='5e946b05c4d2481bd4183cc4'>
<a href='#5e946b05c4d2481bd4183cc4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1586785029000' class='quanto-date posted-at response-posted-at' href='#5e946b05c4d2481bd4183cc4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Still hung up on the contents of the portfolio, eh? ;) The whole point of my algorithm was to show another way to think about ordering to a target percent. You&#39;re using 
<code>order_target_percent</code>, which is what I started with, but abandoned because it was missing a few features that I needed:</p>

<ul>
<li>It does not come with a built-in tolerance on the target percentages (e.g. 25% Â± 3%) and therefore racks up commissioning fees on unnecessary rebalancing.<br></li>
<li>It can leave some of your cash uninvested even though there&#39;s enough to buy at least one more share.<br></li>
<li>Using it to rebalance to a target leverage can lock in losses in a bear market because it causes you to sell the whole way down.<br>

<ul>
<li>If you&#39;re trading on margin, you want to let your leverage increase so that you can ride out the downturn. The ability to increase leverage is what makes a Portfolio Margin account so attractive.</li>
</ul></li>
</ul>

<p>I think <code>order_target_percent</code> is great if you don&#39;t invest on margin, have a brokerage account with no commissioning fees, and don&#39;t mind leaving a bit of your cash uninvested.</p>

<p>However, the original purpose of this thread--functionally speaking--was to show a way to fine-tune the functionality of <code>order_target_percent</code>.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e949a540262d600445fd213' id='5e949a540262d600445fd213'>
<a href='#5e949a540262d600445fd213'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1586797140000' class='quanto-date posted-at response-posted-at' href='#5e949a540262d600445fd213'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is an update of the same algorithm with the last @Jake leverage setting (1.9).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e949e292e94de00484fc01d' id='5e949e292e94de00484fc01d'>
<a href='#5e949e292e94de00484fc01d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1586798121000' class='quanto-date posted-at response-posted-at' href='#5e949e292e94de00484fc01d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Neither your original post nor your recent updates are on topic. All that your algorithms have effectively done is change the assets held in the portfolio, which adds no value to the discussion of building an algorithm for long-term investors that fine-tunes 
<code>order_target_percent</code>. Discussions on portfolio allocations can be held elsewhere. I&#39;d appreciate you removing the clutter from this thread.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e94abe0c51a9f099e6c19fb' id='5e94abe0c51a9f099e6c19fb'>
<a href='#5e94abe0c51a9f099e6c19fb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1586801632000' class='quanto-date posted-at response-posted-at' href='#5e94abe0c51a9f099e6c19fb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jake,</p>

<p>The topic of this thread is <strong>&quot;Long-term investing on margin&quot;.</strong><br>
And this algo is one of the best easy solutions for long-term investors.<br>
Look at the chart above is not it?</p>

<p>You may trade it monthly, quarterly, yearly .</p>

<p>Listen what other people said in this thread:</p>

<p>Dan Whitnable:</p>

<p><em>@Vladimir, I&#39;ve seen you post variations of your strategy other times in the forums here and<br>
want to say thank you. It focused me on the basics of quant investing.<br>
Rather than benchmarking against SPY I benchmark now against the numbers for<br>
a balanced portfolio such as this.</em> </p>

<p>Blue Seahawk:</p>

<p><em>@VY : Yes, I tried different scheduling, separating buy/sell and many things, couldn&#39;t beat your result.</em></p>

<p>Do you think they are wrong?</p>

<p>I&#39;d appreciate you removing your post above.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e94af7cc51a9f099e6c1a1e' id='5e94af7cc51a9f099e6c1a1e'>
<a href='#5e94af7cc51a9f099e6c1a1e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1586802556000' class='quanto-date posted-at response-posted-at' href='#5e94af7cc51a9f099e6c1a1e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You don&#39;t seem to understand that I wasn&#39;t touting the example <em>portfolio</em> as an exemplary one; I was only showing an <em>algorithm</em> that others can use for their long-term holdings. You seem to have read the title and presumed I was asking how to construct a balanced portfolio.</p>

<p>You are trying to make a point that the assets in your portfolio are more balanced than those in the example portfolio. Sure. Doesn&#39;t matter. Moot point. The focus is the code, which performs similar-but-fine-tuned functionality compared to 
<code>order_target_percent</code>. The fact that you&#39;re arguing for a different set of holdings in the portfolio is irrelevant. Hence, if you want to advocate for particular set stocks/ETFs/asset class allocations, this thread isn&#39;t the place.</p>

<p>If you have suggestions for ways to improve the decision-making logic of <code>order_target_percent</code> or some variation thereof, targeted at long-term investors, that would be relevant.</p>

<p>If everyone else did what you&#39;re doing, this post would be filled with 100 different clones of the same algorithm with a different set of holdings. That adds no value to this discussion.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e94c3f5202be663399a2e99' id='5e94c3f5202be663399a2e99'>
<a href='#5e94c3f5202be663399a2e99'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1586807797000' class='quanto-date posted-at response-posted-at' href='#5e94c3f5202be663399a2e99'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>First, I usually do not comment on this kind of strategy. Initial capital too low. But nonetheless, there are interesting things in it.</p>

<p>The original strategy has its merits for small accounts. At least, it outperforms market averages.</p>

<p>I prefer @Vladimir&#39;s simplification. Going from 250 to 11 lines of code, and still producing higher returns.</p>

<p>The strategy overall could have supported leveraging, even at 1.9, and higher stakes.</p>

<p>The attached algo was done using @Vladimir&#39;s version with $10 million as initial capital over the period 01-01-2003 to 9-04-2020 (about 17.16 years). My interest in is long-term strategies, the reason for my longer trading interval and the higher stakes. </p>

<p>I added some code to estimate the leveraging costs to see its impact on the overall return. </p>

<p>The estimated leveraging cost for this $10 million portfolio was in the vicinity of $25.5 million. Not a negligible sum, but the trading strategy would still have a net liquidation value of about $115 million. Netting the portfolio a 15.3% CAGR over the period.</p>

<p>Considering that ETFs were used and they usually do not go bankrupt, it would have been a simple and applicable trading strategy. It would have survived and performed reasonably well. At least above market averages.</p>

<p>@Vladimir&#39;s simplifications should be welcomed. They did simplify the code considerably. Sorry, I have not taken the time to read the original code.</p>

<p>The 
<code>
order_target_percent  
</code> does not matter much here. Right from the start, the fix-fraction weights are set in stone making the strategy rebalance periodically on those weights. Ways to improve further would be to modulate the leveraging and the weights depending on the state of the market. But I will not take the time to do such a thing. I find the CAGR still too low.</p>

<p>Nonetheless, going for higher stakes has its drawbacks too. For instance, due to the 4-ETF scenario, the ending bet size comes in at $35 million each. And one should realize that those kind of bets would be required to achieve the above 15.3% CAGR. Also, about 19% of the total potential portfolio value would have been for paying those leveraging fees.</p>

<p>Whatever way a trading strategy is improved, meaning higher CAGR, less volatility, or whatever, including changing the ETF selection, it should be fine. You are in a game where the outcome âthe way you like itâ outclasses everything else. Notwithstanding, I still prefer @Vladimir&#39;s version.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e94c945202be609599a3367' id='5e94c945202be609599a3367'>
<a href='#5e94c945202be609599a3367'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1586809157000' class='quanto-date posted-at response-posted-at' href='#5e94c945202be609599a3367'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the effort you put into evaluating the strategy, Guy.</p>

<p>I think the points I was trying to emphasize were lost. Vladimir&#39;s simple code is wonderful if you don&#39;t care about the nuances of your rebalancing strategy. I wanted to have a custom tolerance for when to trigger a rebalance of a held asset. Also, I was trading with a small account, so it mattered to me if 
<code>order_target_percent</code> left ~$300 cash sitting in the account--I wanted it to be invested. These are the issues that the original algorithm solved.</p>

<p>If you don&#39;t care about those nuances, by all means, use <code>order_target_percent</code>; it&#39;ll make your code much simpler.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e94d0502e94de681f4fb7c0' id='5e94d0502e94de681f4fb7c0'>
<a href='#5e94d0502e94de681f4fb7c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1586810960000' class='quanto-date posted-at response-posted-at' href='#5e94d0502e94de681f4fb7c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Blue Albatross, trading decisions are made on EOD data. There will be, at times (often), a discrepancy between the EOD closing price and the 9:31 price the following day or any other time during that day. Also, all trade quantities are floored to an integer value since fractional shares are not allowed and are based on the EOD price. This to say that some cash should stay in the account quite often. </p>

<p>Occasionally, especially in a leveraging scenario with fix-fraction weights, you might find a weight has been marginally exceeded too. But also often we might not see, or predetermine that the leverage will come in at 1.90 or 1.92 for instance due to our limits in predicting what is coming. You have variance in the game, and part of it is expressed in the ongoing cash left in the account. The question should be: can we predict based on EOD prices, that we could have bought 1 more share or two?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e94d8dbc4d2484bb3183d87' id='5e94d8dbc4d2484bb3183d87'>
<a href='#5e94d8dbc4d2484bb3183d87'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1586813147000' class='quanto-date posted-at response-posted-at' href='#5e94d8dbc4d2484bb3183d87'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Blue Albatross, I opted to test the no leverage scenario which would tend to give a different picture of the strategy. Doing so gave an 8.8% CAGR over those 17.16 years. No better than having put all the money in SPY, for instance.</p>

<p>Evidently, there were no leveraging fees. It would appear as if the original strategy and @Vladimir&#39;s version made more than the market average only due to the leverage used.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e94f376c4d248033d183dbd' id='5e94f376c4d248033d183dbd'>
<a href='#5e94f376c4d248033d183dbd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584c2fb90ec9ac00150008cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584c2fb90ec9ac00150008cd'>Blue Albatross</a>
</div>
<a UTCms='1586819958000' class='quanto-date posted-at response-posted-at' href='#5e94f376c4d248033d183dbd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There were no leveraging fees calculated in because I posted the algorithm that I was live-trading. My &quot;test&quot; version of this algorithm did have fees calculated in and thus had a drag.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e95652002eb2b6c2d96041f' id='5e95652002eb2b6c2d96041f'>
<a href='#5e95652002eb2b6c2d96041f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1586849056000' class='quanto-date posted-at response-posted-at' href='#5e95652002eb2b6c2d96041f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In my first post in this thread on Jan 28, 2017 I mention:</p>

<p><a href="https://www.quantopian.com/posts/long-term-buy-and-hold-on-margin#588d7a2039ce8e000d23f99e" rel="nofollow">Long-term buy-and-hold on margin works much better by any metrics on balanced portfolio</a>
and offered <a href="https://www.quantopian.com/posts/long-term-buy-and-hold-on-margin#588d85f2030e6f000d99f971" rel="nofollow">simple code</a></p>

<p>Here is out of sample performance comparison of the original and my simple balanced<br>
version for &quot; long-term-buy-and-hold-on-margin strategies&quot;.</p>

<p>Congratulation Jake (Blue Albatross) you got -53.048% drawdown!<br>
Now you need to make ~110% just to be even.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ee62e5e2609063b0210fc66' id='5ee62e5e2609063b0210fc66'>
<a href='#5ee62e5e2609063b0210fc66'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584468444977110012000d34'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/88fa8f3148c1728ab4fb9acadc4ac88f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584468444977110012000d34'>Alexander M</a>
</div>
<a UTCms='1592143454000' class='quanto-date posted-at response-posted-at' href='#5ee62e5e2609063b0210fc66'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Where are QQQ, XLP, TLT and IEF based on?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ee6435b71adbb004250ba98' id='5ee6435b71adbb004250ba98'>
<a href='#5ee6435b71adbb004250ba98'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1592148827000' class='quanto-date posted-at response-posted-at' href='#5ee6435b71adbb004250ba98'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><em>Where are QQQ, XLP, TLT and IEF based on?</em> </p>

<p>QQQ is an Invesco exchange-traded fund based on the Nasdaq-100 Index<br>
<a href="https://www.invesco.com/us-rest/contentdetail?contentId=3a48e01e98630410VgnVCM10000046f1bf0aRCRD&dnsName=us&audienceType=investors" rel="nofollow">https://www.invesco.com/us-rest/contentdetail?contentId=3a48e01e98630410VgnVCM10000046f1bf0aRCRD&amp;dnsName=us&amp;audienceType=investors</a></p>

<p>XLP is State Street Global Advisors Consumer Staples Select Sector SPDR Fund<br>
<a href="https://finance.yahoo.com/quote/XLP/profile?p=XLP" rel="nofollow">https://finance.yahoo.com/quote/XLP/profile?p=XLP</a></p>

<p>TLT is iShares 20+ Year Treasury Bond ETF<br>
<a href="https://finance.yahoo.com/quote/TLT/profile?p=TLT" rel="nofollow">https://finance.yahoo.com/quote/TLT/profile?p=TLT</a></p>

<p>IEF is iShares 7-10 Year Treasury Bond ETF (IEF)<br>
<a href="https://finance.yahoo.com/quote/IEF/" rel="nofollow">https://finance.yahoo.com/quote/IEF/</a>  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/long-term-investing-on-margin'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/long-term-investing-on-margin'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#197f7c7c7d7b787a7259686c78776d7669707877377a7674">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
