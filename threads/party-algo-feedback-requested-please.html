<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
PARTY Algo - Feedback requested please
</title>
<meta content='...or Pure Alpha Risk pariTY! Someone called Ray Dalio apparently had a similar idea ;). This is all &#39;in-sample&#39; of course, but it appears to scale quite well to over 100mm and even higher, at least in simulation. Thanks to the excellent Risk Pipeline it has minimal exposure to the market, sectors, or any of the common risk factors. What do I do now? Wait for 6 months and hope it doesn&#39;t do too poorly out of sample?  If anyone has any feedback on it I&#39;d be all ears. The main drawbacks as I...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="wJ/MykQZ+sQ3Mu5lA83N864jnPhdIUXQcOJ5zNYgAYm8+bqH5u8oJ44vt1RMImWHlq2/kSftUMvy7aKmfGVjMg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=true;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/party-algo-feedback-requested-please' property='og:url'>
<meta content='PARTY Algo - Feedback requested please' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/party-algo-feedback-requested-please' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='PARTY Algo - Feedback requested please' property='og:title'>
<meta content='...or Pure Alpha Risk pariTY! Someone called Ray Dalio apparently had a similar idea ;). This is all &#39;in-sample&#39; of course, but it appears to scale quite well to over 100mm and even higher, at least in simulation. Thanks to the excellent Risk Pipeline it has minimal exposure to the market, sectors, or any of the common risk factors. What do I do now? Wait for 6 months and hope it doesn&#39;t do too poorly out of sample?  If anyone has any feedback on it I&#39;d be all ears. The main drawbacks as I...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/party-algo-feedback-requested-please">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5af923bbd5aad8004cfa271d'>
<div class='post-container' data-post-id='5af923bbd5aad8004cfa271d' id='5af923bbd5aad8004cfa271d'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>PARTY Algo - Feedback requested please</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1526277051000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=PARTY Algo - Feedback requested please&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fparty-algo-feedback-requested-please%3Futm_source%3Dwebsite_share%26utm_campaign%3Dparty-algo-feedback-requested-please%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fparty-algo-feedback-requested-please%3Futm_source%3Dwebsite_share%26utm_campaign%3Dparty-algo-feedback-requested-please%26utm_medium%3Dlinkedin&amp;title=PARTY+Algo+-+Feedback+requested+please+%28Joakim+Arvidsson+%28Cream+Mongoose%29%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Seeking Help' data-tag-id='55c50e7d8d4710ec6e000003' href='/posts/tag/Seeking-Help/newest'>Seeking Help</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Contest' data-tag-id='55c50e7d8d4710ec6e000006' href='/posts/tag/Contest/newest'>Contest</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/party-algo-feedback-requested-please?utm_source=website_share&amp;utm_campaign=party-algo-feedback-requested-please&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Joakim Arvidsson (Cream Mongoose)" />
<div class='body-text'>
<div class='body-text-container post-body'><p>...or Pure Alpha Risk pariTY! Someone called Ray Dalio apparently had a similar idea ;). This is all &#39;in-sample&#39; of course, but it appears to scale quite well to over 100mm and even higher, at least in simulation. Thanks to the excellent Risk Pipeline it has minimal exposure to the market, sectors, or any of the common risk factors. What do I do now? Wait for 6 months and hope it doesn&#39;t do too poorly out of sample? </p>

<p>If anyone has any feedback on it I&#39;d be all ears. The main drawbacks as I see them:</p>

<ol>
<li><p>Sharpe dipping below 1 (and zero) a bit too frequently and for too long. Does this automatically disqualify me for allocation consideration?</p></li>
<li><p>It tends to have a &#39;Sell in May and go away&#39; tendency where it doesn&#39;t do too well for a few months from around May each year. Not really sure how to neutralise or factorise this however. Maybe add a seasonal short factor with a long hedge?</p></li>
<li><p>Net results from my shorts tend to be negative. Should I try to identify (using Alphalens?) the factors that contribute the most to the short losses and try to reduce the short weights for those factors? How does one go about doing this? Or am I running a risk of overfitting it too much then?</p></li>
</ol>

<p>What else have I overlooked? Appreciate any feedback from more experienced members or anyone from the Q Team. It meets all constraints for the contest and I have a previous version of it running in the contest but just for 8 days so far (I&#39;m one of the top performers in the short quantile of the contest ranking ;)). Happy to answer any questions that don&#39;t go too much into details of the factors themselves.</p>

<p>PS, thanks to @Guy Fleury for the tip to use (round_trips = True) when running the full tear sheet. It&#39;s turned on in this one and I find it quite helpful.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>26 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5af988571c4b45004668ce24' id='5af988571c4b45004668ce24'>
<a href='#5af988571c4b45004668ce24'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571d1bab2616ef09ce0002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a69e9457dd2832a76875bcae334d5baf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571d1bab2616ef09ce0002b6'>Dan Whitnable</a>
</div>
<a UTCms='1526302807000' class='quanto-date posted-at response-posted-at' href='#5af988571c4b45004668ce24'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><em>&quot;Net results from my shorts tend to be negative&quot;</em> Yes, that was my first observation. Get the return on those shorts up and you may see a big improvement. </p>

<p>I could be way off here (not knowing anything about your algo) but here are some high level ideas.</p>

<p>First, look at a typical way to determine securities to long and short. Often one takes a single factor (or group of factors), then long everything that does well and short everything that doesn&#39;t. However, not all factors are &#39;symmetric&#39; like this. Consider the case of stock buybacks. It may be the case that stocks with high share buybacks do well, but the converse, companies with no share buybacks don&#39;t necessarily do poorly. So, if this is the case in your algorithm, it may be helpful to use two factors, one for longs and one for shorts. </p>

<p>Second, it looks like the short positions are held longer than the longs. That may be what&#39;s driving those losses? Maybe try putting in some stop loss logic for the shorts or even a brute force &#39;max hold&#39; time. I&#39;ve used a &#39;blacklist&#39; type of logic in the past. Again, not sure how your algo works, but I generally think of a factor as providing insight into not only the absolute value of future performance (ie price up or price down) but also some expectation of timeframe. A factor predicts a price change within x days. It looks like the median duration of a trade is 17 days or so. Maybe close positions after 2x17 days and &#39;blacklist&#39; those so they cannot be held for another x number of days. The logic here is that those stocks aren&#39;t behaving the way one expects. There may be something &#39;odd&#39; going on like a news event or product review that the quant data doesn&#39;t capture. </p>

<p>Just some thoughts.</p>

<p>Good luck!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5af9ce6c1c4b45004868d279' id='5af9ce6c1c4b45004868d279'>
<a href='#5af9ce6c1c4b45004868d279'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1526320748000' class='quanto-date posted-at response-posted-at' href='#5af9ce6c1c4b45004868d279'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Joakim,</p>

<p>Great strategy. You&#39;re starting from the right point and thinking about exactly the right issues, these kinds of discussions are exactly what we want to encourage in the forums. Dan already contributed some good thoughts, here are some of mine.</p>

<ol>
<li><p>&quot;Sharpe dipping below 1 (and zero) a bit too frequently and for too long. Does this automatically disqualify me for allocation consideration?&quot;<br>
At a quick glance, your Sharpe looks good to me. Real algos will have real performance, and real performance means that your day over day Sharpe will move around a lot. I don&#39;t see anything there that would be automatically disqualifying.</p></li>
<li><p>&quot;It tends to have a &#39;Sell in May and go away&#39; tendency where it doesn&#39;t do too well for a few months from around May each year. Not really sure how to neutralise or factorise this however. Maybe add a seasonal short factor with a long hedge?&quot;<br>
It seems like the turnover is consistent through May, so I guess you have seasonality in the factor such that the model stops being predictive around then and you lose money on trading costs. With any kind of factor combination like this you want to understand each factor&#39;s behavior as best as possible and then make an intelligent decision about how to combine/hedge. Hedging adds estimation risk into your algorithm, so another approach might be to have a multifactor model in which the model which seasonal bias is weighted near zero in the months where it contributes noise.</p></li>
<li><p>&quot;Net results from my shorts tend to be negative. Should I try to identify (using Alphalens?) the factors that contribute the most to the short losses and try to reduce the short weights for those factors? How does one go about doing this? Or am I running a risk of overfitting it too much then?&quot;<br>
As with the last point, you should use alphalens to try to really understand the behavior of each factor independently. Understand the potential biases and try to use economic rationale to understand why they might exist. Each factor has noise, so it&#39;s totally possible to overfit by trying to overcorrect for biases that aren&#39;t there. Best practices to reduce overfitting here are to not tweak too much, come with a hypothesis about behavior before you look at the data, and check what the data is telling you against economic rationale behind the factor, and of course as always out of sample testing. If your factor is predictive on longs but anti-predictive on shorts, then you could even try splitting your model and using different factors for long and short weights.</p></li>
</ol>

<p>Long story short, use alphalens to really understand what&#39;s going on with each factor independently, then make intelligent decisions about how to combine. Each factor will be good at predicting some things, and bad at predicting others. It&#39;s better to allow each factor to work only in the universe in which it does well. That can mean weighting factors differently depending on what time of the year it is, whether you&#39;re weighting longs or shorts, or what time horizon you&#39;re trying to predict on. I believe it&#39;s fairly common to have models which are better at predicting longs vs. shorts, so one approach is to construct a strategy on long only positions, and then do an equal weighted short basket on random stuff from the Q1500 for the rest of it. You could even rotate your shorts far less frequently than your longs to reduce trading costs.</p>

<p>I hope the performance holds up out of sample, the approach you&#39;ve taken to being risk constrained and thinking about factor performance could really pay off. If any of this was unclear or there are more things I can help with let me know.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5af9d4f31c4b4548e868c5a6' id='5af9d4f31c4b4548e868c5a6'>
<a href='#5af9d4f31c4b4548e868c5a6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50f97faeaa4b3d78fd0000ee'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f18d32ae5bfc439c5b75bfa9f29e953a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50f97faeaa4b3d78fd0000ee'>Jessica Stauth</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1526322419000' class='quanto-date posted-at response-posted-at' href='#5af9d4f31c4b4548e868c5a6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>hi Joakim,</p>

<p>Looks great. A couple quick points and I&#39;d also be happy to connect offline to discuss. </p>

<p>I know it is painful to think about &#39;waiting for out of sample&#39; to accumulate, a good way to try to get around that for your own work is to hold data back from your model development process and then cross check or cross-validate when you feel our modeling is pretty much complete so you can try to avoid overfitting (yes, I know we could make this easier for users - its on the to do list!). In the meantime, if you&#39;d expect your algo to perform comparably over a prior 36-48 month period but you didn&#39;t use data from that period to develop the algo you can do a check now to see if you would see a similar (or at least positive) Sharpe over say 2010-2014. </p>

<p>Second Q is just to confirm you&#39;re using the fixed slippage model at 5bps of cost - I&#39;ve found that to be the most valid, albeit a bit conservative, cost tool we&#39;ve made available to date and we use it internally (as well as in the contest). </p>

<p>Please feel free to ping me at <a href="/cdn-cgi/l/email-protection#650f001616251410040b110a150c040b4b060a08"><span class="__cf_email__" data-cfemail="ddb7b8aeae9daca8bcb3a9b2adb4bcb3f3beb2b0">[email&#160;protected]</span></a> and I&#39;d be happy to chat more about your strategy&#39;s economic rationale and our diligence process.  Best, jess  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5afa878bab3287004c944482' id='5afa878bab3287004c944482'>
<a href='#5afa878bab3287004c944482'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1526368139000' class='quanto-date posted-at response-posted-at' href='#5afa878bab3287004c944482'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Dan,</p>

<p>Thanks so much for your feedback! I really appreciate it! It&#39;s all spot on too. None of my factors are very symmetrical, and in general I do tend to think of &#39;Long&#39; ideas, and then short the opposite. I might try to think of what stocks I&#39;d like to short instead (over-valued, highly leveraged, low return on capital, etc) and long the opposite instead. As Charlie Munger has been known to say: &quot;Invert! Always invert!&quot;</p>

<p>Having different weights for longs and shorts for each factor has also been on my list of things to try, and with the (round_trips = True) switch on in the full tear sheet I think it&#39;s evident that it might indeed be something worth exploring (minor tweaks mostly though as I worry about overfitting if I do too much). </p>

<p>Stop-loss orders I&#39;ve tried, but I don&#39;t think Optimise API supports them (I can understand it would be difficult to implement). Blacklisting though is a great idea though which I hadn&#39;t of and which I&#39;d like to try. Just need to figure out how to best do it first. :) Doesn&#39;t sound like it should be too difficult but I&#39;m a bit of a Python novice still. </p>

<p>@Jess &amp; @Delaney,</p>

<p>Thank you so much for taking the time to provide feedback. I really appreciate it! I&#39;ve only been on Quantopian actively for about 3 months now and it&#39;s been a steep learning curve (which I enjoy) so it&#39;s really encouraging to hear that I&#39;m on the right track.</p>

<p>@Delaney,</p>

<p>Great suggestion on #2. As you said, I&#39;ll need to spend some more time with AL to analyse each factor individually to try to see if I can find any seasonal trends (and predictability of longs vs shorts), and try to adjust the weights accordingly without overfitting. Thanks also for your comment on #1. I&#39;m glad you don&#39;t see it as a big issue. My aim is still to try to have sharpe remain above 1 consistently, even if it means the peaks will need to come down a bit. The challenge as always will be to not overfit (even if unconsciously and unintentionally). I&#39;m hoping this will be possible if I can reduce the impact of the short losses by adjusting weights.</p>

<p>Your comments and suggestions on #3 is spot on too. I think I have enough factors to work with, and I will indeed spend more time with AL to understand the strengths and weaknesses of each one of them and hopefully be able to make rational adjustments to reduce losing trades (and potentially trading costs). Would you recommend picking a sample period where the algo doesn&#39;t do too well in terms of sharpe or drawdown? For example April 2013 to April 2014 when sharpe is tanking? Or end of 2013 to end of 2013 based on the Underwater plot?</p>

<p>Also, would you be able to expand on your comment below? I understand the concept but not how to implement it when using Optimise API and Maximise_Alpha? How would I go about doing this? Could you point me in the right direction please?</p>

<blockquote>
<p>You could even rotate your shorts far less frequently than your longs<br>
to reduce trading costs.</p>
</blockquote>

<p>A separate question: while I&#39;ve specified to rebalance daily XX min after the open, does Optimize API automatically VWAP large orders over the day in order to get best fill prices (I imagine your PB would do this)? If not, would you recommend me implementing this to be able to handle more capital and get better fill prices? Looking at the tear sheets it seems to me that it&#39;s already doing this, or am I wrong? If that&#39;s the case, would it not be better to start directly from the open (MOO essentially, volume weighted) as volume tends to be highest at the open (and around close)? Or is the potential slippage cost from the higher volatility right after open not worth it? </p>

<p>@Jess,</p>

<p>Neither Commission nor Slippage was specified in this backtest so it should be using the default ones, which I believe is indeed 5 bps cost at 10% volume per minute bar. Just to be sure though, I&#39;ve now specified this under Initialize and I can&#39;t really see any difference in returns. </p>

<pre><code>def initialize(context):  
    set_slippage(slippage.FixedBasisPointsSlippage(basis_points=5, volume_limit=0.1))  
</code></pre>

<p>Awesome tip on the &#39;historical Out-of-Sample&#39; test as well! My research was mainly between 2014-2016 and then 2016-2018, so the attached (2011-2014) is somewhat out-of-sample, and it shows... While not completely horrible, the returns are not nearly as good, and unfortunately sharpe does indeed go quite a bit into negative territory for a while. This I&#39;ll need to address. </p>

<p>I would have liked to run backtests from further back (especially during GFC) but unfortunately I get the below error when I try anything earlier. I think it&#39;s because one of the Fundamentals from Morningstar that I&#39;m using may not be available then. Does that sound correct?</p>

<blockquote>
<p>TypeError: MaximizeAlpha() expected a value with dtype &#39;float64&#39; or<br>
&#39;int64&#39; for argument &#39;alphas&#39;, but got &#39;object&#39; instead.</p>
</blockquote>

<p>Though it may be of less interest now until I&#39;ve addressed the negative sharpe, I&#39;ll still send you and Delaney a direct mail explaining my high level rational behind the factors.</p>

<p>Attached tear sheet has slippage specified to 5 bps as above. I&#39;ll specifically specify this going forward. I&#39;ll attach another one for the full period as well, with slippage specified to 5 bps. Also, I wanted to show you full tear sheets with 100mm and over of initial capital, but unfortunately I run out of memory whenever I try this, even after killing all active notebooks and restarting kernel. Would this be related to amount of capital deployed or just a coincidence you think? As far as I can see, there&#39;s not much impact on returns with 10x more capital.</p>

<p>Again, thanks so much for the feedback! I find it all extremely helpful. I&#39;ll have plenty to work on for a while now but if you or anyone else have any more feedback, I&#39;m all ears. Cheers!</p>

<p>PS: Something funny is going on with the Common Returns from end of 2013. Is this a bug perhaps?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afa88e24761cf502c54fa9a' id='5afa88e24761cf502c54fa9a'>
<a href='#5afa88e24761cf502c54fa9a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1526368482000' class='quanto-date posted-at response-posted-at' href='#5afa88e24761cf502c54fa9a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Same backtest as the first one, but with slippage specifically set to 5bps at 10% volume.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afa8e1fe6b04a003f5d4e6c' id='5afa8e1fe6b04a003f5d4e6c'>
<a href='#5afa8e1fe6b04a003f5d4e6c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1526369823000' class='quanto-date posted-at response-posted-at' href='#5afa8e1fe6b04a003f5d4e6c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Full period backtest for as far back I&#39;m able to go. Slippage set to <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4a7f283a390a7b7a">[email&#160;protected]</a>% volume/minute.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afaa20eab32870043944723' id='5afaa20eab32870043944723'>
<a href='#5afaa20eab32870043944723'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1526374926000' class='quanto-date posted-at response-posted-at' href='#5afaa20eab32870043944723'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In your backtest 5af8f212a8c1f844ac870815, the Average Risk Factor Exposure is 0.00 across the board.  This seems kinda anomalous to me and possibly over-constrained.  What constraints did you use for the optimizer (assuming that you used the optimizer to constrain the risks)?  Are you using 
<code>RiskModelExposure(risk_model_loadings, version=opt.Newest)</code>?</p>

<p>You might consider the turnover.  I&#39;ve tried the optimize API turnover constraint, by iterating over the max turnover:</p>

<pre><code>    turnover = np.linspace(0.05,0.65,num=100)  
    for max_turnover in turnover:  
        constraints.append(opt.MaxTurnover(max_turnover))  
        if context.init:  
            constraints = constraints[:-1]  
            context.init = False  
        try:  
            order_optimal_portfolio(  
                objective=objective,  
                constraints=constraints,  
                )  
            record(max_turnover = max_turnover)  
            return  
        except:  
            constraints = constraints[:-1]  
</code></pre>

<p>The above code avoids the crash that sometimes occurs when using a fixed turnover constraint.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afb24ba4761cf625254fdef' id='5afb24ba4761cf625254fdef'>
<a href='#5afb24ba4761cf625254fdef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1526408378000' class='quanto-date posted-at response-posted-at' href='#5afb24ba4761cf625254fdef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant, that&#39;s some awesome code. Now I wish there was some better place to post these snippets. I&#39;ll see if we can get it integrated into some of our templates if that&#39;s okay with you.</p>

<p>Joakim,<br>
One point about #1, Sharpe ratio isn&#39;t really a metric you should be trying to &#39;optimize&#39; in an engineering sense. The way you want to use it is as a comparison. Test multiple models, measure their information coefficient and other metrics, and then intelligently choose the best one. Then when testing different algorithms, see which one has the highest/most consistent Sharpe ratio. It will lead to a lot of overfitting if you think about trying to change/optimize/reach a certain Sharpe threshold. It&#39;s not a metric which can be changed, it&#39;s a response to the quality of your hypothesis/model, which is what you should be changing.</p>

<p>In general it&#39;s a good idea to focus on where your model doesn&#39;t work, as that&#39;s where you&#39;ll learn the most about why it and your hypothesis was wrong in some way. You should also be careful about getting obsessed with time periods over which it doesn&#39;t work, sometimes it&#39;s just random as to why it stops working and you can overfit to that period. I would just look at it overall, and then maybe each year individually and then focus in on certain time periods where it doesn&#39;t. The main question is whether there is a reason you can identify that it doesn&#39;t work. If you know the reason you can either change the model or choose to not use the model during those conditions.</p>

<p>&quot;Also, would you be able to expand on your comment below? I understand the concept but not how to implement it when using Optimise API and Maximise_Alpha? How would I go about doing this? Could you point me in the right direction please?&quot;</p>

<p>I just meant using your faster moving long factor to assign weights to your longs, and then use a pretty slow moving factor for your shorts. The optimizer will definitely muck with your shorts a bit and affect turnover, but that&#39;s life. The other thing to worry about is whether your factors are all scaled in the same space.</p>

<p><code>order_optimal_portfolio</code> just uses market orders for the sake of simulation. How it works when you receive an allocation is slightly different. In that case the <code>order_optimal_portfolio</code> computes the target portfolio and deltas, then sends the deltas to our trading team. The deltas are then routed through our prime broker&#39;s execution algorithms. I recommend just using <code>order_optimal_portfolio</code> at the start of end of day depending on your model. Vary the cost and slippage assumptions in your backtest to determine how robust your algorithm is to cost and slippage, if you determine it&#39;s a big issue, but the model is predictive, then you can ask us specifically if we think the model is still viable in a different execution environment. However as Jess said the best approach is probably just to use the 5bps model and go from there.</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5afb57d14761cf2a6b54fbb8' id='5afb57d14761cf2a6b54fbb8'>
<a href='#5afb57d14761cf2a6b54fbb8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1526421457000' class='quanto-date posted-at response-posted-at' href='#5afb57d14761cf2a6b54fbb8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Delaney - sure, you are welcome to build on the concept (your Python whizzes can code it better, I&#39;m certain).  Another thing to consider is adjusting the turnover based on a factor.  For example, when the market is more volatile, then perhaps use higher max turnover, but reduce the max turnover when the market is calmer (I have not tested this...just an example).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afb7896e6b04a00425d6058' id='5afb7896e6b04a00425d6058'>
<a href='#5afb7896e6b04a00425d6058'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1526429846000' class='quanto-date posted-at response-posted-at' href='#5afb7896e6b04a00425d6058'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Grant,</p>

<p>Yeah, looks a bit suspicious doesn&#39;t it? I do indeed use that exact code for the sector and common risk factor exposures, but of course I use much tighter parameters than what the default ones are in opt.Newest.</p>

<p>I do also restrict turnover, but I only use the below. I picked 20% because it seemed to allow for most of the natural turnover (roughly 2 std from the mean - estimated, not calculated), and hopefully limits that top 5% that may be overtrading. I also have 10 fingers and 10 toes that helped me determine that this was a good number :) . It did help improve returns a bit (from less trading costs I believe), which perhaps means I&#39;ve overfitted again? I haven&#39;t experienced a crash yet due to this constraint, but I might still try your code to see what it does. Hopefully it will at least help me learn numpy more, and what that method does (currently I have no clue).</p>

<pre><code>MAX_TURNOVER = 0.2

    constraints.append(opt.MaxTurnover(MAX_TURNOVER))  
</code></pre>

<p>Hi Delaney,</p>

<p>Awesome feedback as always, and point taken on the sharpe ratio and period picking. I&#39;ve been pretty paranoid about overfitting, but I now believe I&#39;ve been overfitting quite a bit since I was always thinking of how I can minimize volatility and maximise returns. I need a bit of a mindset change I think and tackle it from a different angle, the way you&#39;ve been suggesting. Easier said than done, but that&#39;s my goal now at least. Thanks for pointing it out.</p>

<p>Having a code snippet library (Grant&#39;s original idea?), organized into relevant sections, I also think is a great idea. I hope it happens. </p>

<p>I&#39;ll keep using 5bps slippage too as my default to manage my own expectations. I&#39;d rather be positively surprised than potentially disappointed from poor fill prices. </p>

<p>Off to research-land now to try to gain a better understanding of each factor. Thanks again for all your help!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afbf548a37ba900449c02f9' id='5afbf548a37ba900449c02f9'>
<a href='#5afbf548a37ba900449c02f9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1526461768000' class='quanto-date posted-at response-posted-at' href='#5afbf548a37ba900449c02f9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Joakim -</p>

<p>I&#39;m curious what algo performance you get with 
<code>RiskModelExposure(risk_model_loadings, version=opt.Newest)</code> without changing the defaults.  If you run <code>5af8f212a8c1f844ac870815</code> but comment out any default risk model over-rides, what does the tear sheet look like?</p>

<p>@ Delaney/Jess - Based on the contest rules, and the fact that they reflect what is required for a decent Q fund algo, my understanding is that using the default risk model constraints should be sufficient, correct?  In other words, if the default constraints are met, then one is at the point of diminishing returns in trying to further isolate specific returns?  Or is the idea that algo authors should strive to get common returns to zero?</p>

<p>@ Delaney - Regarding &quot;Now I wish there was some better place to post these snippets&quot; I&#39;d recommend thinking this through a bit, and doing some <a href="https://en.wikipedia.org/wiki/Systems_engineering">systems engineering</a> to get the solution right the first time.  If you think the turnover code above has legs, then you could stick it <a href="https://github.com/quantopian/research_public/">here</a> for starters.  I and other users could help with the systems engineering that needs to be applied to the more global problem of code being all over the place on Quantopian, and difficult to find (and knowing if it is current and will work with the present Q API).</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afcd367a116f522de1ee474' id='5afcd367a116f522de1ee474'>
<a href='#5afcd367a116f522de1ee474'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1526518631000' class='quanto-date posted-at response-posted-at' href='#5afcd367a116f522de1ee474'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant,</p>

<p>With the default constraints, the tear sheet reveals more than I&#39;m willing to share unfortunately, but in summary (I would attach screenshots if I knew how to), during the same period:</p>

<p>Total Returns<br>
38.27%  </p>

<p>Benchmark Returns<br>
57.06%  </p>

<p>Alpha<br>
0.07  </p>

<p>Beta<br>
0.07  </p>

<p>Sharpe<br>
1.80  </p>

<p>Sortino<br>
2.76  </p>

<p>Volatility<br>
0.05  </p>

<p>Max Drawdown<br>
-3.56%</p>

<p>Not nearly as good in other words. Roughly half of these Returns are from &#39;Common Returns&#39; and the other half &#39;Specific Returns.&#39; Beta to SPY moves around much more, mostly on the positive side, and just barely stays under 0.3. Some cut and paste stats from the tear sheet (can you paste in tables so the formatting is nicer?) below. Shorts still perform poorly, though slightly better perhaps due to a few big winning short trades (I&#39;d rather have lot&#39;s of small ones).</p>

<p>Summary stats   All trades  Short trades    Long trades<br>
Total number of round_trips 86729.00    46703.00    40026.00<br>
Percent profitable  0.51    0.39    0.64<br>
Winning round_trips 43882.00    18409.00    25473.00<br>
Losing round_trips  42847.00    28294.00    14553.00<br>
Even round_trips    0.00    0.00    0.00<br>
PnL stats   All trades  Short trades    Long trades<br>
Total profit    $3467543.30 $181500.75  $3286042.55<br>
Gross profit    $24847603.90    $13287403.23    $11560200.67<br>
Gross loss  $-21380060.60   $-13105902.48   $-8274158.12<br>
Profit factor   $1.16   $1.01   $1.40<br>
Avg. trade net profit   $39.98  $3.89   $82.10<br>
Avg. winning trade  $566.24 $721.79 $453.82<br>
Avg. losing trade   $-498.99    $-463.20    $-568.55<br>
Ratio Avg. Win:Avg. Loss    $1.13   $1.56   $0.80<br>
Largest winning trade   $57867.80   $33865.51   $57867.80<br>
Largest losing trade    $-48027.16  $-48027.16  $-25062.32<br>
Duration stats  All trades  Short trades    Long trades<br>
Avg duration    53 days 06:33:36.622594 54 days 20:44:21.915594 51 days 10:00:43.177359<br>
Median duration 23 days 23:57:00    27 days 00:02:00    20 days 00:00:00<br>
Longest duration    1064 days 23:59:00  1064 days 23:59:00  768 days 00:00:00<br>
Shortest duration   0 days 10:25:01 0 days 10:25:01 0 days 10:27:01<br>
Return stats    All trades  Short trades    Long trades<br>
Avg returns all round_trips 0.00%   0.00%   0.00%<br>
Avg returns winning 0.00%   0.01%   0.00%<br>
Avg returns losing  -0.00%  -0.00%  -0.00%<br>
Median returns all round_trips  0.00%   -0.00%  0.00%<br>
Median returns winning  0.00%   0.00%   0.00%<br>
Median returns losing   -0.00%  -0.00%  -0.00%<br>
Largest winning trade   0.50%   0.26%   0.50%<br>
Largest losing trade    -0.48%  -0.48%  -0.23%</p>

<p>Performance Relative to Common Risk Factors<br>
Summary Statistics<br>
Annualized Specific Return  3.89%<br>
Annualized Common Return    4.39%<br>
Annualized Total Return 8.43%<br>
Specific Sharpe Ratio   1.34<br>
Exposures Summary   Average Risk Factor Exposure    Annualized Return   Cumulative Return<br>
basic_materials -0.00   -0.28%  -1.10%<br>
consumer_cyclical   -0.02   -0.40%  -1.59%<br>
financial_services  0.08    1.29%   5.26%<br>
real_estate -0.04   -0.24%  -0.97%<br>
consumer_defensive  0.00    0.03%   0.13%<br>
health_care -0.02   -0.16%  -0.63%<br>
utilities   -0.01   -0.06%  -0.23%<br>
communication_services  -0.01   -0.04%  -0.17%<br>
energy  -0.04   0.34%   1.38%<br>
industrials 0.04    0.58%   2.33%<br>
technology  0.02    0.58%   2.34%  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afcda95a37ba948f49c0322' id='5afcda95a37ba948f49c0322'>
<a href='#5afcda95a37ba948f49c0322'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1526520469000' class='quanto-date posted-at response-posted-at' href='#5afcda95a37ba948f49c0322'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant, </p>

<p>Regarding your question to Delaney/Jess, I&#39;m not sure you&#39;ll get a response but have a look at the <a href="https://www.quantopian.com/allocation">Capital - Allocations page</a> and I think you&#39;ll find the answer there. Below are the relevant sections with my highlight in <strong>bold</strong>.  The way I read it is that the default constraints are just the very bare minimum and far from ideal (note that it seems to start becoming more interesting for an allocation at about half the default constraint values). They probably have the defaults this wide not to prevent or discourage too many people from entering the contest. </p>

<p>I think the more capital you have the less tolerance for Risk you have (in general). Not all my algos are constrained this much, but I wanted to see if I could find some &#39;Pure Alpha&#39; (not really, but a step closer at least) by minimising Risk exposure as much as possible (what I call Risk Parity - both terms shamelessly ripped off from Mr. Bridgewater). &#39;Optimal&#39; constraints for this algo is probably somewhere in between these extremes. </p>

<blockquote>
<p>Low Exposure to Sector Risk  We want algorithms that limit their<br>
exposure to any single stock market sector. While there are valid<br>
strategies that may be confined to one of a few sectors, or that<br>
specifically seek to predict and profit off of differences in<br>
performance across sectors, in all other cases we are looking for<br>
algorithms to limit their sector exposure. <strong>As a rule of thumb, we are<br>
looking for algorithms that seek to limit their maximum exposure to<br>
any single sector to less than 10%, and *ideally target an average<br>
exposure of as close to 0% as possible</strong>*. </p>
</blockquote>

<p>Low Exposure to Style Risk We  </p>

<blockquote>
<p>want algorithms that limit their exposure to well-known investment<br>
styles such as investing in small market capitalization companies over<br>
large companies. There are five investing styles we track: size,<br>
value, momentum, short-term reversal, and volatility. While there are<br>
valid strategies that exploit consistent exposures to these investment<br>
styles, we are looking for algorithms that limit their exposure as<br>
much as possible and seek to exploit novel relationships in the market<br>
to achieve consistent profits. <strong>As a rule of thumb we prefer algorithms<br>
that limit their maximum exposure to any single style to less than<br>
20%, and *ideally target an average exposure of as close to 0% as<br>
possible.</strong>*</p>
</blockquote>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afd3da5c5d2fe317a8ec1c4' id='5afd3da5c5d2fe317a8ec1c4'>
<a href='#5afd3da5c5d2fe317a8ec1c4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1526545829000' class='quanto-date posted-at response-posted-at' href='#5afd3da5c5d2fe317a8ec1c4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Joakim -</p>

<p>The page <a href="https://www.quantopian.com/allocation">https://www.quantopian.com/allocation</a> was updated at some point; I didn&#39;t realize that it would be advantageous to have risk exposures of ~ 0%.  This had not been clear to me; I was under the impression that a little &quot;breathing room&quot; would be allowed, and perhaps encouraged, based on the contest rules and ranking criterion of a simple return to volatility ratio.  In other words, no penalty for an allocation would result, so long as the algo stays within the default risk limits (including beta), and has a high return to volatility ratio (not exactly Sharpe ratio, and in fact, Quantopian shouldn&#39;t be using the term &quot;Sharpe ratio&quot; since most folks assume that the risk-free rate is subtracted, when in fact, it is not).</p>

<p>It would be interesting to hear from Jess/Delaney on this topic, since I have contest algos that has been doing pretty well (consistently in top 10), but now I&#39;m wondering if I need to revisit them to attempt to beat down the risk exposure to ~0% (and probably other stuff, like understanding the &quot;economic rationale&quot;).  Since I submitted my  entries to the contest, I have done almost nothing on Quantopian, thinking that I&#39;ll wait 6 months, and then if I have a case to plead, I&#39;ll get in touch with them for feedback.  As Jess offered to you, I&#39;d be glad to get feedback sooner.  Maybe I should be working to improve my algos, but it would be good to have some sense if it&#39;ll be worthwhile, beyond making money on the contest.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afe94320ab18f0048ad3f32' id='5afe94320ab18f0048ad3f32'>
<a href='#5afe94320ab18f0048ad3f32'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1526633522000' class='quanto-date posted-at response-posted-at' href='#5afe94320ab18f0048ad3f32'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Joakim - I&#39;ve followed your lead, and posted a tear sheet here:</p>

<p><a href="https://www.quantopian.com/posts/contest-algo-feedback">https://www.quantopian.com/posts/contest-algo-feedback</a></p>

<p>Your feedback would be welcome.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5afed20f2aca0914ea7d87d6' id='5afed20f2aca0914ea7d87d6'>
<a href='#5afed20f2aca0914ea7d87d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1526649359000' class='quanto-date posted-at response-posted-at' href='#5afed20f2aca0914ea7d87d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Cool! Will have a look over the weekend and give you my feedback.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5aff08dacbecbc004abc4b54' id='5aff08dacbecbc004abc4b54'>
<a href='#5aff08dacbecbc004abc4b54'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1526663386000' class='quanto-date posted-at response-posted-at' href='#5aff08dacbecbc004abc4b54'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Based on the contest rules, and the fact that they reflect what is required for a decent Q fund algo, my understanding is that using the default risk model constraints should be sufficient, correct? In other words, if the default constraints are met, then one is at the point of diminishing returns in trying to further isolate specific returns? Or is the idea that algo authors should strive to get common returns to zero?</p>
</blockquote>

<p>I would advise not spending time trying to over-optimize, and potentially overfit, the risk model constraints. We provide the default contest constraints as the box we would like every model to fit in. If you take a model and constrain it to those thresholds without destroying the signal, that&#39;s a good indication that there&#39;s good alpha there. There may be a good reason based on your model to try to constrain the risk even more, but generally think of it as a binary check. Returns positive? Check. Information Coefficient positive? Check. Retains signal when risk constrained in default box? Check. Performs out of sample? Check. That&#39;s mostly what you should be concerned with, after that you should just be intelligently combining more and more models to achieve the best signal/noise ratio possible.</p>

<blockquote>
<p>Regarding &quot;Now I wish there was some better place to post these snippets&quot; I&#39;d recommend thinking this through a bit, and doing some systems engineering to get the solution right the first time. If you think the turnover code above has legs, then you could stick it here for starters. I and other users could help with the systems engineering that needs to be applied to the more global problem of code being all over the place on Quantopian, and difficult to find (and knowing if it is current and will work with the present Q API).</p>
</blockquote>

<p>We <a href="https://github.com/quantopian/algorithm-component-library">did try this</a> a while back, but we didn&#39;t publicize the repo and didn&#39;t put any effort in beyond the original batch, so it didn&#39;t work out. I actually would like to try an experiment. Can you PR a new folder into <a href="https://github.com/quantopian/research_public">research_public</a> which contains this code snippet as its own file, maybe with a very short docstring description? In general I&#39;m happy to try letting users use that repo as a way to swap code snippets. It works for <a href="https://en.wikipedia.org/wiki/Horizontal_gene_transfer">bacteria</a> so why wouldn&#39;t it work for quant finance :) ? If the experiment goes well and people find that helpful we can re-evaluate then.</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5b00014acbecbc653ebc538d' id='5b00014acbecbc653ebc538d'>
<a href='#5b00014acbecbc653ebc538d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1526726986000' class='quanto-date posted-at response-posted-at' href='#5b00014acbecbc653ebc538d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Delaney - I submitted the PR to <a href="https://github.com/quantopian/research_public">research_public</a>, as you requested.  If y&#39;all want to improve it before posting, go for it.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b016818651b0e004cf7406c' id='5b016818651b0e004cf7406c'>
<a href='#5b016818651b0e004cf7406c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1526818840000' class='quanto-date posted-at response-posted-at' href='#5b016818651b0e004cf7406c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Delaney - There are a number of topics above that are analogous to <a href="https://en.wikipedia.org/wiki/Hyperparameter_optimization">hyperparameter optimization</a> from the ML domain--e.g. turnover, algo run &amp; order submission scheduling, number of stocks in portfolio, optimize API constraint values, etc.  They are all parameters that interact with the alpha factor, but are not the core of the strategy.  Within the context of the Q platform, and the development of type of algos you need for the fund, there could be a better defined, systematic approach, that would limit the risk of over-fitting, but at the same time allow for a full exploration and optimization of the hyperparameter space, in an automatic fashion.  When I get the chance, I&#39;ll add my input to <a href="https://www.quantopian.com/posts/what-type-of-content-would-you-like-to-see">https://www.quantopian.com/posts/what-type-of-content-would-you-like-to-see</a>.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b0207db651b0e0040f7490e' id='5b0207db651b0e0040f7490e'>
<a href='#5b0207db651b0e0040f7490e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1526859739000' class='quanto-date posted-at response-posted-at' href='#5b0207db651b0e0040f7490e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Karl,</p>

<p>Thank you - I appreciate and value your feedback! Good spotting on BPOP-1062. I had a look at the stock and it seems to meet at least some of the criteria in the strategy. I don&#39;t normally look at the individual stocks it trades, especially for this algo since concentration risk is pretty low. Do you think I should investigate further, or be concerned if the algo favour a certain stock?</p>

<p>Yes, I&#39;ve tried several different concentration levels, including 200, which as expected, gives me higher returns but higher volatility as well. For this one, I wanted to have as low volatility as possible, without impacting returns too much. 400 seems to give me a good balance. Optimal concentration is probably a lower number of max holdings though as you suggested.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b9f19d8a1745500411021fa' id='5b9f19d8a1745500411021fa'>
<a href='#5b9f19d8a1745500411021fa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1537153496000' class='quanto-date posted-at response-posted-at' href='#5b9f19d8a1745500411021fa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi All,</p>

<p>Just wanted to revisit this &#39;older&#39; post to see how my original PARTY algo has performed in the last 4 months&#39; with true OOS &#39;live&#39; data. Any and all feedback welcomed!</p>

<p>To me, it appears that it&#39;s actually performing &#39;better&#39; since May  16, 2018 than during the &#39;in-sample&#39; period. The &#39;red-live&#39; trading line appears to be moving along the <em>upper</em> bound of the <a href="https://blog.quantopian.com/bayesian-cone/" rel="nofollow">bayesian cone</a> in the &#39;Cumulative Returns&#39; graph... Is this a &#39;bad&#39; thing, and does this mean that the strategy is more likely to perform worse going forward, to average out the recent good performance? Or am I falling victim of the old &#39;<a href="https://en.wikipedia.org/wiki/Gambler%27s_fallacy" rel="nofollow">gamblers fallacy</a>&#39; with this type of thinking? I honestly don&#39;t know as I&#39;m no expert on probability or statistics (or gambling :)). </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b9f1db4a17455004710220d' id='5b9f1db4a17455004710220d'>
<a href='#5b9f1db4a17455004710220d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1537154484000' class='quanto-date posted-at response-posted-at' href='#5b9f1db4a17455004710220d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also, I&#39;m curious if the &#39;red peppering&#39; of OOS returns data outside of the in-sample boxes is a bad thing? Or is it still somewhat normally distributed?</p>

<p><img src="https://image-proxy.quantopian.com/3aa5859953ffb6c927ba01d89fba998611bc758b/68747470733a2f2f692e696d6775722e636f6d2f766a57317146652e6a7067" />  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b9fa5d25d11a70041e47915' id='5b9fa5d25d11a70041e47915'>
<a href='#5b9fa5d25d11a70041e47915'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/539133a0ca9962c7a9000124'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/40fd36f74ef482a61e96f7be42763d65?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/539133a0ca9962c7a9000124'>Charles Pich</a>
</div>
<a UTCms='1537189330000' class='quanto-date posted-at response-posted-at' href='#5b9fa5d25d11a70041e47915'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Joakim,</p>

<p>I think you&#39;re getting great OOS, probably a bit on the &quot;lucky&quot; side but still within expectations. Your last graph seems to confirm something I noticed in the tearsheet... which is that your algo seems to be getting more and more volatile since around 2017. That could explain the red dots that are out of the rectangles.</p>

<p>Edit:</p>

<p>Forgot about the rollling volatility graph ;).  Took a look and it&#39;s above average in 2018, but not &quot;more and more volatile&quot;. Sorry about that. That could still explain the red dots.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ba04e67b70a925a7a57b8d8' id='5ba04e67b70a925a7a57b8d8'>
<a href='#5ba04e67b70a925a7a57b8d8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1537232487000' class='quanto-date posted-at response-posted-at' href='#5ba04e67b70a925a7a57b8d8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Charles! I appreciate and agree with your feedback.</p>

<p>I do find it interesting that the strategy&#39;s returns tend to be more volatile during <em>low volatility</em> markets. I&#39;m not really sure the reason for this or if it&#39;s a good or a bad thing (I&#39;m leaning towards &#39;bad&#39; though). </p>

<p>I ran this backtest ID through the <a href="https://www.quantopian.com/posts/does-your-algorithm-perform-better-in-a-low-or-high-volatility-regime-see-how-to-measure-its-sensitivity" rel="nofollow">Risk On NB</a> (see attached below) to see if the strategy prefers a low or a high volatility market. It appears to be preferring a high volatility market. Again, not really sure if this is a good or a bad thing but leaning towards bad (perhaps indifferent in a portfolio of uncorrelated strategies).</p>

<p>Perhaps this could be one reason why the strategy has been more volatile since 2017, when we&#39;ve had a relatively low volatile market?</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ba255506dae9f004976e1f9' id='5ba255506dae9f004976e1f9'>
<a href='#5ba255506dae9f004976e1f9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/539133a0ca9962c7a9000124'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/40fd36f74ef482a61e96f7be42763d65?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/539133a0ca9962c7a9000124'>Charles Pich</a>
</div>
<a UTCms='1537365328000' class='quanto-date posted-at response-posted-at' href='#5ba255506dae9f004976e1f9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Looking again at the rolling volatility plot, and I don&#39;t think I see a negative correlation between your algo&#39;s returns volatility and the benchmark. I wouldn&#39;t be worried. It was a good idea to run the Risk-On notebook! It basically shows that your algo performs very well in both regimes. Really impressive, and all that with pure specific returns...</p>

<p>The only thing I would maybe be worried about is over-optimization. I&#39;ve had some curious results on my side when using the Max Turnover constraint, and squeezing the risk-model constraints. It might not be the case at all with your algo, but I&#39;d love to see how it performs if you relax the risk model exposure constraint a bit, and lets say, average your last few alpha vectors before sending them to the optimizer, instead of using the max turnover constraint. </p>

<p>Cheers!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ba2715ab25f33004762bf5c' id='5ba2715ab25f33004762bf5c'>
<a href='#5ba2715ab25f33004762bf5c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1537372506000' class='quanto-date posted-at response-posted-at' href='#5ba2715ab25f33004762bf5c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Charles, Ill see what I can do. From what I can remember, relaxing the Risk constraints increases both Returns and Volatility a bit. Optimal Sharpe might be with a bit less Risk constrained. </p>

<p>Removing MaxTurnover doesnt impact too much from what I remember. </p>

<p>What do you mean by this:</p>

<blockquote>
<p>average your last few alpha vectors before sending them to the<br>
optimizer</p>
</blockquote>

<p>Would you be able to provide a code snippet example?  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/party-algo-feedback-requested-please'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/party-algo-feedback-requested-please'>join Quantopian</a> to
post a reply.
</div>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#56303333323437353d16272337382239263f37387835393b">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
